// adwaita-web/scss/_card.scss
@use 'variables';
@use 'mixins';
@use 'sass:color';

// General .card style class from Libadwaita
// https://gnome.pages.gitlab.gnome.org/libadwaita/doc/main/style-classes.html#boxed-lists-cards
.adw-card, .card { // Allow .card as an alias for consistency with Libadwaita docs
  background-color: var(--card-bg-color);
  color: var(--card-fg-color); // Text color for content within the card
  border-radius: var(--border-radius-large); // Libadwaita cards use a larger radius
  padding: var(--spacing-m); // Default padding, can be overridden by specific components

  // Libadwaita cards typically have a subtle outer shadow and an inner "border" created by card-shade-color
  // The outer shadow is not explicitly defined as a variable in Libadwaita, but is part of the look.
  // The --card-shade-color is used for internal separators in boxed lists or for an inner border effect.
  // For a general card, we might apply a subtle shadow.
  // Box shadow for cards: a subtle outer shadow.
  // For the inner border effect common in boxed lists, that's usually applied to rows within.
  // For a standalone card, it might just have the background and shadow.
  box-shadow: 0 1px 2px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.05);

  // If a card is meant to look like a boxed list container, it might also have an effective "inner border"
  // This could be approximated by an inset shadow using --card-shade-color or by styling child elements.
  // For now, focusing on the standalone card appearance.

  display: block; // Cards are usually block elements

  &.activatable {
    // From Libadwaita: "If a widget with the .card style class also has the .activatable style class,
    // it will also have hover and active states similar to an activatable row inside a boxed list."
    cursor: pointer;
    transition: background-color 0.1s ease-out;

    &:hover {
      background-color: rgba(var(--card-fg-color-rgb), 0.05);
    }
    &:active {
      background-color: rgba(var(--card-fg-color-rgb), 0.08);
    }
     &:focus, &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color), 0 1px 2px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.05);
    }
  }
}

// `.adw-button.card` styling - when a button itself is styled as a card
// Libadwaita: "If the .card style class is applied to a GtkButton, it will get these states automatically"
.adw-button.card {
  // Reset button's own padding, border, default background/color
  padding: 0; // Card padding will apply
  border: none;
  background-color: var(--card-bg-color);
  color: var(--card-fg-color);
  border-radius: var(--border-radius-large);
  box-shadow: 0 1px 2px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.05);
  text-align: inherit; // Inherit text align from card content if any
  display: block; // Make button behave like a block card

  // Apply card's activatable hover/active states
   &:hover {
      background-color: rgba(var(--card-fg-color-rgb), 0.05);
  }
  &:active {
      background-color: rgba(var(--card-fg-color-rgb), 0.08);
  }
  &:focus, &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color), 0 1px 2px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.05);
  }

  // Content inside the button should be padded by the card's padding.
  // This assumes the button's direct children are the content.
  > * {
    padding: var(--spacing-m);
  }
}
