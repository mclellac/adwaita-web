@use 'variables';
@use 'mixins';

.adw-button {
    @include mixins.apply-flat-button-style;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-xs) var(--spacing-m);
    border-radius: var(--button-border-radius);
    border: 1px solid var(--button-border-color, transparent);
    background-color: var(--button-bg-color, transparent);
    color: var(--button-fg-color, inherit);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    transition: background-color 150ms cubic-bezier(0.215, 0.61, 0.355, 1),
                border-color 150ms cubic-bezier(0.215, 0.61, 0.355, 1),
                color 150ms cubic-bezier(0.215, 0.61, 0.355, 1);

    &:hover {
        background-color: var(--button-hover-bg-color);
    }

    &:active {
        background-color: var(--button-active-bg-color);
    }

    &:disabled,
    &[disabled] {
        opacity: var(--button-disabled-opacity);
        pointer-events: none;
    }

    // Suggested action style
    &.suggested-action {
        background-color: var(--accent-bg-color);
        color: var(--accent-fg-color);
        border-color: transparent;

        &:hover {
            background-color: var(--accent-bg-hover-color);
        }

        &:active {
            background-color: var(--accent-bg-active-color);
        }
    }

    // Destructive action style
    &.destructive-action {
        background-color: var(--destructive-bg-color);
        color: var(--destructive-fg-color);
        border-color: transparent;

        &:hover {
            background-color: var(--destructive-bg-hover-color);
        }

        &:active {
            background-color: var(--destructive-bg-active-color);
        }
    }

    // Flat style
    &.flat {
        background-color: transparent;
        border-color: transparent;
        color: var(--accent-color);

        &:hover {
            background-color: var(--button-flat-hover-bg-color);
        }

        &:active {
            background-color: var(--button-flat-active-bg-color);
        }
    }

    // Pill style
    &.pill {
        border-radius: var(--pill-button-border-radius, 100px);
    }

    // Icon button style
    &.icon-button {
        padding: var(--spacing-xs);
        min-width: 0;
        min-height: 0;
        border-radius: 50%;
        .adw-icon {
            font-size: var(--icon-size-large);
        }
    }

  &.tag-pill {
    border-radius: 999px; // Makes it a pill
    background-color: rgba(var(--accent-color-rgb, 53,132,228), 0.1); // Default light accent background
    color: var(--accent-color, #3584e4); // Use main accent color for text (usually darker, good on light bg)
    border: 1px solid transparent; // Make border transparent by default, or use a very subtle one like rgba(var(--accent-color-rgb), 0.2)

    // Override compact padding to ensure text visibility
    padding: var(--spacing-xxs) var(--spacing-s); // 3px vertical, 9px horizontal
    font-size: var(--font-size-small); // Ensure font size is appropriate
    line-height: 1.4; // Ensure text fits vertically
    white-space: nowrap; // Prevent text wrapping that might make it look circular

    &:hover, &:focus {
      color: var(--accent-color, #3584e4); // Keep text color on hover
      background-color: rgba(var(--accent-color-rgb, 53,132,228), 0.2); // Darker/more opaque accent background on hover
      border-color: transparent; // Keep border transparent or rgba(var(--accent-color-rgb), 0.3)
    }

    // Ensure it doesn't inherit unwanted styles from generic .adw-button if they conflict
    text-decoration: none; // Links shouldn't be underlined if they are buttons
  }
}
