// Adwaita Named Colors - SCSS Variables and CSS Custom Properties
// Target: Libadwaita 1.2 Named Colors
// Reference: https://gnome.pages.gitlab.gnome.org/libadwaita/doc/1.2/css-variables.html

@use "sass:color";

// --- 1. SASS Variables for Adwaita Palette (Source: Libadwaita CSS Variables page) ---
// These are the base palette colors, generally aligned with docs.
$adw-blue-1: #99c1f1; $adw-blue-2: #62a0ea; $adw-blue-3: #3584e4; $adw-blue-4: #1c71d8; $adw-blue-5: #1a5fb4;
$adw-green-1: #8ff0a4; $adw-green-2: #57e389; $adw-green-3: #33d17a; $adw-green-4: #2ec27e; $adw-green-5: #26a269;
$adw-yellow-1: #f9f06b; $adw-yellow-2: #f8e45c; $adw-yellow-3: #f6d32d; $adw-yellow-4: #f5c211; $adw-yellow-5: #e5a50a;
$adw-orange-1: #ffbe6f; $adw-orange-2: #ffa348; $adw-orange-3: #ff7800; $adw-orange-4: #e66100; $adw-orange-5: #c64600;
$adw-red-1: #f66151; $adw-red-2: #ed333b; $adw-red-3: #e01b24; $adw-red-4: #c01c28; $adw-red-5: #a51d2d;
$adw-purple-1: #dc8add; $adw-purple-2: #c061cb; $adw-purple-3: #9141ac; $adw-purple-4: #813d9c; $adw-purple-5: #613583;
$adw-brown-1: #cdab8f; $adw-brown-2: #b5835a; $adw-brown-3: #986a44; $adw-brown-4: #865e3c; $adw-brown-5: #63452c;
$adw-light-1: #ffffff; $adw-light-2: #f6f5f4; $adw-light-3: #deddda; $adw-light-4: #c0bfbc; $adw-light-5: #9a9996;
$adw-dark-1: #77767b; $adw-dark-2: #5e5c64; $adw-dark-3: #3d3846; $adw-dark-4: #241f31; $adw-dark-5: #000000;

// Libadwaita Accent Palette (Background colors for each accent) - these match docs
$accent-blue-bg: #3584e4;
$accent-teal-bg: #2190a4;
$accent-green-bg: #3a944a;
$accent-yellow-bg: #c88800;
$accent-orange-bg: #ed5b00;
$accent-red-bg: #e62d42;
$accent-pink-bg: #d56199;
$accent-purple-bg: #9141ac;
$accent-slate-bg: #6f8396;

// Corresponding Foreground colors for above accent backgrounds
$accent-default-fg: #ffffff;
$accent-yellow-fg: #ffffff;

// Standalone colors (meant for text on neutral backgrounds)
$accent-blue-light: #0461be;
$accent-blue-dark: #81d0ff;
$accent-teal-light: #007184;
$accent-teal-dark: #7bdff4;
$accent-green-light: #15772e;
$accent-green-dark: #8de698;
$accent-yellow-light: #905300;
$accent-yellow-dark: #ffc057;
$accent-orange-light: #b62200;
$accent-orange-dark: #ff9c5b;
$accent-red-light: #c00023;
$accent-red-dark: #ff888c;
$accent-pink-light: #a2326c;
$accent-pink-dark: #ffa0d8;
$accent-purple-light: #8939a4;
$accent-purple-dark: #fba7ff;
$accent-slate-light: #526678;
$accent-slate-dark: #bbd1e5;


// --- General SCSS Variables ---
$line-height-base: 1.5;
$font-weight-normal: 400;
$font-weight-bold: 700;
$heading-font-weight: $font-weight-bold;
$font-size-base-val: 11pt;
$input-border-width-val: 1px;

// --- SASS Variables for initial setup of CSS Custom Properties (Light Theme Defaults) ---
// Updated to match Libadwaita 1.2 docs
$window-bg-color-light: #fafafb;
$window-fg-color-light: rgba(0, 0, 6, 0.8);
$view-bg-color-light: #ffffff;
$headerbar-bg-color-light: #ffffff;
$headerbar-shade-color-light: rgba(0, 0, 6, 0.12);
$headerbar-darker-shade-color-light: rgba(0, 0, 6, 0.12);
$sidebar-bg-color-light: #ebebed;
$sidebar-backdrop-color-light: #f2f2f4;
$sidebar-border-color-light: rgba(0, 0, 6, 0.07);
$sidebar-shade-color-light: rgba(0, 0, 6, 0.07);
$card-bg-color-light: #ffffff;
$card-shade-color-light: rgba(0, 0, 6, 0.07);
$dialog-bg-color-light: #fafafb;
$popover-bg-color-light: #ffffff;
$popover-shade-color-light: rgba(0, 0, 6, 0.07);
$input-readonly-bg-color-light: color.mix($window-fg-color-light, $view-bg-color-light, 95%);


// --- SASS Variables for initial setup of CSS Custom Properties (Dark Theme Defaults) ---
// Updated to match Libadwaita 1.2 docs
$window-bg-color-dark: #222226;
$window-fg-color-dark: #ffffff;
$view-bg-color-dark: #1d1d20;
$headerbar-bg-color-dark: #2e2e32;
$headerbar-shade-color-dark: rgba(0, 0, 6, 0.36);
$headerbar-darker-shade-color-dark: rgba(0, 0, 6, 0.9);
$sidebar-bg-color-dark: #2e2e32;
$sidebar-backdrop-color-dark: #28282c;
$sidebar-border-color-dark: rgba(0, 0, 6, 0.36);
$sidebar-shade-color-dark: rgba(0, 0, 6, 0.25);
$card-bg-color-dark: rgba(255, 255, 255, 0.08);
$card-shade-color-dark: rgba(0, 0, 6, 0.36);
$dialog-bg-color-dark: #36363a;
$popover-bg-color-dark: #36363a;
$popover-shade-color-dark: rgba(0, 0, 6, 0.25);
$input-readonly-bg-color-dark: color.mix($window-fg-color-dark, $view-bg-color-dark, 95%);


// --- CSS Custom Properties Definitions ---
:root {
  // Libadwaita Palette Colors (exposed as CSS variables) - these are fine
  --blue-1: #{$adw-blue-1}; --blue-2: #{$adw-blue-2}; --blue-3: #{$adw-blue-3}; --blue-4: #{$adw-blue-4}; --blue-5: #{$adw-blue-5};
  --green-1: #{$adw-green-1}; --green-2: #{$adw-green-2}; --green-3: #{$adw-green-3}; --green-4: #{$adw-green-4}; --green-5: #{$adw-green-5};
  --yellow-1: #{$adw-yellow-1}; --yellow-2: #{$adw-yellow-2}; --yellow-3: #{$adw-yellow-3}; --yellow-4: #{$adw-yellow-4}; --yellow-5: #{$adw-yellow-5};
  --orange-1: #{$adw-orange-1}; --orange-2: #{$adw-orange-2}; --orange-3: #{$adw-orange-3}; --orange-4: #{$adw-orange-4}; --orange-5: #{$adw-orange-5};
  --red-1: #{$adw-red-1}; --red-2: #{$adw-red-2}; --red-3: #{$adw-red-3}; --red-4: #{$adw-red-4}; --red-5: #{$adw-red-5};
  --purple-1: #{$adw-purple-1}; --purple-2: #{$adw-purple-2}; --purple-3: #{$adw-purple-3}; --purple-4: #{$adw-purple-4}; --purple-5: #{$adw-purple-5};
  --brown-1: #{$adw-brown-1}; --brown-2: #{$adw-brown-2}; --brown-3: #{$adw-brown-3}; --brown-4: #{$adw-brown-4}; --brown-5: #{$adw-brown-5};
  --light-1: #{$adw-light-1}; --light-2: #{$adw-light-2}; --light-3: #{$adw-light-3}; --light-4: #{$adw-light-4}; --light-5: #{$adw-light-5};
  --dark-1: #{$adw-dark-1}; --dark-2: #{$adw-dark-2}; --dark-3: #{$adw-dark-3}; --dark-4: #{$adw-dark-4}; --dark-5: #{$adw-dark-5};

  // Libadwaita Named Accent Backgrounds (for convenience)
  --accent-blue-bg: #{$accent-blue-bg};
  --accent-teal-bg: #{$accent-teal-bg};
  --accent-green-bg: #{$accent-green-bg};
  --accent-yellow-bg: #{$accent-yellow-bg};
  --accent-orange-bg: #{$accent-orange-bg};
  --accent-red-bg: #{$accent-red-bg};
  --accent-pink-bg: #{$accent-pink-bg};
  --accent-purple-bg: #{$accent-purple-bg};
  --accent-slate-bg: #{$accent-slate-bg};

  // --- Default UI Colors (Light Theme) ---
  --accent-bg-color: #{$accent-blue-bg};
  --accent-fg-color: #{$accent-default-fg};
  --accent-color: #{$accent-blue-light};

  --destructive-bg-color: #e01b24;
  --destructive-fg-color: #ffffff;
  --destructive-color: #c30000;

  --success-bg-color: #2ec27e;
  --success-fg-color: #ffffff;
  --success-color: #007c3d;

  --warning-bg-color: #e5a50a;
  --warning-fg-color: #{rgba(0, 0, 0, 0.8)};
  --warning-color: #905400;

  --error-bg-color: #e01b24;
  --error-fg-color: #ffffff;
  --error-color: #c30000;

  // Updated base SASS variables are used here
  --window-bg-color: #{$window-bg-color-light};
  --window-fg-color: #{$window-fg-color-light};
  --window-fg-color-rgb: 0, 0, 6;
  --view-bg-color: #{$view-bg-color-light};
  --view-fg-color: var(--window-fg-color);

  --headerbar-bg-color: #{$headerbar-bg-color-light};
  --headerbar-fg-color: var(--window-fg-color);
  --headerbar-fg-color-rgb: var(--window-fg-color-rgb);
  --headerbar-border-color: var(--window-fg-color);
  --headerbar-backdrop-color: var(--window-bg-color);
  --headerbar-shade-color: #{$headerbar-shade-color-light};
  --headerbar-darker-shade-color: #{$headerbar-darker-shade-color-light};

  --sidebar-bg-color: #{$sidebar-bg-color-light};
  --sidebar-fg-color: var(--window-fg-color);
  --sidebar-fg-color-rgb: var(--window-fg-color-rgb);
  --sidebar-backdrop-color: #{$sidebar-backdrop-color-light};
  --sidebar-border-color: #{$sidebar-border-color-light};
  --sidebar-shade-color: #{$sidebar-shade-color-light};

  // Secondary sidebar colors from docs
  --secondary-sidebar-bg-color: #f3f3f5;
  --secondary-sidebar-fg-color: var(--window-fg-color);
  --secondary-sidebar-backdrop-color: #f6f6fa;
  --secondary-sidebar-border-color: rgba(0, 0, 6, 0.07);
  --secondary-sidebar-shade-color: rgba(0, 0, 6, 0.07);

  --card-bg-color: #{$card-bg-color-light};
  --card-fg-color: var(--window-fg-color);
  --card-fg-color-rgb: var(--window-fg-color-rgb);
  --card-shade-color: #{$card-shade-color-light};

  --dialog-bg-color: #{$dialog-bg-color-light};
  --dialog-fg-color: var(--window-fg-color);
  --dialog-fg-color-rgb: var(--window-fg-color-rgb);

  --popover-bg-color: #{$popover-bg-color-light};
  --popover-fg-color: var(--window-fg-color);
  --popover-fg-color-rgb: var(--window-fg-color-rgb);
  --popover-shade-color: #{$popover-shade-color-light};

  // Overview and Thumbnail colors
  --overview-bg-color: #f3f3f5;
  --overview-fg-color: var(--window-fg-color);
  --thumbnail-bg-color: #ffffff;
  --thumbnail-fg-color: var(--window-fg-color);

  --active-toggle-bg-color: #ffffff;
  --active-toggle-fg-color: var(--window-fg-color);

  --shade-color: rgba(0, 0, 6, 0.07);
  --scrollbar-outline-color: #ffffff;

  --link-color: var(--accent-color);
  --link-hover-color: #{color.mix(black, $accent-blue-light, 20%)};
  --link-visited-color: #{$accent-purple-light};

  // ListBox / Row related defaults
  --list-row-selected-bg-color: var(--accent-bg-color);
  --list-row-selected-fg-color: var(--accent-fg-color);
  --list-row-bg-color: var(--view-bg-color);
  --list-row-hover-bg-color: rgba(var(--window-fg-color-rgb), 0.04);
  --list-row-active-bg-color: rgba(var(--window-fg-color-rgb), 0.08);
  --list-separator-color: rgba(var(--window-fg-color-rgb), 0.1);

  // Fonts (Libadwaita names)
  --document-font-family: 'Adwaita Sans', 'Cantarell', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  --document-font-size: #{$font-size-base-val};
  --monospace-font-family: 'Adwaita Mono', 'Monaco', 'Menlo', 'Courier New', monospace;
  --monospace-font-size: #{$font-size-base-val};

  // Helper Variables
  --border-opacity: 0.15;
  --dim-opacity: 0.55;
  --disabled-opacity: 0.5;
  --border-color: color-mix(in srgb, currentColor var(--border-opacity), transparent);
  --window-radius: 15px;
  --focus-ring-width: 2px;
  --focus-ring-color: var(--accent-color);


  // Basic Sizing and Spacing
  --font-size-base: #{$font-size-base-val};
  --font-size-small: #{$font-size-base-val * 0.875};
  --font-size-large: #{$font-size-base-val * 1.125};
  --title-4-font-size: #{$font-size-base-val * 1.125};
  --title-3-font-size: #{$font-size-base-val * 1.25};
  --title-2-font-size: #{$font-size-base-val * 1.5};
  --title-1-font-size: #{$font-size-base-val * 1.8};
  --h1-font-size: var(--title-1-font-size);
  --h2-font-size: var(--title-2-font-size);
  --h3-font-size: var(--title-3-font-size);
  --h4-font-size: var(--title-4-font-size);

  // ProgressBar specific
  --progress-bar-track-color: var(--shade-color);
  --progress-bar-fill-color: var(--accent-bg-color);

  // RGB versions of foreground colors
  $_accent-fg-color-sass: $accent-default-fg;
  $_error_fg_color_sass: #ffffff;
  $_warning_fg_color_sass: rgba(0, 0, 0, 0.8);
  $_success_fg_color_sass: #ffffff;
  $_destructive_color_light-sass: #c30000;
  $_destructive_color_dark-sass: #ff938c;
  $_window_fg_color_light_sass: $window-fg-color-light;
  $_window_fg_color_dark_sass: $window-fg-color-dark;
  $_headerbar_fg_color_light-sass: $_window_fg_color_light_sass;
  $_headerbar_fg_color_dark-sass: $_window_fg_color_dark_sass;
  $_card_fg_color_light-sass: $_window_fg_color_light_sass;
  $_card_fg_color_dark-sass: $_window_fg_color_dark_sass;
  $_sidebar_fg_color_light-sass: $_window_fg_color_light_sass;
  $_sidebar_fg_color_dark-sass: $_window_fg_color_dark_sass;



  // Button State Variables
  --button-bg-color: var(--window-bg-color);
  --button-fg-color: var(--window-fg-color);
  --button-border-color: var(--border-color);
  --button-hover-bg-color: #{color.mix($window-fg-color-light, $window-bg-color-light, 10%)};
  --button-active-bg-color: #{color.mix($window-fg-color-light, $window-bg-color-light, 20%)};
  --button-flat-hover-bg-color: rgba(var(--window-fg-color-rgb), 0.05);
  --button-flat-active-bg-color: rgba(var(--window-fg-color-rgb), 0.1);
  --button-disabled-opacity: var(--disabled-opacity);

  // Accent button states
  --accent-bg-hover-color: #{color.mix(black, $accent-blue-bg, 10%)};
  --accent-bg-active-color: #{color.mix(black, $accent-blue-bg, 20%)};

  // Destructive button states
  $_destructive-bg-light: #e01b24;
  --destructive-bg-hover-color: #{color.mix(black, $_destructive-bg-light, 10%)};
  --destructive-bg-active-color: #{color.mix(black, $_destructive-bg-light, 20%)};


  // Dialog specific variables
  --dialog-box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
  --dialog-backdrop-color: rgba(0,0,0,0.4);

  // Popover specific variables
  --popover-box-shadow-light: 0 2px 8px rgba(0,0,0,0.15), 0 1px 2px rgba(0,0,0,0.1);
  --popover-box-shadow-dark: 0 2px 8px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.25);
  --popover-box-shadow: var(--popover-box-shadow-light);

  // Shadows
  --subtle-box-shadow: 0 1px 2px rgba(0,0,0,0.04), 0 1px 1px rgba(0,0,0,0.03);
  --stronger-card-box-shadow: 0 1px 3px rgba(0,0,0,0.08), 0 2px 5px rgba(0,0,0,0.06);


  // Border radius, spacing, switch, input states, icon sizes, line heights, font weights, z-indexes
  --border-radius-small: 4px;
  --border-radius-medium: 6px;
  --border-radius-default: 8px;
  --border-radius-large: 12px;
  --border-width: #{$input-border-width-val};

  --spacing-xxs: 3px;  --spacing-xs: 6px;   --spacing-s: 9px;
  --spacing-m: 12px;   --spacing-l: 18px;  --spacing-xl: 24px; --spacing-xxl: 36px;

  --switch-slider-off-bg-color: #{rgba(0, 0, 0, 0.2)};
  --switch-knob-bg-color: #{$adw-light-1};
  --switch-slider-disabled-off-bg-color: #{rgba(0, 0, 0, 0.1)};
  --switch-knob-disabled-bg-color: #{$adw-light-3};

  --input-readonly-bg-color: #{$input-readonly-bg-color-light};

  --icon-size-base: 16px;
  --icon-size-large: 20px;
  --icon-size-small: 14px;

  --line-height-base: #{$line-height-base};
  --font-weight-normal: 400;
  --font-weight-bold: 700;
  --heading-font-weight: var(--font-weight-bold);

  --z-index-dialog-backdrop: 1040;
  --z-index-dialog: 1050;
  --z-index-popover: 1060;
  --z-index-toast: 1070;
  --z-index-banner: 1030;

  // Row Specific
  --primary-fg-color: var(--window-fg-color);
  --secondary-fg-color: rgba(var(--window-fg-color-rgb), var(--dim-opacity));
  --icon-opacity: 0.7;
  --focus-outline-offset: -2px;
  --row-border-radius: var(--border-radius-small);
  --row-padding-vertical-default: 10px;
  --row-padding-horizontal-default: var(--spacing-m);
  --row-min-height: 48px;
  --row-bg-color: transparent;
  --row-fg-color: var(--primary-fg-color);

  // Expander Row
  --expander-content-bg-color: var(--view-bg-color);

  // Animation
  --animation-duration-shortest: 100ms;
  --animation-duration-short: 150ms;
  --animation-duration-medium: 250ms;
  --animation-duration-long: 400ms;
  --animation-ease-out-cubic: cubic-bezier(0.215, 0.610, 0.355, 1.000);
  --animation-ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1.000);
  --animation-ease-in-cubic: cubic-bezier(0.550, 0.055, 0.675, 0.190);
  --animation-ease-out-sine: cubic-bezier(0.390, 0.575, 0.565, 1.000);

  // Toast Specific
  --toast-bg-color: #{$adw-dark-3};
  --toast-fg-color: #{$adw-light-1};
  $_toast_fg_color_sass: $adw-light-1;
  --toast-secondary-fg-color: #{rgba($adw-light-1, 0.7)};
  --toast-accent-color: var(--accent-color);
  --toast-box-shadow: var(--popover-box-shadow-dark);
  --toast-max-width: 400px;
  --toast-min-height: 36px;
  --toast-border-radius: var(--border-radius-large);

  // Spinner Specific
  --spinner-color: var(--accent-color);
  --spinner-track-color: var(--shade-color);

  // Pill button radius
  --pill-button-border-radius: 100px;

  // Inline code background
  --inline-code-bg-color: #{rgba($adw-dark-5, 0.05)};

  // Icon URLs
  --icon-window-close-symbolic-url: url('/static/data/icons/symbolic/window-close-symbolic.svg');


  // --- Dark Theme Overrides ---
  &.theme-dark {
    --accent-bg-color: #{$accent-blue-bg};
    --accent-fg-color: #{$accent-default-fg};
    --accent-color: #{$accent-blue-dark};

    --destructive-bg-color: #c01c28;
    --destructive-fg-color: #ffffff;
    --destructive-color: #ff938c;

    --success-bg-color: #26a269;
    --success-fg-color: #ffffff;
    --success-color: #78e9ab;

    --warning-bg-color: #cd9309;
    --warning-fg-color: #{rgba(0, 0, 0, 0.8)};
    --warning-color: #ffc252;

    --error-bg-color: #c01c28;
    --error-fg-color: #ffffff;
    --error-color: #ff938c;

    // Updated base SASS variables are used here
    --window-bg-color: #{$window-bg-color-dark};
    --window-fg-color: #{$window-fg-color-dark};
    --window-fg-color-rgb: 255, 255, 255;
    --view-bg-color: #{$view-bg-color-dark};
    --view-fg-color: var(--window-fg-color);

    --headerbar-bg-color: #{$headerbar-bg-color-dark};
    --headerbar-fg-color: var(--window-fg-color);
    --headerbar-fg-color-rgb: var(--window-fg-color-rgb);
    --headerbar-border-color: var(--window-fg-color);
    --headerbar-backdrop-color: var(--window-bg-color);
    --headerbar-shade-color: #{$headerbar-shade-color-dark};
    --headerbar-darker-shade-color: #{$headerbar-darker-shade-color-dark};

    --sidebar-bg-color: #{$sidebar-bg-color-dark};
    --sidebar-fg-color: var(--window-fg-color);
    --sidebar-fg-color-rgb: var(--window-fg-color-rgb);
    --sidebar-backdrop-color: #{$sidebar-backdrop-color-dark};
    --sidebar-border-color: #{$sidebar-border-color-dark};
    --sidebar-shade-color: #{$sidebar-shade-color-dark};

    // Secondary sidebar colors from docs
    --secondary-sidebar-bg-color: #28282c;
    --secondary-sidebar-fg-color: var(--window-fg-color);
    --secondary-sidebar-backdrop-color: #252529;
    --secondary-sidebar-border-color: rgba(0, 0, 6, 0.36);
    --secondary-sidebar-shade-color: rgba(0, 0, 6, 0.25);

    --card-bg-color: #{$card-bg-color-dark};
    --card-fg-color: var(--window-fg-color);
    --card-fg-color-rgb: var(--window-fg-color-rgb);
    --card-shade-color: #{$card-shade-color-dark};

    --dialog-bg-color: #{$dialog-bg-color-dark};
    --dialog-fg-color: var(--window-fg-color);
    --dialog-fg-color-rgb: var(--window-fg-color-rgb);

    --popover-bg-color: #{$popover-bg-color-dark};
    --popover-fg-color: var(--window-fg-color);
    --popover-fg-color-rgb: var(--window-fg-color-rgb);
    --popover-shade-color: #{$popover-shade-color-dark};

    // Overview and Thumbnail colors
    --overview-bg-color: #28282c;
    --overview-fg-color: var(--window-fg-color);
    --thumbnail-bg-color: #39393d;
    --thumbnail-fg-color: var(--window-fg-color);

    --active-toggle-bg-color: #{rgba(255 255 255 / 20%)};
    --active-toggle-fg-color: var(--window-fg-color);

    --shade-color: rgba(0, 0, 6, 0.25);
    --scrollbar-outline-color: #{rgba(0, 0, 6, 0.5)};

    --link-color: var(--accent-color);
    --link-hover-color: #{color.mix(white, $accent-blue-dark, 20%)};
    --link-visited-color: #{$accent-purple-dark};

    --list-row-hover-bg-color: rgba(var(--window-fg-color-rgb), 0.06);
    --list-row-active-bg-color: rgba(var(--window-fg-color-rgb), 0.10);
    --list-separator-color: rgba(var(--window-fg-color-rgb), 0.1);

    // Switch component variables (Dark Theme)
    --switch-slider-off-bg-color: rgba(var(--window-fg-color-rgb), 0.2);
    --switch-knob-bg-color: #{$adw-light-3};
    --switch-slider-disabled-off-bg-color: #{rgba(255, 255, 255, 0.1)};
    --switch-knob-disabled-bg-color: #{$adw-dark-1};

    --popover-box-shadow: var(--popover-box-shadow-dark);

    // Shadows
    --subtle-box-shadow: 0 1px 2px rgba(0,0,0,0.12), 0 1px 1px rgba(0,0,0,0.1);
    --stronger-card-box-shadow: 0 2px 4px rgba(0,0,0,0.15), 0 3px 7px rgba(0,0,0,0.12);

    // Input States for Dark Theme
    --input-readonly-bg-color: #{$input-readonly-bg-color-dark};

    // Button State Variables for Dark Theme
    --button-hover-bg-color: #{color.mix($window-fg-color-dark, $window-bg-color-dark, 10%)};
    --button-active-bg-color: #{color.mix($window-fg-color-dark, $window-bg-color-dark, 20%)};
    --button-flat-hover-bg-color: rgba(var(--window-fg-color-rgb), 0.08);
    --button-flat-active-bg-color: rgba(var(--window-fg-color-rgb), 0.12);

    // Accent button states for Dark Theme
    --accent-bg-hover-color: #{color.mix(white, $accent-blue-bg, 10%)};
    --accent-bg-active-color: #{color.mix(white, $accent-blue-bg, 20%)};

    // Destructive button states for Dark Theme
    $_destructive-bg-dark: #c01c28;
    --destructive-bg-hover-color: #{color.mix(white, $_destructive-bg-dark, 10%)};
    --destructive-bg-active-color: #{color.mix(white, $_destructive-bg-dark, 20%)};

    // RGB versions for dark theme
    // Row specific for dark theme
    --secondary-fg-color: rgba(var(--window-fg-color-rgb), var(--dim-opacity));

    // Inline code background for dark theme
    --inline-code-bg-color: rgba(var(--window-fg-color-rgb), 0.08);
  }

  // Accent color overrides loop
  &.accent-blue {
    --accent-bg-color: #{$accent-blue-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-blue-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-blue-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-blue-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-blue-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-blue-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-blue-bg, 20%)};
    }
  }
  &.accent-teal {
    --accent-bg-color: #{$accent-teal-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-teal-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-teal-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-teal-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-teal-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-teal-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-teal-bg, 20%)};
    }
  }
  &.accent-green {
    --accent-bg-color: #{$accent-green-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-green-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-green-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-green-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-green-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-green-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-green-bg, 20%)};
    }
  }
  &.accent-yellow {
    --accent-bg-color: #{$accent-yellow-bg};
    --accent-fg-color: #{$accent-yellow-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-yellow-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-yellow-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-yellow-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-yellow-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-yellow-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-yellow-bg, 20%)};
    }
  }
  &.accent-orange {
    --accent-bg-color: #{$accent-orange-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-orange-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-orange-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-orange-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-orange-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-orange-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-orange-bg, 20%)};
    }
  }
  &.accent-red {
    --accent-bg-color: #{$accent-red-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-red-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-red-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-red-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-red-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-red-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-red-bg, 20%)};
    }
  }
  &.accent-pink {
    --accent-bg-color: #{$accent-pink-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-pink-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-pink-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-pink-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-pink-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-pink-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-pink-bg, 20%)};
    }
  }
  &.accent-purple {
    --accent-bg-color: #{$accent-purple-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-purple-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-purple-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-purple-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-purple-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-purple-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-purple-bg, 20%)};
    }
  }
  &.accent-slate {
    --accent-bg-color: #{$accent-slate-bg};
    --accent-fg-color: #{$accent-default-fg};
    &:not(.theme-dark) {
      --accent-color: #{$accent-slate-light};
      --accent-bg-hover-color: #{color.mix(black, $accent-slate-bg, 10%)};
      --accent-bg-active-color: #{color.mix(black, $accent-slate-bg, 20%)};
    }
    &.theme-dark {
      --accent-color: #{$accent-slate-dark};
      --accent-bg-hover-color: #{color.mix(white, $accent-slate-bg, 10%)};
      --accent-bg-active-color: #{color.mix(white, $accent-slate-bg, 20%)};
    }
  }
}

// --- SCSS Variables that reference CSS Custom Properties (for convenience in SCSS) ---
$font-family-sans-serif: var(--document-font-family);
$font-family-monospace: var(--monospace-font-family);
$focus-ring: var(--focus-ring-width) solid var(--focus-ring-color);
$button-border-radius: var(--border-radius-default);
$input-border-radius: var(--border-radius-default);
