@mixin light-theme {
  --accent-bg-color: var(--accent-blue-light-bg); // Default accent
  --accent-fg-color: var(--accent-blue-light-fg); // Default accent
  --accent-color: var(--accent-blue-standalone); // Default accent - for elements that use a single color for emphasis
  --accent-bg-hover-color: var(--accent-blue-light-bg-hover);
  --accent-bg-active-color: var(--accent-blue-light-bg-active);

  --destructive-bg-color: var(--accent-red-light-bg);
  --destructive-fg-color: var(--accent-red-light-fg);
  --destructive-bg-hover-color: var(--accent-red-light-bg-hover);
  --destructive-bg-active-color: var(--accent-red-light-bg-active);
  // --destructive-color removed. Use --accent-red-standalone for single emphasis.

  // Status colors using adw-palette variables or official Libadwaita hex values
  --info-bg-color: var(--adw-blue-1); // #99c1f1
  --info-fg-color: var(--adw-blue-5); // #1a5fb4
  // --info-border-color removed.

  --success-bg-color: #2ec27e; // Official Libadwaita Light
  --success-fg-color: #ffffff; // Official Libadwaita Light
  // --success-border-color removed.
  // --success-color removed. Use --accent-green-standalone for single emphasis.

  --warning-bg-color: #e5a50a; // Official Libadwaita Light
  --warning-fg-color: rgba(0, 0, 0, 0.8); // Official Libadwaita Light & Dark
  // --warning-border-color removed.
  // --warning-color removed. Use --accent-yellow-standalone for single emphasis.

  --error-bg-color: #e01b24; // Official Libadwaita Light (often same as destructive-bg)
  --error-fg-color: #ffffff; // Official Libadwaita Light
  // --error-border-color removed.
  // --error-color removed. Use --accent-red-standalone for single emphasis.

  --window-bg-color: #fafafa; // Official Libadwaita Light
  --window-fg-color: rgba(0, 0, 0, 0.8);
  --view-bg-color: #ffffff;
  --view-fg-color: rgba(0, 0, 0, 0.8);

  --headerbar-bg-color: #ffffff; // Official Libadwaita Light
  --headerbar-fg-color: rgba(0, 0, 0, 0.8);
  --headerbar-border-color: rgba(0, 0, 0, 0.8); // Official: same as fg_color by default
  --headerbar-backdrop-color: var(--window-bg-color); // Correct: alias of window_bg_color
  --headerbar-shade-color: rgba(0, 0, 0, 0.12); // Official Libadwaita Light
  --headerbar-darker-shade-color: rgba(0, 0, 0, 0.12); // Official Libadwaita Light

  --sidebar-backdrop-color: #f2f2f2; // Official Libadwaita Light

  --secondary-sidebar-backdrop-color: #f6f6f6; // Official Libadwaita Light

  --borders-color: rgba(0, 0, 0, 0.15); // Conceptual mapping for light theme (currentColor is usually dark)

  --card-bg-color: #ffffff;
  --card-fg-color: rgba(0, 0, 0, 0.8);
  --card-shade-color: rgba(0, 0, 0, 0.07);

  --popover-bg-color: #ffffff;
  --popover-fg-color: rgba(0, 0, 0, 0.8);
  --popover-shade-color: rgba(0, 0, 0, 0.07);

  --button-bg-color: #ebeae9;
  --button-fg-color: rgba(0, 0, 0, 0.8);
  --button-border-color: rgba(0, 0, 0, 0.12);
  --button-hover-bg-color: #deddda;
  --button-active-bg-color: #d1cfce;

  --button-flat-bg-color: transparent;
  --button-flat-hover-bg-color: rgba(0, 0, 0, 0.05);
  --button-flat-active-bg-color: rgba(0, 0, 0, 0.1);

  --sidebar-bg-color: #ebebeb; // Official Libadwaita Light
  --sidebar-fg-color: rgba(0,0,0,0.8);
  --sidebar-border-color: rgba(0,0,0,0.07); // Official Libadwaita Light
  --sidebar-shade-color: rgba(0, 0, 0, 0.07); // Official Libadwaita Light

  --secondary-sidebar-bg-color: #f3f3f3; // Official Libadwaita Light
  --secondary-sidebar-fg-color: rgba(0,0,0,0.8);
  --secondary-sidebar-border-color: rgba(0,0,0,0.07); // Official Libadwaita Light
  --secondary-sidebar-shade-color: rgba(0, 0, 0, 0.07); // Official Libadwaita Light

  --dialog-bg-color: #fafafa; // Official Libadwaita Light
  --dialog-fg-color: rgba(0, 0, 0, 0.8);

  --thumbnail-bg-color: #ffffff;
  --thumbnail-fg-color: rgba(0, 0, 0, 0.8);

  --shade-color: rgba(0, 0, 0, 0.07); // Official Libadwaita Light
  --scrollbar-outline-color: #ffffff;
  --link-color: var(--accent-bg-color);
  --link-visited-color: #5a5a5a;

  --progress-bar-track-color: var(--shade-color);
  --progress-bar-fill-color: var(--accent-bg-color);

  // Toast
  --toast-bg-color: #303030; // Dark grey
  --toast-fg-color: #ffffff;
  --toast-box-shadow: var(--popover-box-shadow-light);
  --secondary-text-color: rgba(0,0,0,0.7); // For less important text
  --dialog-box-shadow: var(--dialog-box-shadow-light);
  --dialog-backdrop-color: rgba(0, 0, 0, 0.25);

  // List Row states
  --list-row-hover-bg-color: rgba(0,0,0,0.04);
  --list-row-active-bg-color: rgba(0,0,0,0.08);
  --list-row-selected-bg-color: var(--adw-blue-1); // #99c1f1
  --list-row-selected-fg-color: var(--adw-blue-5); // #1a5fb4
  --expander-content-bg-color: rgba(0,0,0,0.03);

  // Entry states
  --entry-disabled-bg-color: rgba(0,0,0,0.04);
  --entry-disabled-border-color: rgba(0,0,0,0.1);

  // Switch states
  --switch-knob-bg-color: #ffffff;
  --switch-slider-off-bg-color: rgba(0,0,0,0.15);
  --switch-knob-disabled-bg-color: rgba(0,0,0,0.2); // Darker than regular knob on light
  --switch-slider-disabled-off-bg-color: rgba(0,0,0,0.1);
  // For disabled-on, we'll use accent-color with opacity applied in component
}

@mixin dark-theme {
  --accent-bg-color: var(--accent-blue-dark-bg); // Default accent
  --accent-fg-color: var(--accent-blue-dark-fg); // Default accent
  --accent-color: var(--accent-blue-dark-standalone); // Default accent - for elements that use a single color for emphasis
  --accent-bg-hover-color: var(--accent-blue-dark-bg-hover);
  --accent-bg-active-color: var(--accent-blue-dark-bg-active);

  --destructive-bg-color: var(--accent-red-dark-bg);
  --destructive-fg-color: var(--accent-red-dark-fg);
  --destructive-bg-hover-color: var(--accent-red-dark-bg-hover);
  --destructive-bg-active-color: var(--accent-red-dark-bg-active);
  // --destructive-color removed. Use --accent-red-dark-standalone for single emphasis.

  // Status colors using adw-palette variables or official Libadwaita hex values
  --info-bg-color: var(--adw-blue-5); // #1a5fb4
  --info-fg-color: var(--adw-blue-1); // #99c1f1
  // --info-border-color removed.

  --success-bg-color: #26a269; // Official Libadwaita Dark
  --success-fg-color: #ffffff; // Official Libadwaita Dark
  // --success-border-color removed.
  // --success-color removed. Use --accent-green-dark-standalone for single emphasis.

  --warning-bg-color: #cd9309; // Official Libadwaita Dark
  --warning-fg-color: rgba(0,0,0,0.8); // Official Libadwaita Light & Dark
  // --warning-border-color removed.
  // --warning-color removed. Use --accent-yellow-dark-standalone for single emphasis.

  --error-bg-color: #c01c28; // Official Libadwaita Dark (often same as destructive-bg)
  --error-fg-color: #ffffff; // Official Libadwaita Dark
  // --error-border-color removed.
  // --error-color removed. Use --accent-red-dark-standalone for single emphasis.

  --window-bg-color: #242424; // Official Libadwaita Dark
  --window-fg-color: #ffffff;
  --view-bg-color: #1e1e1e; // Official Libadwaita Dark
  --view-fg-color: #ffffff;

  --headerbar-bg-color: #303030; // Official Libadwaita Dark
  --headerbar-fg-color: #ffffff;
  --headerbar-border-color: #ffffff; // Official: same as fg_color by default
  --headerbar-backdrop-color: var(--window-bg-color); // Correct: alias of window_bg_color
  --headerbar-shade-color: rgba(0, 0, 0, 0.36); // Official Libadwaita Dark
  --headerbar-darker-shade-color: rgba(0, 0, 0, 0.9); // Official Libadwaita Dark

  --sidebar-backdrop-color: #2a2a2a; // Official Libadwaita Dark

  --secondary-sidebar-backdrop-color: #272727; // Official Libadwaita Dark

  --borders-color: rgba(255, 255, 255, 0.5); // Conceptual mapping for dark theme (currentColor is usually light)

  --card-bg-color: rgba(255, 255, 255, 0.08); // Official Libadwaita Dark
  --card-fg-color: #ffffff;
  --card-shade-color: rgba(0, 0, 0, 0.36);

  --popover-bg-color: #383838; // Official Libadwaita Dark
  --popover-fg-color: #ffffff;
  --popover-shade-color: rgba(0, 0, 0, 0.25); // Official Libadwaita Dark

  --button-bg-color: #4d4d4d;
  --button-fg-color: #ffffff;
  --button-border-color: rgba(255, 255, 255, 0.07);
  --button-hover-bg-color: #5a5a5a;
  --button-active-bg-color: #676767;

  --button-flat-bg-color: transparent;
  --button-flat-hover-bg-color: rgba(255, 255, 255, 0.08);
  --button-flat-active-bg-color: rgba(255, 255, 255, 0.12);

  --sidebar-bg-color: #303030; // Official Libadwaita Dark
  --sidebar-fg-color: #ffffff;
  --sidebar-border-color: rgba(0,0,0,0.36); // Official Libadwaita Dark
  --sidebar-shade-color: rgba(0,0,0,0.25); // Official Libadwaita Dark

  --secondary-sidebar-bg-color: #2a2a2a; // Official Libadwaita Dark
  --secondary-sidebar-fg-color: #ffffff;
  --secondary-sidebar-border-color: rgba(0,0,0,0.36); // Official Libadwaita Dark
  --secondary-sidebar-shade-color: rgba(0,0,0,0.25); // Official Libadwaita Dark

  --dialog-bg-color: #383838; // Official Libadwaita Dark
  --dialog-fg-color: #ffffff;

  --thumbnail-bg-color: #383838; // Official Libadwaita Dark
  --thumbnail-fg-color: #ffffff;

  --shade-color: rgba(0, 0, 0, 0.25); // Official Libadwaita Dark
  --scrollbar-outline-color: rgba(0, 0, 0, 0.5);
  --link-color: var(--accent-bg-color);
  --link-visited-color: #c0c0c0; // Lighter visited link for dark theme

  --progress-bar-track-color: var(--shade-color);
  --progress-bar-fill-color: var(--accent-bg-color);

  // Toast
  --toast-bg-color: #424242; // Slightly lighter dark grey for dark theme
  --toast-fg-color: #ffffff;
  --toast-box-shadow: var(--popover-box-shadow-dark);
  --secondary-text-color: rgba(255,255,255,0.7); // For less important text
  --dialog-box-shadow: var(--dialog-box-shadow-dark);
  --dialog-backdrop-color: rgba(0, 0, 0, 0.4); // Slightly more opaque for dark theme

  // List Row states
  --list-row-hover-bg-color: rgba(255,255,255,0.06);
  --list-row-active-bg-color: rgba(255,255,255,0.1);
  --list-row-selected-bg-color: var(--adw-blue-5); // #1a5fb4
  --list-row-selected-fg-color: var(--adw-blue-1); // #99c1f1
  --expander-content-bg-color: rgba(255,255,255,0.03);

  // Entry states
  --entry-disabled-bg-color: rgba(255,255,255,0.04);
  --entry-disabled-border-color: rgba(255,255,255,0.1);

  // Switch states
  --switch-knob-bg-color: #ffffff; // Remains white in dark theme too
  --switch-slider-off-bg-color: rgba(255,255,255,0.15);
  --switch-knob-disabled-bg-color: rgba(255,255,255,0.2); // Lighter than regular knob on dark
  --switch-slider-disabled-off-bg-color: rgba(255,255,255,0.1);
  // For disabled-on, we'll use accent-color with opacity applied in component
}

// Helper Variables (inspired by libadwaita, but not direct libadwaita variables)
:root {
  // Font Variables (use libadwaita standard system fonts)
  --document-font-family: 'Cantarell', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  --monospace-font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
  --font-size-base: 10pt; // Base font size (libadwaita uses relative units, this is an equivalent)
  --font-size-small: 8pt;
  --font-size-large: 12pt;
  --font-size-h1: 18pt;
  --font-size-h2: 16pt;
  --font-size-h3: 14pt;
  --font-size-h4: 12pt;

  --border-radius-small: 3px;
  --border-radius-default: 6px;
  --border-radius-large: 12px;
  --window-radius: var(--border-radius-large);
  --border-width: 1px; // Default border width

  // Spacing (libadwaita uses multiples of 6px and 12px often)
  --spacing-xxs: 3px;
  --spacing-xs: 6px;
  --spacing-s: 9px;
  --spacing-m: 12px;
  --spacing-l: 18px;
  --spacing-xl: 24px;
  --spacing-xxl: 36px;

  --opacity-disabled: 0.5;
  --opacity-hover: 0.8;
  --opacity-active: 0.6;

  // Box Shadows (based on Libadwaita specifications)
  --popover-box-shadow-light: 0 1px 2px 0 rgba(0,0,0,0.1), 0 2px 8px 0 rgba(0,0,0,0.1);
  --popover-box-shadow-dark: 0 1px 2px 0 rgba(0,0,0,0.25), 0 2px 8px 0 rgba(0,0,0,0.25);
  --dialog-box-shadow-light: 0 4px 8px rgba(0,0,0,0.15), 0 1px 4px rgba(0,0,0,0.1);
  --dialog-box-shadow-dark: 0 3px 9px rgba(0,0,0,0.5); // A bit more pronounced for dark themes

  // Border Color (general fallback if not specified by component)
  --border-color-light: rgba(0, 0, 0, 0.12);
  --border-color-dark: rgba(255, 255, 255, 0.07);

  // Note: --accent-fg-color-rgb was removed as SCSS cannot use CSS variables in rgba() directly.
  // Direct values (e.g., 255,255,255 for white) should be used in rgba() within component SCSS if needed.

  // GNOME Color Palette
  // Blue
  --adw-blue-1: #99c1f1;
  --adw-blue-2: #62a0ea;
  --adw-blue-3: #3584e4;
  --adw-blue-4: #1c71d8;
  --adw-blue-5: #1a5fb4;
  // Green
  --adw-green-1: #8ff0a4;
  --adw-green-2: #57e389;
  --adw-green-3: #33d17a;
  --adw-green-4: #2ec27e;
  --adw-green-5: #26a269;
  // Yellow
  --adw-yellow-1: #f9f06b;
  --adw-yellow-2: #f8e45c;
  --adw-yellow-3: #f6d32d;
  --adw-yellow-4: #f5c211;
  --adw-yellow-5: #e5a50a;
  // Orange
  --adw-orange-1: #ffbe6f;
  --adw-orange-2: #ffa348;
  --adw-orange-3: #ff7800;
  --adw-orange-4: #e66100;
  --adw-orange-5: #c64600;
  // Red
  --adw-red-1: #f66151;
  --adw-red-2: #ed333b;
  --adw-red-3: #e01b24;
  --adw-red-4: #c01c28;
  --adw-red-5: #a51d2d;
  // Purple
  --adw-purple-1: #dc8add;
  --adw-purple-2: #c061cb;
  --adw-purple-3: #9141ac;
  --adw-purple-4: #813d9c;
  --adw-purple-5: #613583;
  // Brown
  --adw-brown-1: #cdab8f;
  --adw-brown-2: #b5835a;
  --adw-brown-3: #986a44;
  --adw-brown-4: #865e3c;
  --adw-brown-5: #63452c;
  // Light (Greys)
  --adw-light-1: #ffffff;
  --adw-light-2: #f6f5f4;
  --adw-light-3: #deddda;
  --adw-light-4: #c0bfbc;
  --adw-light-5: #9a9996;
  // Dark (Greys)
  --adw-dark-1: #77767b;
  --adw-dark-2: #5e5c64;
  --adw-dark-3: #3d3846;
  --adw-dark-4: #241f31;
  --adw-dark-5: #000000;

  // Darker shades for specific dark theme backgrounds (can be derived or specific)
  // These were used previously for info/success etc. bg, will review their usage.
  // For now, keeping them as they might be tuned variations of the main palette.
  // Commented out lines below are confirmed dead code and removed.


  // Definitive Accent Color Variables (to be used by JS)
  // These provide a layer of abstraction. JS sets --accent-bg-color to one of these.

  // Default Blue Accent (matches Libadwaita default)
  --accent-blue-light-bg: var(--adw-blue-3); // #3584e4
  --accent-blue-light-fg: var(--adw-light-1); // #ffffff
  --accent-blue-standalone: #1c71d8; // Official Libadwaita Hex

  --accent-blue-dark-bg: var(--adw-blue-3); // #3584e4
  --accent-blue-dark-fg: var(--adw-light-1); // #ffffff
  --accent-blue-dark-standalone: #78aeed; // Official Libadwaita Hex (as per comment analysis)

  // Other Accent Colors
  --accent-green-light-bg: var(--adw-green-4); // #2ec27e
  --accent-green-light-fg: var(--adw-light-1); // #ffffff
  --accent-green-standalone: #1b8553; // Official Libadwaita Hex

  --accent-red-light-bg: var(--adw-red-3); // #e01b24
  --accent-red-light-fg: var(--adw-light-1); // #ffffff
  --accent-red-standalone: #c01c28; // Official Libadwaita Hex

  --accent-yellow-light-bg: var(--adw-yellow-5); // #e5a50a
  --accent-yellow-light-fg: rgba(0,0,0,0.87); // Dark text for yellow
  --accent-yellow-standalone: #9c6e03; // Official Libadwaita Hex

  --accent-purple-light-bg: var(--adw-purple-3); // #9141ac
  --accent-purple-light-fg: var(--adw-light-1); // #ffffff
  --accent-purple-standalone: #813d9c; // Official Libadwaita Hex

  --accent-orange-light-bg: var(--adw-orange-3); // #ff7800
  --accent-orange-light-fg: var(--adw-light-1); // #ffffff
  --accent-orange-standalone: #e66100; // Official Libadwaita Hex

  // Dark Theme Accents
  --accent-green-dark-bg: var(--adw-green-4); // #2ec27e (Libadwaita uses #26a269 for dark bg - adw-green-5)
  --accent-green-dark-fg: var(--adw-light-1);   // #ffffff
  --accent-green-dark-standalone: #8ff0a4; // Official Libadwaita Hex

  --accent-red-dark-bg: var(--adw-red-4); // #c01c28
  --accent-red-dark-fg: var(--adw-light-1); // #ffffff
  --accent-red-dark-standalone: #ff7b63; // Official Libadwaita Hex

  --accent-yellow-dark-bg: var(--adw-yellow-5); // #e5a50a (Libadwaita uses #cd9309 for dark bg)
  --accent-yellow-dark-fg: rgba(0,0,0,0.87);  // Dark text
  --accent-yellow-dark-standalone: #f8e45c; // Official Libadwaita Hex

  --accent-purple-dark-bg: var(--adw-purple-3); // #9141ac
  --accent-purple-dark-fg: var(--adw-light-1);  // #ffffff
  --accent-purple-dark-standalone: #dc8add; // Official Libadwaita Hex

  --accent-orange-dark-bg: var(--adw-orange-3); // #ff7800
  --accent-orange-dark-fg: var(--adw-light-1);  // #ffffff
  --accent-orange-dark-standalone: #ffbe6f; // Official Libadwaita Hex

  // Hover/Active states for default accents (Blue, Red)
  // Light Theme
  --accent-blue-light-bg-hover: #2a70c9; // Darker than #3584e4 (adw-blue-3)
  --accent-blue-light-bg-active: #1c58a1; // Even darker
  --accent-red-light-bg-hover: #d0121b; // Darker than #e01b24 (adw-red-3)
  --accent-red-light-bg-active: #b00912; // Even darker

  // Dark Theme
  --accent-blue-dark-bg-hover: #4a90e2; // Lighter than #3584e4 (adw-blue-3)
  --accent-blue-dark-bg-active: #5f9ee5; // Even lighter
  --accent-red-dark-bg-hover: #d02832; // Lighter than #c01c28 (adw-red-4)
  --accent-red-dark-bg-active: #e03f49; // Even lighter
}

:root {
  // Default to DARK theme directly in :root.
  // All components should primarily use these CSS variables.
  @include dark-theme;
  // --accent-bg-color, --accent-fg-color, and --accent-color are set within the dark-theme mixin.
  // JS will override these for different accent choices.
  // Explicitly setting default accent here for clarity, matching what's in mixin.
  --accent-bg-color: var(--accent-blue-dark-bg);
  --accent-fg-color: var(--accent-blue-dark-fg);
  --accent-color: var(--accent-blue-dark-standalone);
}

body.light-theme {
  // Light theme is applied by adding .light-theme to the body.
  // This block will override the dark theme variables set in :root.
  @include light-theme;
  // Explicitly setting default accent here for clarity, matching what's in mixin.
  --accent-bg-color: var(--accent-blue-light-bg);
  --accent-fg-color: var(--accent-blue-light-fg);
  --accent-color: var(--accent-blue-standalone);
}

// Note on JavaScript interaction for theme loading (loadSavedTheme function):
// 1. Checks localStorage for 'theme'.
//    - If 'light', adds 'light-theme' to body.
//    - If 'dark', ensures 'light-theme' is NOT on body.
// 2. If no localStorage, checks `prefers-color-scheme`.
//    - If system prefers 'light', adds 'light-theme' to body.
//    - If system prefers 'dark' (or no specific preference), 'light-theme' is NOT added,
//      thus :root (dark) styles apply.
//
// The body.dark-theme selector and @media (prefers-color-scheme: dark) for :root
// are removed from here as the JS logic combined with a :root default is cleaner.


// The following @define-color rules are often used by GTK themes
// to make colors available to the GTK C API.
// We'll keep them and map them to our CSS variables.
@mixin define-gtk-colors() {
  @define-color accent_bg_color var(--accent-bg-color);
  @define-color accent_fg_color var(--accent-fg-color);
  @define-color destructive_bg_color var(--destructive-bg-color);
  @define-color destructive_fg_color var(--destructive-fg-color);
  @define-color success_bg_color var(--success-bg-color);
  @define-color success_fg_color var(--success-fg-color);
  @define-color warning_bg_color var(--warning-bg-color);
  @define-color warning_fg_color var(--warning-fg-color);
  @define-color error_bg_color var(--error-bg-color);
  @define-color error_fg_color var(--error-fg-color);

  @define-color window_bg_color var(--window-bg-color);
  @define-color window_fg_color var(--window-fg-color);
  @define-color view_bg_color var(--view-bg-color);
  @define-color view_fg_color var(--view-fg-color);

  @define-color headerbar_bg_color var(--headerbar-bg-color);
  @define-color headerbar_fg_color var(--headerbar-fg-color);
  @define-color headerbar_border_color var(--headerbar-border-color);
  @define-color headerbar_backdrop_color var(--headerbar-backdrop-color);
  @define-color headerbar_shade_color var(--headerbar-shade-color);
  @define-color headerbar_darker_shade_color var(--headerbar-darker-shade-color);

  @define-color sidebar_backdrop_color var(--sidebar-backdrop-color);
  @define-color secondary_sidebar_backdrop_color var(--secondary-sidebar-backdrop-color);

  @define-color borders_color var(--borders-color);

  @define-color card_bg_color var(--card-bg-color);
  @define-color card_fg_color var(--card-fg-color);
  @define-color card_shade_color var(--card-shade-color);

  @define-color popover_bg_color var(--popover-bg-color);
  @define-color popover_fg_color var(--popover-fg-color);
  @define-color popover_shade_color var(--popover-shade-color);

  @define-color dialog_bg_color var(--dialog-bg-color);
  @define-color dialog_fg_color var(--dialog-fg-color);

  @define-color thumbnail_bg_color var(--thumbnail-bg-color);
  @define-color thumbnail_fg_color var(--thumbnail-fg-color);

  @define-color sidebar_bg_color var(--sidebar-bg-color);
  @define-color sidebar_fg_color var(--sidebar-fg-color);
  @define-color sidebar_border_color var(--sidebar-border-color);
  @define-color sidebar_shade_color var(--sidebar-shade-color);

  @define-color secondary_sidebar_bg_color var(--secondary-sidebar-bg-color);
  @define-color secondary_sidebar_fg_color var(--secondary-sidebar-fg-color);
  @define-color secondary_sidebar_border_color var(--secondary-sidebar-border-color);
  @define-color secondary_sidebar_shade_color var(--secondary-sidebar-shade-color);

  @define-color shade_color var(--shade-color);
  @define-color scrollbar_outline_color var(--scrollbar-outline-color);
  @define-color progress_bar_track_color var(--progress-bar-track-color);
  @define-color progress_bar_fill_color var(--progress-bar-fill-color);
  @define-color accent_color var(--accent-color);

  // These are not direct libadwaita CSS variables but often derived or context-specific.
  // We'll keep the ones that are broadly applicable.
  // --active-toggle-bg-color & --active-toggle-fg-color are very specific, handle in component SCSS.
  // --overview-bg-color & --overview-fg-color are specific, handle in component/view SCSS.

  // Oklab derived colors are a more advanced GTK feature for color manipulation.
  // Libadwaita itself doesn't expose --accent-color directly in its public CSS variables,
  // it's usually derived by applications if needed.
  // For now, we will remove the oklab definitions here to keep it simpler and closer
  // to standard CSS usage. If an application needs oklab, it can define it.
}

// Z-indexes
// Consider a more structured scale if many more layers are added.
$zindex-flap: 100; // For elements like sidebars that slide over content
$zindex-popover: 500; // For popovers, dropdowns
$zindex-dialog: 1000; // For modal dialogs
$zindex-dialog-backdrop: 999; // Backdrop for dialogs
$zindex-toast: 1500; // For toasts/notifications
$zindex-tooltip: 2000; // For tooltips, should be on top of almost everything


:root {
  @include define-gtk-colors();
}