@use "variables";

.adw-entry {
  padding: var(--spacing-s) var(--spacing-m);
  border-width: var(--border-width, 1px);
  border-style: solid;
  border-color: var(--button-border-color); // Changed to use button-border-color for consistency
  border-radius: var(--border-radius-default);
  background-color: var(--view-bg-color); // Entries are usually on view or window backgrounds
  color: var(--view-fg-color);
  font-size: var(--font-size-base);
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  box-shadow: inset 0 1px 1px rgba(0,0,0,0.03); // This could be made a variable e.g. --entry-inner-shadow if needed

  &:focus, // Adwaita entries often show focus indication regardless of input method
  &:focus-within {
    outline: none;
    border-color: var(--accent-color); // Border becomes accent color
    // Adwaita often uses a 2px border or a 1px border + 1px shadow of the same accent color.
    // Using a 1px border (already set) + 1px outer shadow for the focus ring effect.
    box-shadow: inset 0 1px 1px rgba(0,0,0,0.03), 0 0 0 1px var(--accent-color);
  }

  &::placeholder {
    color: var(--view-fg-color); // Placeholder should use the same fg color as the view/entry
    opacity: 0.5; // Slightly more subtle than previous 0.6
  }

  &[disabled],
  &:disabled {
    opacity: var(--opacity-disabled); // Use the general disabled opacity
    pointer-events: none;
    background-color: var(--entry-disabled-bg-color); // Use new variable
    border-color: var(--entry-disabled-border-color);   // Use new variable
    box-shadow: none; // Remove inner shadow on disabled
  }
}

// Dark theme overrides are mostly handled by new variables.
// The inner box-shadow might need a specific dark theme version if the light one is not suitable.
.dark-theme .adw-entry,
body.dark-theme .adw-entry {
  // border-color: var(--borders-color); // Already handled
  box-shadow: inset 0 1px 1px rgba(0,0,0,0.1); // Darker inner shadow for dark theme

  &:focus,
  &:focus-within {
     box-shadow: inset 0 1px 1px rgba(0,0,0,0.1), 0 0 0 1px var(--accent-color);
  }
  // Disabled state is handled by --entry-disabled-bg-color and --entry-disabled-border-color
}