@use "variables";

.adw-entry {
  padding: var(--spacing-xs) var(--spacing-s); // 6px 9px
  border-width: var(--border-width, 1px);
  border-style: solid;
  border-color: var(--entry-border-color);
  border-radius: var(--border-radius-medium); // 4px
  background-color: var(--view-bg-color);
  color: var(--view-fg-color);
  font-size: var(--font-size-base);
  transition: border-color 0.1s ease-out, box-shadow 0.1s ease-out; // shorter transition
  box-shadow: inset 0 1px 1px var(--entry-inset-shadow-light);

  body.dark-theme & {
    box-shadow: inset 0 1px 1px var(--entry-inset-shadow-dark);
  }

  &:focus,
  &:focus-within {
    outline: none;
    border-color: var(--accent-color);
    // The 2px effective focus ring: 1px border (already set by border-color) + 1px outer shadow
    box-shadow: inset 0 1px 1px var(--entry-inset-shadow-light), 0 0 0 1px var(--accent-color);
    body.dark-theme & {
      box-shadow: inset 0 1px 1px var(--entry-inset-shadow-dark), 0 0 0 1px var(--accent-color);
    }
  }

  &::placeholder {
    color: var(--view-fg-color);
    opacity: 0.5;
  }

  &[disabled],
  &:disabled {
    background-color: var(--entry-disabled-bg-color);
    border-color: var(--entry-disabled-border-color);
    color: var(--disabled-fg-color); // Use a general disabled foreground color
    box-shadow: none;
    opacity: 1; // Don't use general opacity if specific bg/fg are set
    cursor: not-allowed;
    pointer-events: none;
  }
}
// No need for specific .dark-theme .adw-entry overrides if variables handle it.
// Ensure --entry-inset-shadow-light and --entry-inset-shadow-dark are defined in _variables.scss
// For now, using rgba values directly as they were, but could be variables.
// --entry-inset-shadow-light: rgba(0,0,0,0.03);
// --entry-inset-shadow-dark: rgba(0,0,0,0.1);
// Also, need --disabled-fg-color in variables.