// scss/_spin_button.scss
@use 'variables';

.adw-spin-button {
  display: inline-flex;
  align-items: center;
  border: 1px solid var(--button-border-color); // Use button border for consistency
  border-radius: var(--border-radius-default);
  background-color: var(--view-bg-color); // Entry part background
  overflow: hidden; // Keep buttons contained

  &.disabled {
    opacity: var(--opacity-disabled, 0.5);
    pointer-events: none;
    .adw-spin-button-entry {
      background-color: var(--shade-color); // Disabled entry background
    }
  }

  .adw-spin-button-entry {
    // AdwEntry styles are applied by the factory, but we might override some specifics
    border: none; // Remove individual entry border, wrapper has it
    border-radius: 0; // No radius inside the wrapper
    // padding-right: var(--spacing-xxs); // Slightly less padding if buttons are close
    box-shadow: none; // No inner shadow
    min-height: calc(var(--button-size-base) - 2px); // Match button height, minus border
    height: calc(var(--button-size-base) - 2px);

    &:focus, &:focus-within {
      box-shadow: none; // No focus shadow on entry if wrapper handles focus
    }
  }

  .adw-spin-button-buttons {
    display: flex;
    flex-direction: column;
    height: 100%; // Match entry height

    .adw-button { // Up and Down buttons
      background-color: var(--button-bg-color);
      border: none;
      border-radius: 0;
      padding: 0 var(--spacing-xs); // Minimal padding for small buttons
      min-height: 0; // Allow them to be very short
      height: 50%; // Each button takes half the height
      line-height: 0; // Try to center icon if it's line-height sensitive
      box-shadow: none;


      &:hover {
        background-color: var(--button-hover-bg-color);
      }
      &:active {
        background-color: var(--button-active-bg-color);
      }
      &:disabled {
        background-color: var(--button-bg-color); // Keep bg, opacity handles disable
        opacity: 0.3; // More opacity for disabled internal buttons
      }

      .icon svg {
        width: 12px; // Smaller icons for spin buttons
        height: 12px;
      }
    }
    .adw-spin-button-up {
        border-bottom: 1px solid var(--button-border-color);
    }
  }

  &:focus-within { // Focus indication on the wrapper
    outline: 2px solid var(--accent-bg-color);
    outline-offset: 1px;
    border-color: var(--accent-bg-color);
  }
}

.dark-theme .adw-spin-button,
body.dark-theme .adw-spin-button {
  border-color: var(--button-border-color);
  background-color: var(--view-bg-color);

   &.disabled .adw-spin-button-entry {
      background-color: var(--shade-color);
    }

  .adw-spin-button-buttons {
    .adw-button {
      background-color: var(--button-bg-color);
      &:disabled {
         background-color: var(--button-bg-color);
      }
    }
     .adw-spin-button-up {
        border-bottom-color: var(--button-border-color);
    }
  }
   &:focus-within {
    border-color: var(--accent-bg-color);
  }
}
