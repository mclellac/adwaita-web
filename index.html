<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adwaita Web - Declarative Demo</title>
    <link rel="stylesheet" href="app-demo/static/css/adwaita-web.css">
    <!-- components.js must be loaded as a module because it uses ES6 import/export -->
    <script type="module" src="app-demo/static/js/components.js" defer></script>
    <!-- adw-initializer.js depends on Adw global from components.js, defer ensures it runs after HTML parsing -->
    <script src="app-demo/static/js/adw-initializer.js" defer></script>
    <style>
        body { margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        adw-application-window { flex-grow: 1; display: flex; flex-direction: column; }
        .main-content-area { padding: var(--spacing-l); overflow-y: auto; flex-grow: 1; }
        .widget-showcase { margin-bottom: var(--spacing-l); }
        .widget-showcase > adw-label[title-level="1"] { margin-bottom: var(--spacing-m); }
        .button-group adw-button { margin-right: var(--spacing-s); margin-bottom: var(--spacing-s); }
    </style>
</head>
<body>
    <adw-application-window id="main-window">
        <adw-header-bar slot="header" id="main-header-bar">
            <adw-button slot="start" icon="<svg width='16' height='16'><path d='M2 8l6-6v4h6v4H8v4z'/></svg>" id="header-back-button"></adw-button>
            <adw-window-title slot="title" title="Adwaita Widgets" subtitle="Declarative Demo"></adw-window-title>
            <adw-button slot="end" id="theme-toggle-button">Toggle Theme</adw-button>
            <adw-button slot="end" icon="<svg width='16' height='16'><path d='M2 3h12v2H2zm0 4h12v2H2zm0 4h12v2H2z'/></svg>" id="header-menu-button"></adw-button>
        </adw-header-bar>

        <div class="main-content-area">
            <!-- Buttons Section -->
            <section class="widget-showcase">
                <adw-label title-level="1">Buttons</adw-label>
                <div class="button-group">
                    <adw-button id="btn-click-me">Click Me!</adw-button>
                    <adw-button id="btn-suggested" suggested>Suggested</adw-button>
                    <adw-button id="btn-destructive" destructive>Delete</adw-button>
                    <adw-button id="btn-disabled" disabled>Disabled</adw-button>
                    <adw-button id="btn-flat" flat>Flat Button</adw-button>
                    <adw-button id="btn-icon" icon="<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z'/></svg>">With Icon</adw-button>
                    <adw-button id="btn-circular" circular icon="<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15'/></svg>"></adw-button>
                </div>
                <details>
                    <summary>Show Button Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-button id="btn-click-me"&gt;Click Me!&lt;/adw-button&gt;
&lt;adw-button id="btn-suggested" suggested&gt;Suggested&lt;/adw-button&gt;
&lt;adw-button id="btn-destructive" destructive&gt;Delete&lt;/adw-button&gt;
&lt;adw-button id="btn-disabled" disabled&gt;Disabled&lt;/adw-button&gt;
&lt;adw-button id="btn-flat" flat&gt;Flat Button&lt;/adw-button&gt;
&lt;adw-button id="btn-icon" icon="&lt;svg&gt;...&lt;/svg&gt;"&gt;With Icon&lt;/adw-button&gt;
&lt;adw-button id="btn-circular" circular icon="&lt;svg&gt;...&lt;/svg&gt;"&gt;&lt;/adw-button&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Labels -->
            <section class="widget-showcase">
                <adw-label title-level="1">Typography (Declarative)</adw-label>
                <adw-row>
                    <adw-label title-level="1">Title 1</adw-label>
                    <adw-label is-body>This is a standard body text label.</adw-label>
                </adw-row>
                 <adw-row>
                    <adw-label title-level="2">Title 2</adw-label>
                    <adw-label title-level="3">Title 3</adw-label>
                </adw-row>
                <adw-row>
                    <adw-label title-level="4">Title 4</adw-label>
                    <adw-label is-caption>This is a caption label.</adw-label>
                </adw-row>
                <details>
                    <summary>Show Label Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-label title-level="1"&gt;Title 1&lt;/adw-label&gt;
&lt;adw-label is-body&gt;This is a standard body text label.&lt;/adw-label&gt;
&lt;adw-label is-caption&gt;This is a caption label.&lt;/adw-label&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Progress Bar -->
            <section class="widget-showcase">
                <adw-label title-level="1">Progress Bars (Declarative)</adw-label>
                <adw-box orientation="vertical" spacing="s">
                    <adw-row>
                        <adw-label>Progress (50%):</adw-label>
                        <adw-progress-bar value="50"></adw-progress-bar>
                    </adw-row>
                    <adw-row>
                        <adw-label>Indeterminate:</adw-label>
                        <adw-progress-bar indeterminate></adw-progress-bar>
                    </adw-row>
                </adw-box>
                <details>
                    <summary>Show Progress Bar Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-progress-bar value="50"&gt;&lt;/adw-progress-bar&gt;
&lt;adw-progress-bar indeterminate&gt;&lt;/adw-progress-bar&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Checkbox and Radio Buttons -->
            <section class="widget-showcase">
                <adw-label title-level="1">Controls (Declarative)</adw-label>
                <adw-box orientation="vertical" spacing="m">
                    <adw-row>
                        <adw-checkbox label="Enable Feature (Declarative)" id="declarative-checkbox-event" checked></adw-checkbox>
                        <adw-checkbox label="Disabled Checkbox" disabled></adw-checkbox>
                    </adw-row>
                    <adw-row>
                        <adw-label>Radio Group:</adw-label>
                        <adw-radio-button label="Option Alpha" name="declarative-radio-group" checked></adw-radio-button>
                        <adw-radio-button label="Option Beta" name="declarative-radio-group"></adw-radio-button>
                        <adw-radio-button label="Option Gamma (Disabled)" name="declarative-radio-group" disabled></adw-radio-button>
                    </adw-row>
                </adw-box>
                <details>
                    <summary>Show Checkbox/Radio Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-checkbox label="Enable Feature" checked&gt;&lt;/adw-checkbox&gt;
&lt;adw-radio-button label="Option Alpha" name="radio-group" checked&gt;&lt;/adw-radio-button&gt;
&lt;adw-radio-button label="Option Beta" name="radio-group"&gt;&lt;/adw-radio-button&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative ListBox -->
            <section class="widget-showcase">
                <adw-label title-level="1">List Boxes (Declarative)</adw-label>
                <adw-list-box selectable>
                    <adw-row interactive id="declarative-listbox-interactive-row">
                        <adw-label>List Item 1 (Interactive Declarative)</adw-label>
                    </adw-row>
                    <adw-row>
                        <adw-label>List Item 2 (Not Interactive)</adw-label>
                        <adw-switch slot="suffix"></adw-switch>
                    </adw-row>
                    <adw-action-row title="Declarative Action Row in List" subtitle="From ListBox section" icon="&lt;svg width='16' height='16' viewBox='0 0 16 16'&gt;&lt;path fill='currentColor' d='M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM6.5 4.5a.5.5 0 0 1 1 0V7h2.5a.5.5 0 0 1 0 1H7.5v2.5a.5.5 0 0 1-1 0V8H4a.5.5 0 0 1 0-1h2.5V4.5Z'/&gt;&lt;/svg&gt;"></adw-action-row>
                </adw-list-box>
                <details>
                    <summary>Show ListBox Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-list-box selectable&gt;
    &lt;adw-row interactive&gt;
        &lt;adw-label&gt;List Item 1&lt;/adw-label&gt;
    &lt;/adw-row&gt;
    &lt;adw-action-row title="Action Row" subtitle="Subtitle"&gt;&lt;/adw-action-row&gt;
&lt;/adw-list-box&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Banners (Declarative Trigger and Container) -->
            <section class="widget-showcase">
                <adw-label title-level="1">Banners (Declarative Trigger)</adw-label>
                <adw-box orientation="vertical" spacing="s" id="declarative-banner-container" style="padding: var(--spacing-s); border: 1px dashed var(--border-color); min-height: 50px;">
                    <!-- Banners will appear here -->
                </adw-box>
                <adw-box orientation="horizontal" spacing="s" style="margin-top: var(--spacing-s);">
                    <adw-button id="trigger-info-banner-declarative">Show Info Banner</adw-button>
                    <adw-button id="trigger-error-banner-declarative" destructive>Show Error Banner</adw-button>
                </adw-box>
                 <details>
                    <summary>Show Banner Trigger Code Examples (JS for imperative banner creation)</summary>
                    <pre><code>
// HTML for container and trigger button:
// &lt;adw-box id="my-banner-container" style="min-height: 50px;"&gt;&lt;/adw-box&gt;
// &lt;adw-button id="show-banner-btn"&gt;Show Banner&lt;/adw-button&gt;

// JavaScript:
const bannerContainer = document.getElementById('my-banner-container');
document.getElementById('show-banner-btn').addEventListener('click', () => {
    Adw.createAdwBanner("This is an informational message.", {
        type: 'info', // 'info', 'warning', 'error'
        dismissible: true,
        container: bannerContainer // Specify the container here
    });
});
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Spinners -->
            <section class="widget-showcase">
                <adw-label title-level="1">Spinners (Declarative)</adw-label>
                <adw-box orientation="horizontal" spacing="m" style="align-items: center;">
                    <adw-label>Default Spinner:</adw-label>
                    <adw-spinner></adw-spinner>
                    <adw-label>Small Spinner:</adw-label>
                    <adw-spinner small></adw-spinner>
                    <adw-label>Large Spinner:</adw-label>
                    <adw-spinner large></adw-spinner>
                </adw-box>
                <details>
                    <summary>Show Spinner Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-spinner&gt;&lt;/adw-spinner&gt;
&lt;adw-spinner small&gt;&lt;/adw-spinner&gt;
&lt;adw-spinner large&gt;&lt;/adw-spinner&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Status Pages -->
            <section class="widget-showcase">
                <adw-label title-level="1">Status Pages (Declarative)</adw-label>
                <adw-status-page title="No Items Found" icon="<svg width='48' height='48' viewBox='0 0 24 24'><path fill='currentColor' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z'/></svg>">
                    <adw-label slot="description">There are currently no items to display in this section.</adw-label>
                    <adw-button slot="action" suggested>Add New Item</adw-button>
                </adw-status-page>
                <details>
                    <summary>Show Status Page Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-status-page title="No Items Found" icon="&lt;svg&gt;...&lt;/svg&gt;"&gt;
    &lt;adw-label slot="description"&gt;There are currently no items to display.&lt;/adw-label&gt;
    &lt;adw-button slot="action" suggested&gt;Add New Item&lt;/adw-button&gt;
&lt;/adw-status-page&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Split Buttons -->
            <section class="widget-showcase">
                <adw-label title-level="1">Split Buttons (Declarative)</adw-label>
                <adw-box orientation="horizontal" spacing="m" style="align-items: center;">
                    <adw-split-button action-text="Save" id="declarative-split-btn">
                        <adw-menu slot="menu">
                            <adw-menu-item label="Save As..." data-action="save-as"></adw-menu-item>
                            <adw-menu-item label="Export..." data-action="export"></adw-menu-item>
                        </adw-menu>
                    </adw-split-button>
                    <adw-split-button action-text="Open" icon="<svg width='16' height='16'><path d='M2 3h12v2H2z'/></svg>" id="declarative-split-btn-icon" suggested>
                         <adw-menu slot="menu">
                            <adw-menu-item label="Open Recent" data-action="open-recent"></adw-menu-item>
                        </adw-menu>
                    </adw-split-button>
                </adw-box>
                <details>
                    <summary>Show Split Button Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-split-button action-text="Save"&gt;
    &lt;adw-menu slot="menu"&gt;
        &lt;adw-menu-item label="Save As..."&gt;&lt;/adw-menu-item&gt;
    &lt;/adw-menu&gt;
&lt;/adw-split-button&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Avatars -->
            <section class="widget-showcase">
                <adw-label title-level="1">Avatars (Declarative)</adw-label>
                <adw-box orientation="horizontal" spacing="m" style="align-items: center;">
                    <adw-avatar text="Jules Verne" size="32"></adw-avatar>
                    <adw-avatar image="app-demo/static/img/default_avatar.png" size="48"></adw-avatar>
                    <adw-avatar text="Ada Lovelace" size="64" shape="rounded"></adw-avatar>
                     <adw-avatar icon="<svg width='24' height='24' viewBox='0 0 24 24'><path fill='currentColor' d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/></svg>" size="40"></adw-avatar>
                </adw-box>
                <details>
                    <summary>Show Avatar Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-avatar text="Jules Verne" size="32"&gt;&lt;/adw-avatar&gt;
&lt;adw-avatar image="path/to/image.png" size="48"&gt;&lt;/adw-avatar&gt;
&lt;adw-avatar text="Ada L" size="64" shape="rounded"&gt;&lt;/adw-avatar&gt;
&lt;adw-avatar icon="&lt;svg&gt;...&lt;/svg&gt;" size="40"&gt;&lt;/adw-avatar&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative ViewSwitcher -->
            <section class="widget-showcase">
                <adw-label title-level="1">ViewSwitcher (Declarative)</adw-label>
                <adw-view-switcher id="declarative-view-switcher">
                    <adw-view name="Page 1" title="Page One">
                        <adw-box style="padding: var(--spacing-l);">
                            <adw-label title-level="2">Content for Page One (Declarative)</adw-label>
                            <adw-button>A button on page 1</adw-button>
                        </adw-box>
                    </adw-view>
                    <adw-view name="Page 2" title="Page Two (Active)" active>
                         <adw-box style="padding: var(--spacing-l);">
                            <adw-label title-level="2">Content for Page Two (Declarative)</adw-label>
                            <adw-entry placeholder="Type something on page 2"></adw-entry>
                        </adw-box>
                    </adw-view>
                    <adw-view name="Page 3" title="Page Three">
                         <adw-box style="padding: var(--spacing-l);">
                            <adw-label title-level="2">Content for Page Three (Declarative)</adw-label>
                        </adw-box>
                    </adw-view>
                </adw-view-switcher>
                <details>
                    <summary>Show ViewSwitcher Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-view-switcher&gt;
    &lt;adw-view name="Page1" title="Page One"&gt;
        &lt;!-- Content for page 1 --&gt;
    &lt;/adw-view&gt;
    &lt;adw-view name="Page2" title="Page Two" active&gt;
        &lt;!-- Content for page 2 --&gt;
    &lt;/adw-view&gt;
&lt;/adw-view-switcher&gt;
                    </code></pre>
                </details>
            </section>

            <!-- Declarative Flap -->
            <section class="widget-showcase">
                <adw-label title-level="1">Flap (Declarative)</adw-label>
                <adw-button id="toggle-declarative-flap">Toggle Flap</adw-button>
                <adw-flap id="declarative-flap-instance" style="border: 1px solid var(--border-color); margin-top: var(--spacing-s);">
                    <adw-box slot="flap-content" style="padding: var(--spacing-m); background: var(--secondary-bg-color);" min-width="200px">
                        <adw-label title-level="3">Flap Content</adw-label>
                        <adw-button>Button in Flap</adw-button>
                    </adw-box>
                    <adw-box slot="main-content" style="padding: var(--spacing-m); min-height: 150px;">
                        <adw-label title-level="3">Main Content Area</adw-label>
                        <adw-entry placeholder="Entry in main content"></adw-entry>
                    </adw-box>
                </adw-flap>
                 <details>
                    <summary>Show Flap Code Examples (Declarative)</summary>
                    <pre><code>
&lt;adw-button id="toggle-flap-btn"&gt;Toggle Flap&lt;/adw-button&gt;
&lt;adw-flap id="my-flap"&gt;
    &lt;div slot="flap-content"&gt;Flap's content here.&lt;/div&gt;
    &lt;div slot="main-content"&gt;Main content here.&lt;/div&gt;
&lt;/adw-flap&gt;
&lt;script&gt;
    document.getElementById('toggle-flap-btn').addEventListener('click', () => {
        document.getElementById('my-flap').toggle();
    });
&lt;/script&gt;
                    </code></pre>
                </details>
            </section>

            <div id="legacy-js-factories-content">
                 <adw-label title-level="1" id="legacy-js-section-title" style="display:none; margin-top: var(--spacing-xl);">Legacy JS Factory Examples</adw-label>
                <!-- JS factories will append their output here for components NOT YET converted to declarative in this file -->
            </div>
        </div>

        <div class="main-content-area" id="custom-elements-showcase-area">
             <!-- The "Custom Element Showcase" from the script will be appended here -->
        </div>
    </adw-application-window>
    <!-- Ensure all HTML content is defined before this main script block -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        console.log("Test: DOMContentLoaded script running. Intentionally minimal for debugging index.html syntax error.");
        // If the error at index.html:398 persists even with this minimal script,
        // it confirms the issue is structural (HTML outside this script is being parsed as JS).
        // If the error at index.html:398 disappears, then the error was within the JS code
        // that was previously in this block.
    });
    </script>
</body>
</html>
