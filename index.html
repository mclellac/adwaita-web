<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adwaita Web</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app"></div>

    <script src="js/components.js"></script>
    <script>
        // Helper function to create code sample blocks
        function createCodeSampleDetails(summaryText, codeText) {
            const details = document.createElement('details');
            const summary = document.createElement('summary');
            summary.textContent = summaryText;
            details.appendChild(summary);
            const pre = document.createElement('pre');
            const code = document.createElement('code');
            code.textContent = codeText.trim(); // Trim to remove leading/trailing whitespace from template literals
            pre.appendChild(code);
            details.appendChild(pre);
            return details;
        }

        // --- Header Bar ---
        const themeButton = Adw.createButton("Toggle Theme", {
            onClick: Adw.toggleTheme,
        });

        const headerBar = Adw.createHeaderBar({
            title: "Adwaita Widgets",
            subtitle: "Demonstration",
            start: [Adw.createButton("<", { href: "#" })],
            end: [themeButton, Adw.createButton("â˜°", { onClick: () => alert("Menu clicked") })],
        });

        // --- Buttons ---
        const button = Adw.createButton('Click Me!', {
            onClick: () => Adw.createToast("Button Clicked", {timeout: 3000}),
        });
        const suggestedButton = Adw.createButton('Suggested', {
            onClick: () => Adw.createToast("Suggested Button Clicked"),
            suggested: true
        });
        const destructiveButton = Adw.createButton('Delete', {
            onClick: () => Adw.createToast("Destructive Button Clicked"),
            destructive: true, // Will now use .destructive-action
        });
        const disabledButton = Adw.createButton('Disabled', {
            onClick: () => alert("This shouldnt be clickable!"),
            disabled: true
        });
        const flatButton = Adw.createButton('Flat Button', {
            onClick: () => alert('Flat Button clicked!'),
            flat: true
        });
        // New button examples
        const iconButton = Adw.createButton('With Icon', {
            icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z"/></svg>', // Simple placeholder SVG
            onClick: () => Adw.createToast("Icon Button Clicked")
        });
        const circularButton = Adw.createButton('', {
            icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/></svg>', // Placeholder heart SVG
            isCircular: true,
            onClick: () => Adw.createToast("Circular Button Clicked")
        });


        const buttonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: "m", // Adjusted spacing for better visual separation
            children: [button, suggestedButton, destructiveButton, disabledButton, flatButton, iconButton, circularButton]
        });

        const buttonCodeSample = `
// Basic Button
const button = Adw.createButton('Click Me!', {
    onClick: () => Adw.createToast("Button Clicked"),
});

// Suggested Button (e.g., for primary confirmation actions)
const suggestedButton = Adw.createButton('Suggested', {
    onClick: () => Adw.createToast("Suggested Button Clicked"),
    suggested: true // Optional: makes it a suggested action
});

// Destructive Button (e.g., for delete or reset actions)
const destructiveButton = Adw.createButton('Delete', {
    onClick: () => Adw.createToast("Destructive Button Clicked"),
    destructive: true, // Optional: styles for destructive actions
});

// Disabled Button
const disabledButton = Adw.createButton('Disabled', {
    onClick: () => { /* This won't run */ },
    disabled: true
});

// Flat Button (borderless)
const flatButton = Adw.createButton('Flat Button', {
    onClick: () => Adw.createToast('Flat Button Clicked!'),
    flat: true
});

// Button with Icon
const iconButton = Adw.createButton('With Icon', {
    icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z"/></svg>', // Example SVG
    onClick: () => Adw.createToast("Icon Button Clicked")
});

// Circular Button (typically for icons only)
const circularButton = Adw.createButton('', { // Label is often empty
    icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/></svg>', // Example SVG
    isCircular: true,
    onClick: () => Adw.createToast("Circular Button Clicked")
});
        `;
        const buttonsCodeDetails = createCodeSampleDetails('Show Button Code Examples', buttonCodeSample);

        // --- Entry ---
        const entry = Adw.createEntry({
            placeholder: 'Enter text...',
            onInput: (e) => console.log('Input:', e.target.value),
        });
        const disabledEntry = Adw.createEntry({
          placeholder: "Disabled entry...",
          disabled: true
        });
        const entryBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [Adw.createLabel("Entry:"), entry] }),
                Adw.createRow({ children: [Adw.createLabel("Disabled Entry: "), disabledEntry]})
            ]
        });

        const entryCodeSample = `
// Basic Entry
const entry = Adw.createEntry({
    placeholder: 'Enter text...',
    onInput: (e) => console.log('Input:', e.target.value),
    // onChanged: (e) => console.log('Changed (focus lost):', e.target.value) // For when focus is lost after editing
});

// Disabled Entry
const disabledEntry = Adw.createEntry({
  placeholder: "Disabled entry...",
  disabled: true
});
        `;
        const entryCodeDetails = createCodeSampleDetails('Show Entry Code Examples', entryCodeSample);
        // Will be inserted after entryBox in the main layout section later.

        // --- Switch ---
        const switchEl = Adw.createSwitch({
          onChanged: (e) => console.log("switch is: ", e.target.checked),
          checked: true
        });
        const disabledSwitchEl = Adw.createSwitch({
            onChanged: (e) => console.log("switch is: ", e.target.checked),
            disabled: true
          });
        const switchBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
              Adw.createRow({ children: [Adw.createLabel("Switch: "), switchEl] }),
              Adw.createRow({ children: [Adw.createLabel("Disabled Switch: "), disabledSwitchEl] })
            ]
        });

        const switchCodeSample = `
// Basic Switch
const switchEl = Adw.createSwitch({
  onChanged: (e) => console.log("Switch state:", e.target.checked),
  checked: true // Initial state (true or false)
});

// Disabled Switch
const disabledSwitchEl = Adw.createSwitch({
  onChanged: (e) => { /* This won't trigger if disabled */ },
  disabled: true,
  checked: false // Or true, if you want it to appear "on" but disabled
});
        `;
        const switchCodeDetails = createCodeSampleDetails('Show Switch Code Examples', switchCodeSample);
        // Will be inserted after switchBox in the main layout section later.

        // --- Labels ---
        const label = Adw.createLabel("This is a label", {isBody: true});
        const labelTitle1 = Adw.createLabel("Title 1", {title: 1});
        const labelTitle2 = Adw.createLabel("Title 2", {title: 2});
        const labelTitle3 = Adw.createLabel("Title 3", {title: 3});
        const labelTitle4 = Adw.createLabel("Title 4", {title: 4});
        const labelCaption = Adw.createLabel("Caption", {isCaption: true});
        const labelsBox = Adw.createRow({ children: [labelTitle1, labelTitle2, labelTitle3, labelTitle4, label, labelCaption] }); // Grouped for layout

        const labelCodeSample = `
// Title Labels (levels 1-4)
const labelTitle1 = Adw.createLabel("Title 1", {title: 1});
const labelTitle2 = Adw.createLabel("Title 2", {title: 2});
// ...and so on for title: 3, title: 4

// Body Text Label
const bodyLabel = Adw.createLabel("This is a standard body text label.", {isBody: true});

// Caption Label (smaller, often secondary text)
const captionLabel = Adw.createLabel("This is a caption.", {isCaption: true});
        `;
        const labelCodeDetails = createCodeSampleDetails('Show Label Code Examples', labelCodeSample);
        // Will be inserted after labelsBox

        // --- Dialog (Example Usage) ---
        const openDialogButton = Adw.createButton('Open Dialog', {
          onClick: () => {
            const dialogContent = Adw.createBox({
              orientation: 'vertical',
              children: [
                Adw.createLabel("This is the dialog content."),
                Adw.createEntry({ placeholder: "Dialog Entry" }),
              ]
            });

            const dialog = Adw.createDialog({
              title: "Example Dialog",
              content: dialogContent,
              buttons: [
                Adw.createButton("Cancel", { onClick: () => dialog.close() }),
                Adw.createButton("OK", { suggested: true, onClick: () => {
                  Adw.createToast("OK clicked");
                  dialog.close();
                } }),
              ]
            });
            dialog.open(); // Open the dialog (it's now appended to the body in components.js)
          }
        });

        // --- Progress Bar ---
          const progressBar = Adw.createProgressBar({value: 50});
          const disabledProgressBar = Adw.createProgressBar({value: 75, disabled: true});
          const indeterminateProgressBar = Adw.createProgressBar({isIndeterminate: true});

        const progressBarBox = Adw.createBox({
            orientation: 'vertical', // Changed to vertical for better layout of multiple bars
            spacing: "s",
            children: [
                Adw.createRow({ children: [Adw.createLabel("Progress (50%): "), progressBar]}),
                Adw.createRow({ children: [Adw.createLabel("Disabled (75%): "), disabledProgressBar]}),
                Adw.createRow({ children: [Adw.createLabel("Indeterminate: "), indeterminateProgressBar]})
            ]
        });

        const progressBarCodeSample = `
// Progress Bar with a specific value
const progressBar = Adw.createProgressBar({
    value: 50 // Percentage (0-100)
});

// Disabled Progress Bar
const disabledProgressBar = Adw.createProgressBar({
    value: 75,
    disabled: true
});

// Indeterminate Progress Bar (for tasks of unknown duration)
const indeterminateProgressBar = Adw.createProgressBar({
    isIndeterminate: true
});
        `;
        const progressBarCodeDetails = createCodeSampleDetails('Show Progress Bar Code Examples', progressBarCodeSample);
        // Will be inserted after progressBarBox

        // --- Checkbox ---
        const checkbox = Adw.createCheckbox({
            label: "Enable Feature",
            onChanged: (e) => console.log("Checkbox:", e.target.checked),
        });
         const disabledCheckbox = Adw.createCheckbox({
            label: "Disabled Checkbox",
             disabled: true,
            onChanged: (e) => console.log("Checkbox:", e.target.checked),
        });
        const checkBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [checkbox]}),
                Adw.createRow({children: [disabledCheckbox]})
            ]
        });

        const checkboxCodeSample = `
// Basic Checkbox
const checkbox = Adw.createCheckbox({
    label: "Enable Feature",
    onChanged: (e) => console.log("Checkbox state:", e.target.checked),
    // checked: true // Optional: initial state (true or false)
});

// Disabled Checkbox
const disabledCheckbox = Adw.createCheckbox({
    label: "Disabled Checkbox",
    disabled: true,
    checked: true // Can be checked but disabled
});
        `;
        const checkboxCodeDetails = createCodeSampleDetails('Show Checkbox Code Examples', checkboxCodeSample);
        // Will be inserted after checkBox

        // --- Radio Button ---
        const radio1 = Adw.createRadioButton({
            label: "Option 1",
            name: "radioGroup",
            onChanged: (e) => console.log("Radio 1:", e.target.checked),
            checked: true,
        });

        const radio2 = Adw.createRadioButton({
            label: "Option 2",
            name: "radioGroup",
            onChanged: (e) => console.log("Radio 2:", e.target.checked),
        });
        const disabledRadio = Adw.createRadioButton({
          label: 'Disabled Radio',
          name: 'radioGroup2',
          disabled: true
        })

        const radioBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [radio1, radio2, disabledRadio] })
            ]
        });

        const radioButtonCodeSample = `
// Radio Buttons (grouped by 'name' attribute)
const radio1 = Adw.createRadioButton({
    label: "Option A",
    name: "myRadioGroup", // Essential for grouping
    onChanged: (e) => { if(e.target.checked) console.log("Selected Option A"); },
    checked: true // Set the default selected radio button in a group
});

const radio2 = Adw.createRadioButton({
    label: "Option B",
    name: "myRadioGroup",
    onChanged: (e) => { if(e.target.checked) console.log("Selected Option B"); }
});

// Disabled Radio Button
const disabledRadio = Adw.createRadioButton({
  label: 'Disabled Option',
  name: 'anotherGroup', // Can be in a different group or same
  disabled: true,
  checked: true // Can be checked but disabled (visual only)
});
        `;
        const radioButtonCodeDetails = createCodeSampleDetails('Show Radio Button Code Examples', radioButtonCodeSample);
        // Will be inserted after radioBox

        // --- List Box ---
        const listBox = Adw.createListBox({
            children: [
                Adw.createRow({ interactive: true, onClick: () => Adw.createToast("Row 1 Clicked"), children: [Adw.createLabel("List Item 1 (Interactive)")] }),
                Adw.createRow({ children: [Adw.createLabel("List Item 2")] , activated: true}),
                Adw.createRow({ children: [Adw.createLabel("List Item 3")] }),
            ]
        });
        const flatListBox = Adw.createListBox({
            isFlat: true,
            children: [
                Adw.createRow({ children: [Adw.createLabel("Flat Item A")] }),
                Adw.createRow({ children: [Adw.createLabel("Flat Item B")] }),
            ]
        });
        const listBoxContainer = Adw.createBox({
            orientation: 'horizontal', spacing: 'm',
            children: [
                Adw.createBox({orientation: 'vertical', spacing: 's', children: [Adw.createLabel("Default ListBox", {title:4}), listBox]}), // Added spacing
                Adw.createBox({orientation: 'vertical', spacing: 's', children: [Adw.createLabel("Flat ListBox", {title:4}), flatListBox]})   // Added spacing
            ]
        });

        const listBoxCodeSample = `
// Basic ListBox
const listBox = Adw.createListBox({
    children: [
        Adw.createRow({
            interactive: true, // Make the row clickable
            onClick: () => Adw.createToast("Row 1 Clicked"),
            children: [Adw.createLabel("List Item 1 (Interactive)")]
        }),
        Adw.createRow({
            children: [Adw.createLabel("List Item 2")],
            activated: true // Highlights the row as if selected
        }),
        // Add more Adw.createRow or specialized rows (ActionRow, etc.)
    ]
    // Properties like isFlat can be set here too.
});

// Flat ListBox (removes outer border and shadow)
const flatListBox = Adw.createListBox({
    isFlat: true,
    children: [ /* ... rows ... */ ]
});

// Adding to layout:
// yourContainer.appendChild(listBox);
        `;
        const listBoxCodeDetails = createCodeSampleDetails('Show ListBox Code Examples', listBoxCodeSample);
        // Will be inserted after listBoxContainer


        // --- Banners ---
        const bannersTitle = Adw.createLabel("Banners", { title: 1 });
        const bannerContainer = Adw.createBox({ orientation: 'vertical', spacing: 's', _meta_id: "banner-container-box" }); // Container for banners to appear

        const showInfoBannerButton = Adw.createButton("Show Info Banner", {
            onClick: () => {
                Adw.createAdwBanner("This is an informational message.", {
                    type: 'info',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showSuccessBannerButton = Adw.createButton("Show Success Banner", {
            suggested: true,
            onClick: () => {
                Adw.createAdwBanner("Action was completed successfully!", {
                    type: 'success',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showWarningBannerButton = Adw.createButton("Show Warning Banner", {
            onClick: () => {
                Adw.createAdwBanner("Warning: Something might be wrong.", {
                    type: 'warning',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showErrorBannerButton = Adw.createButton("Show Error Banner (Non-Dismissible)", {
            destructive: true,
            onClick: () => {
                Adw.createAdwBanner("Error: Something went wrong. This banner is not dismissible.", {
                    type: 'error',
                    dismissible: false,
                    container: bannerContainer
                });
            }
        });

        const bannerButtonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 's',
            children: [showInfoBannerButton, showSuccessBannerButton, showWarningBannerButton, showErrorBannerButton]
        });
        // bannerContainer will be added to content's children, then bannerButtonsBox.
        // Banners themselves are added to bannerContainer dynamically.

        const bannerCodeSample = `
// Info Banner (dismissible by default)
// Banners are prepended to their container.
const bannerDisplayContainer = Adw.createBox({ orientation: 'vertical', spacing: 's' });
// yourMainContent.appendChild(bannerDisplayContainer); // Add this container where you want banners

Adw.createAdwBanner("This is an informational message.", {
    type: 'info',
    container: bannerDisplayContainer
});

// Success Banner
Adw.createAdwBanner("Action was completed successfully!", {
    type: 'success',
    dismissible: true,
    container: bannerDisplayContainer
});

// Warning Banner
Adw.createAdwBanner("Warning: Something might be wrong.", {
    type: 'warning',
    container: bannerDisplayContainer
});

// Error Banner (not dismissible)
Adw.createAdwBanner("Error: Something went wrong.", {
    type: 'error',
    dismissible: false,
    container: bannerDisplayContainer
});
        `;
        const bannerCodeDetails = createCodeSampleDetails('Show Banner Code Examples', bannerCodeSample);

        // --- Spinners ---
        const spinnersTitle = Adw.createLabel("Spinners", { title: 1 });
        const spinnerSmall = Adw.createSpinner({ size: 'small' });
        const spinnerMedium = Adw.createSpinner(); // Default size
        const spinnerLarge = Adw.createSpinner({ size: 'large' });

        const spinnerBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'm',
            align: 'center',
            children: [
                Adw.createLabel("Small:"), spinnerSmall,
                Adw.createLabel("Default:"), spinnerMedium,
                Adw.createLabel("Large:"), spinnerLarge
            ]
        });

        const spinnerCodeSample = `
// Small Spinner
const spinnerSmall = Adw.createSpinner({ size: 'small' });

// Default Size Spinner (medium)
const spinnerMedium = Adw.createSpinner();

// Large Spinner
const spinnerLarge = Adw.createSpinner({ size: 'large' });

// Add to layout:
// yourContainer.appendChild(spinnerSmall);
        `;
        const spinnerCodeDetails = createCodeSampleDetails('Show Spinner Code Examples', spinnerCodeSample);

        // --- Status Pages ---
        const statusPagesTitle = Adw.createLabel("Status Pages", { title: 1 });
        // Re-use an existing SVG icon string from components.js for demo purposes if available, or define a simple one.
        // const ADW_ICON_INFO_EXAMPLE = \`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>\`;
        const statusPageIconSVG = ADW_ICON_VISIBILITY_SHOW; // Using a globally available one for simplicity

        const statusPageDemo1 = Adw.createStatusPage({
            title: "No Items Found",
            description: "There are no items to display in this section. Try adjusting your filters or creating a new item.",
            iconHTML: statusPageIconSVG
        });

        const statusPageDemo2 = Adw.createStatusPage({
            title: "Action Required",
            description: "Please complete the setup process to continue.",
            iconHTML: statusPageIconSVG, // Using a different icon might be better if available
            actions: [
                Adw.createButton("Complete Setup", { suggested: true, onClick: () => Adw.createToast("Setup button clicked!") }),
                Adw.createButton("Later", { onClick: () => Adw.createToast("Later button clicked!") })
            ]
        });

        const statusPageContainer = Adw.createBox({ // Renamed from statusPageBox to avoid conflict if any
            orientation: 'vertical',
            spacing: 'l',
            children: [
                Adw.createLabel("Basic Status Page:", {title: 4}),
                statusPageDemo1,
                Adw.createLabel("Status Page with Actions:", {title: 4}),
                statusPageDemo2
            ]
        });

        const statusPageCodeSample = `
// Basic Status Page with an SVG icon
const statusPageIconSVG = '<svg>...</svg>'; // Your SVG string for an icon
const statusPage1 = Adw.createStatusPage({
    title: "No Items Found",
    description: "There are no items to display.",
    iconHTML: statusPageIconSVG
});

// Status Page with actions
const statusPage2 = Adw.createStatusPage({
    title: "Action Required",
    description: "Please complete the setup process.",
    // iconHTML: can be another SVG string
    actions: [
        Adw.createButton("Complete Setup", {
            suggested: true,
            onClick: () => console.log("Setup clicked")
        }),
        Adw.createButton("Later")
    ]
});

// Add to layout:
// yourContainer.appendChild(statusPage1);
        `;
        const statusPageCodeDetails = createCodeSampleDetails('Show Status Page Code Examples', statusPageCodeSample);

        // --- Split Buttons ---
        const splitButtonsTitle = Adw.createLabel("Split Buttons", { title: 1 });

        const splitButtonBasic = Adw.createSplitButton({
            actionText: "Save",
            onActionClick: () => Adw.createToast("Save action clicked!"),
            onDropdownClick: () => Adw.createToast("Dropdown for Save clicked!")
        });

        const splitButtonSuggested = Adw.createSplitButton({
            actionText: "Submit",
            suggested: true,
            onActionClick: () => Adw.createToast("Submit action clicked!"),
            onDropdownClick: () => Adw.createToast("Dropdown for Submit clicked!")
        });

        const splitButtonWithLink = Adw.createSplitButton({
            actionText: "Open Link",
            actionHref: "https://www.example.com",
            onDropdownClick: () => Adw.createToast("Dropdown for Link clicked!")
        });

        const splitButtonDisabled = Adw.createSplitButton({
            actionText: "Disabled",
            disabled: true,
            onActionClick: () => Adw.createToast("This should not fire."),
            onDropdownClick: () => Adw.createToast("This should not fire.")
        });

        const splitButtonBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'm',
            align: 'center',
            children: [
                splitButtonBasic,
                splitButtonSuggested,
                splitButtonWithLink,
                splitButtonDisabled
            ]
        });

        const splitButtonCodeSample = `
// Basic Split Button
const sb1 = Adw.createSplitButton({
    actionText: "Save",
    onActionClick: () => console.log("Save action!"),
    onDropdownClick: () => console.log("Save dropdown!")
});

// Suggested Action Split Button
const sb2 = Adw.createSplitButton({
    actionText: "Submit",
    suggested: true,
    onActionClick: () => console.log("Submit action!"),
    onDropdownClick: () => console.log("Submit dropdown!")
});

// Split Button with Link for Action
const sb3 = Adw.createSplitButton({
    actionText: "Open Link",
    actionHref: "https://example.com",
    onDropdownClick: () => console.log("Link dropdown!")
});

// Disabled Split Button
const sb4 = Adw.createSplitButton({
    actionText: "Disabled",
    disabled: true
});

// Add to layout:
// yourContainer.appendChild(sb1);
        `;
        const splitButtonCodeDetails = createCodeSampleDetails('Show Split Button Code Examples', splitButtonCodeSample);

        // --- ViewSwitcher Example ---
        const viewSwitcher = Adw.createViewSwitcher({
            views: [
                { name: "Page 1", content: Adw.createBox({ orientation: 'vertical', spacing: 'm', children: [Adw.createLabel("Content for Page 1"), Adw.createEntry({placeholder: "Entry on Page 1"})]}) },
                { name: "Page 2", content: Adw.createBox({ orientation: 'vertical', spacing: 'm', children: [Adw.createLabel("Some different content for Page 2"), Adw.createButton("A button")]}) },
                { name: "Page 3", content: Adw.createLabel("Final page with just a label.") }
            ],
            activeViewName: "Page 1",
            onViewChanged: (viewName) => Adw.createToast(`Switched to ${viewName}`)
        });

        // --- Flap Example ---
        const flapWidget = Adw.createFlap({
            flapContent: Adw.createBox({orientation: 'vertical', spacing:'s', children: [
                Adw.createLabel("Flap Content", {title: 4,isBody:true}), // Added isBody for consistency
                Adw.createButton("Button in Flap"),
                Adw.createLabel("More flap text here to show scrolling if needed.", {isCaption: true})
            ]}),
            mainContent: Adw.createBox({orientation: 'vertical', spacing: 's', children: [
                Adw.createLabel("Main Content Area", {title: 4, isBody:true}), // Added isBody for consistency
                Adw.createLabel("This content stays visible. The flap is to the left (or right, depending on LTR/RTL)."),
                Adw.createEntry({placeholder: "Entry in main content"})
            ]}),
            isFolded: false, // Start with flap open
            // transitionType: 'slide' // or 'over', default is 'slide'
            // flapPosition: 'start' // 'start' or 'end'
        });
        const toggleFlapButton = Adw.createButton("Toggle Flap", { onClick: () => flapWidget.toggleFlap() });
        const flapExampleBox = Adw.createBox({
            orientation: 'vertical', spacing: 'm',
            children: [
                toggleFlapButton,
                flapWidget.element // Add the flap element to the layout
            ]
        });

        const flapCodeSample = `
// Flap Widget
const flap = Adw.createFlap({
    flapContent: Adw.createBox({ children: [Adw.createLabel("Flap Side Content")] }),
    mainContent: Adw.createBox({ children: [Adw.createLabel("Main Area Content")] }),
    isFolded: false,        // Initial state: true (folded) or false (unfolded)
    transitionType: 'slide',// 'slide' (default) or 'over'
    flapPosition: 'start',  // 'start' (left in LTR) or 'end' (right in LTR)
    // width: 250,          // Width of the flap panel in pixels (optional)
    // height: 300,         // Height if used as a bottom/top panel (less common for side flaps)
});

// To toggle the flap programmatically:
// flap.toggleFlap();

// To show/hide explicitly:
// flap.showFlap();
// flap.hideFlap();

// Add the flap's main element to your layout:
// yourContainer.appendChild(flap.element);
        `;
        const flapCodeDetails = createCodeSampleDetails('Show Flap Code Examples', flapCodeSample);
        flapExampleBox.appendChild(flapCodeDetails); // Append to the box containing the flap and toggle

        // --- Main Content Layout ---
        const content = Adw.createBox({
            orientation: 'vertical',
            spacing: "l", // Add overall spacing to content sections
            children: [
                Adw.createLabel("Typography", {title:1}),
                // Adw.createRow({ children: [labelTitle1, labelTitle2, labelTitle3, labelTitle4, label, labelCaption] }), // Original line
                labelsBox, // Use the new box for labels

                Adw.createLabel("Buttons", {title:1}),
                buttonsBox,
                buttonsCodeDetails, // Inserted code sample details

                Adw.createLabel("Entries", {title:1}),
                entryBox,
                // entryCodeDetails will be inserted here by DOM manipulation later
                Adw.createLabel("Controls", {title:1}),
                switchBox,
                // switchCodeDetails will be inserted here by DOM manipulation later
                checkBox,
                radioBox,

                Adw.createLabel("Progress Bars", {title:1}),
                progressBarBox,

                // New Widgets Insertion Point
                bannersTitle,
                bannerContainer, // Container where banners will appear
                bannerButtonsBox, // Buttons to trigger banners

                spinnersTitle,
                spinnerBox,

                statusPagesTitle,
                statusPageContainer,

                splitButtonsTitle,
                splitButtonBox,
                // End New Widgets Insertion Point

                Adw.createLabel("List Boxes", {title:1}),
                listBoxContainer, // Contains both listboxes

                Adw.createLabel("Dialog", {title:1}),
                Adw.createRow({ children: [openDialogButton] }), // dialogCodeDetails will be inserted after this row
                Adw.createLabel("ViewSwitcher", {title:1}),
                viewSwitcher, // viewSwitcherCodeDetails will be inserted after this element
                Adw.createLabel("Flap", {title:1}),
                flapExampleBox, // flapCodeDetails is already a child of this
                Adw.createLabel("Accent Color Picker", {title:1}),
                // This will be populated by JavaScript below (accentPickerBox)

                Adw.createLabel("Avatars", {title:1}),
                // Avatar examples will be added here by JS
            ],
        });

        // --- Accent Color Picker Example ---
        const accentPickerBox = Adw.createBox({ orientation: 'horizontal', spacing: 's', align: 'center', children: [Adw.createLabel("Accents:")]});
        const accentColors = Adw.getAccentColors();
        accentColors.forEach(colorName => {
            const colorButton = Adw.createButton(colorName.charAt(0).toUpperCase() + colorName.slice(1), {
                onClick: () => Adw.setAccentColor(colorName)
            });
            // Optionally, give the button a visual hint of its color
            // This is a simple way, could also use custom classes or direct CSS var access if button supported it
            try {
                // Attempt to use the SCSS variable directly for preview.
                // This requires the button to be in the DOM to resolve the var.
                // A more robust way might be to have predefined hex values for display.
                const tempAccentBgVar = `var(--accent-${colorName}-light-bg)`; // Use light version for preview consistency
                colorButton.style.setProperty('background-color', tempAccentBgVar);
                const tempAccentFgVar = `var(--accent-${colorName}-light-fg)`;
                colorButton.style.setProperty('color', tempAccentFgVar);
                 colorButton.style.setProperty('border-color', tempAccentBgVar);


            } catch (e) { console.warn("Could not apply style for accent button preview", e); }

            accentPickerBox.appendChild(colorButton);
        });
        // Find where to insert the accent picker. For now, append to the main content.
        content.appendChild(Adw.createRow({children: [accentPickerBox]}));

        // --- Avatar Examples ---
        const avatarSection = Adw.createBox({orientation: 'vertical', spacing: 'm'}); // Ensure consistent spacing

        const avatarRow1 = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });
        avatarRow1.appendChild(Adw.createAvatar({ text: "John Doe", size: 32 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "Jane Roe", size: 48 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "Single", size: 64 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "X", size: 72 }));

        const avatarRow2 = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });
        // Placeholder image - replace with a real one if available for testing
        const imgSrc = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23ddd'/%3E%3Ctext x='50' y='55' font-size='40' text-anchor='middle' fill='%23777'%3EIMG%3C/text%3E%3C/svg%3E";
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: imgSrc, alt: "User Image 1", size: 48 }));
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: "nonexistent.jpg", text: "Error Fallback", size: 64, alt:"Non Existent" }));

        const customFallbackEl = Adw.createLabel("CF", {isCaption: true}); // Custom fallback example
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: "another_error.png", customFallback: customFallbackEl, size: 72, alt: "Custom Fallback Demo"}));

        avatarSection.appendChild(avatarRow1);
        avatarSection.appendChild(avatarRow2);

        const avatarCodeSample = `
// Avatar with text initials (auto-generated or provided)
const avatarText1 = Adw.createAvatar({ text: "John Doe", size: 48 }); // Generates "JD"
const avatarText2 = Adw.createAvatar({ text: "Single", size: 64 });   // Uses "S"

// Avatar with image
const avatarImage = Adw.createAvatar({
    imageSrc: "path/to/your/image.png", // Replace with actual image path
    alt: "User Avatar", // Important for accessibility
    size: 72
});

// Avatar with fallback to text if image fails to load
const avatarFallback = Adw.createAvatar({
    imageSrc: "nonexistent.jpg",
    text: "Error Fallback", // Fallback text if image fails
    size: 64
});

// Avatar with custom HTML element as fallback
const customFallbackEl = Adw.createLabel("CF"); // Can be any HTMLElement
const avatarCustomFallback = Adw.createAvatar({
    imageSrc: "another_error.png",
    customFallback: customFallbackEl, // Display this if image fails
    size: 72
});

// Sizes can be numbers (pixels) or predefined Adw.AvatarSize constants
// e.g., Adw.AvatarSize.SMALL, Adw.AvatarSize.MEDIUM, etc.
// Example: Adw.createAvatar({ text: "AB", size: Adw.AvatarSize.LARGE });

// Add to your layout:
// yourContainer.appendChild(avatarText1);
        `;
        const avatarCodeDetails = createCodeSampleDetails('Show Avatar Code Examples', avatarCodeSample);
        avatarSection.appendChild(avatarCodeDetails); // Add to the avatarSection box itself

        // The avatarSection is already added to the main 'content' within a Row.
        // This structure keeps the code sample visually tied to the avatar demos.

        // --- Specialized Row Types ---
        const specializedRowsTitle = Adw.createLabel("Specialized List Rows", {title:1});
        // content.appendChild(specializedRowsTitle); // This is already part of main content.children

        const actionRow1 = Adw.createActionRow({
            title: "Action Row",
            subtitle: "Click to do something",
            onClick: () => Adw.createToast("Action Row Clicked!")
        });
        const actionRowWithIcon = Adw.createActionRow({
            title: "Action with Icon",
            subtitle: "And a subtitle too",
            iconHTML: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM6.5 4.5a.5.5 0 0 1 1 0V7h2.5a.5.5 0 0 1 0 1H7.5v2.5a.5.5 0 0 1-1 0V8H4a.5.5 0 0 1 0-1h2.5V4.5Z"/></svg>', // Placeholder plus icon
            onClick: () => Adw.createToast("Action Row with Icon Clicked!")
        });
         const actionRowNoChevron = Adw.createActionRow({
            title: "Action Row (No Chevron)",
            subtitle: "Still clickable",
            showChevron: false,
            onClick: () => Adw.createToast("Action Row (No Chevron) Clicked!")
        });


        const entryRow1 = Adw.createEntryRow({
            title: "Username:",
            entryOptions: { placeholder: "Enter username..." }
        });

        const passwordEntryRow1 = Adw.createPasswordEntryRow({
            title: "Password:",
            entryOptions: {
                placeholder: "Enter password...",
                name: "password_example"
            }
        });

        const expanderContent = Adw.createBox({ orientation: 'vertical', spacing: 's', children: [
            Adw.createLabel("This is the expanded content."),
            Adw.createButton("A button inside expander")
        ]});
        const expanderRow1 = Adw.createExpanderRow({
            title: "Expander Row",
            subtitle: "Click to expand/collapse",
            content: expanderContent
        });
        const expanderRow2 = Adw.createExpanderRow({
            title: "Initially Expanded",
            subtitle: "This one starts open",
            content: Adw.createLabel("Some pre-expanded content here."),
            expanded: true
        });

        const comboRow1 = Adw.createComboRow({
            title: "Choose an Option",
            subtitle: "Select from the list",
            selectOptions: ["Option A", "Option B", {label: "Option C (Val C)", value: "C"}],
            selectedValue: "B",
            onChanged: (value) => Adw.createToast(`Combo changed to: ${value}`)
        });
         const disabledComboRow = Adw.createComboRow({
            title: "Disabled Combo",
            selectOptions: ["Can't choose"],
            disabled: true
        });


        const specializedRowsListBox = Adw.createListBox({
            // ListBox itself doesn't have 'spacing', rows inside it manage their padding.
            children: [
                actionRow1,
                actionRowWithIcon,
                actionRowNoChevron,
                entryRow1,
                passwordEntryRow1, // Added PasswordEntryRow instance
                expanderRow1,
                expanderRow2,
                comboRow1,
                disabledComboRow
            ]
        });
        // content.appendChild(specializedRowsListBox); // This is already part of main content.children

        const specializedRowsCodeSample = `
// ActionRow (clickable row, often for navigation or actions)
const actionRow = Adw.createActionRow({
    title: "Open Settings",
    subtitle: "Configure application preferences",
    iconHTML: "<svg width='16' height='16'><path d='...' fill='currentColor'/></svg>", // Optional: SVG icon string
    onClick: () => Adw.createToast("Action Row clicked!"),
    // showChevron: true, // Default is true, set to false to hide arrow
});

// EntryRow (a row with a title and an entry field)
const entryRow = Adw.createEntryRow({
    title: "Username:",
    entryOptions: { // Options passed to the internal Adw.createEntry call
        placeholder: "Enter your name",
        // onInput: (e) => console.log(e.target.value)
    }
});

// PasswordEntryRow (a row with a title, password input, and visibility toggle)
const passwordEntryRow = Adw.createPasswordEntryRow({
    title: "New Password:",
    entryOptions: { // Options passed to the internal Adw.createEntry
        placeholder: "Enter new password",
        name: "new_user_password"
        // Other attributes like 'required' can be added here.
    }
    // labelForEntry: true // Default is true
});

// ExpanderRow (a row that can expand to show more content)
const expanderChildContent = Adw.createBox({ children: [Adw.createLabel("Details revealed...")] });
const expanderRow = Adw.createExpanderRow({
    title: "More Information",
    subtitle: "Click to see details",
    content: expanderChildContent, // HTMLElement to show when expanded
    expanded: false // Initial state (true or false)
});

// ComboRow (a row with a title and a dropdown/select)
const comboRow = Adw.createComboRow({
    title: "Select Type:",
    subtitle: "Choose one from the list below",
    selectOptions: [
        "Option 1 Value", // Simple string option
        { label: "Option 2 Label", value: "opt2_actual_value" }, // Object for different label and value
        "Another Option"
    ],
    // selectedValue: "opt2_actual_value", // Pre-select a value
    onChanged: (selectedValue) => Adw.createToast(\`ComboRow changed to: \${selectedValue}\`),
    // disabled: true // To disable the combo row
});

// These rows are typically added as children to an Adw.ListBox:
// const listBox = Adw.createListBox({ children: [actionRow, entryRow, passwordEntryRow, expanderRow, comboRow] });
        `;
        const specializedRowsCodeDetails = createCodeSampleDetails('Show Specialized Row Code Examples', specializedRowsCodeSample);
        // Will be inserted after specializedRowsListBox


        // Create the window and append it to the body.
        const windowEl = Adw.createWindow({header: headerBar, content: content});
        document.getElementById('app').appendChild(windowEl);

        // --- DOM Manipulations to Insert Code Samples ---
        // Helper to insert details after a specific element.
        function insertDetailsAfter(element, detailsElement) {
            // New widget code sample insertions
            if (element === bannerButtonsBox) { // Special handling for banner container
                if (bannerButtonsBox && bannerButtonsBox.parentElement) {
                    bannerButtonsBox.parentElement.insertBefore(bannerCodeDetails, bannerButtonsBox.nextSibling);
                }
                return; // Avoid inserting twice if logic below also matches
            }
            if (element === spinnerBox && spinnerBox.parentElement) {
                 spinnerBox.parentElement.insertBefore(spinnerCodeDetails, spinnerBox.nextSibling);
                 return;
            }
             if (element === statusPageContainer && statusPageContainer.parentElement) {
                 statusPageContainer.parentElement.insertBefore(statusPageCodeDetails, statusPageContainer.nextSibling);
                 return;
            }
            if (element === splitButtonBox && splitButtonBox.parentElement) {
                 splitButtonBox.parentElement.insertBefore(splitButtonCodeDetails, splitButtonBox.nextSibling);
                 return;
            }

            if (element && element.parentElement) {
                element.parentElement.insertBefore(detailsElement, element.nextSibling);
            } else {
                console.warn("Could not insert details for element:", element, "Details:", detailsElement);
            }
        }

        insertDetailsAfter(entryBox, entryCodeDetails);
        insertDetailsAfter(switchBox, switchCodeDetails);
        insertDetailsAfter(labelsBox, labelCodeDetails);
        insertDetailsAfter(progressBarBox, progressBarCodeDetails);
        insertDetailsAfter(checkBox, checkboxCodeDetails);
        insertDetailsAfter(radioBox, radioButtonCodeDetails);
        insertDetailsAfter(listBoxContainer, listBoxCodeDetails);

        const dialogRow = openDialogButton.closest('.adw-row'); // Find the row containing the dialog button
        const dialogCodeSample = `
// To create and show a Dialog:
const openDialogButton = Adw.createButton('Open Dialog', {
  onClick: () => {
    const dialogContent = Adw.createBox({
      orientation: 'vertical',
      spacing: 'm', // Add some spacing to dialog content
      children: [
        Adw.createLabel("This is the dialog content."),
        Adw.createEntry({ placeholder: "You can put any HTML here." }),
      ]
    });

    const dialog = Adw.createDialog({
      title: "Example Dialog",
      content: dialogContent, // HTMLElement for the dialog's body
      // size: 'medium', // 'small', 'medium', 'large', or custom {width, height in px}
      // isModal: true, // Default is true (blocks interaction with rest of page)
      buttons: [
        Adw.createButton("Cancel", { onClick: () => dialog.close() }),
        Adw.createButton("OK", {
            suggested: true,
            onClick: () => {
                Adw.createToast("OK clicked from Dialog");
                dialog.close();
            }
        }),
      ]
    });
    dialog.open(); // Appends to body and shows
    // dialog.close(); // To close programmatically
  }
});
        `;
        const dialogCodeDetails = createCodeSampleDetails('Show Dialog Code Example', dialogCodeSample);
        if (dialogRow) insertDetailsAfter(dialogRow, dialogCodeDetails); else content.appendChild(dialogCodeDetails); // Fallback for dialog

        const viewSwitcherCodeSample = `
// ViewSwitcher
const viewSwitcher = Adw.createViewSwitcher({
    views: [
        {
            name: "View 1", // Name displayed on the switcher button
            content: Adw.createLabel("Content for View 1") // HTMLElement for this view
        },
        {
            name: "View 2",
            content: Adw.createBox({ children: [Adw.createEntry({placeholder: "Entry in View 2"})]})
        }
        // Add more views as needed
    ],
    activeViewName: "View 1", // Initial view to display
    onViewChanged: (viewName) => Adw.createToast(\`Switched to \${viewName}\`),
    // location: 'top', // 'top' (default) or 'bottom'
    // policy: 'auto' // 'auto' (default), 'wide', 'narrow' for button behavior
});

// Add the ViewSwitcher's main element to your layout:
// yourContainer.appendChild(viewSwitcher.element);
// The content area is managed internally by the viewSwitcher.
        `;
        const viewSwitcherCodeDetails = createCodeSampleDetails('Show ViewSwitcher Code Example', viewSwitcherCodeSample);
        insertDetailsAfter(viewSwitcher.element, viewSwitcherCodeDetails); // For ViewSwitcher

        const accentPickerCodeSample = `
// Accent Color Picker (Functionality provided by Adw.js)

// To get available accent color names (array of strings):
const accentColors = Adw.getAccentColors();
// e.g., ["default", "red", "orange", "yellow", "green", "teal", "blue", "purple", "pink", "brown"]

// To set an accent color programmatically:
// Adw.setAccentColor('blue'); // Replace 'blue' with a valid color name from the list

// The demo shows how to build a UI for this:
const pickerBox = Adw.createBox({ orientation: 'horizontal', spacing: 's' });
accentColors.forEach(colorName => {
    const colorButton = Adw.createButton(colorName.charAt(0).toUpperCase() + colorName.slice(1), {
        onClick: () => Adw.setAccentColor(colorName)
    });
    // The demo also applies styles to the button for visual feedback.
    pickerBox.appendChild(colorButton);
});
// yourContainer.appendChild(pickerBox); // Add to your layout
        `;
        const accentPickerCodeDetails = createCodeSampleDetails('Show Accent Color Picker Code', accentPickerCodeSample);
        insertDetailsAfter(accentPickerBox, accentPickerCodeDetails); // For Accent Color Picker

        // Avatars: avatarCodeDetails is already appended to avatarSection.
        // The avatarSection itself is correctly placed in the main 'content' array.

        // Specialized Rows:
        insertDetailsAfter(specializedRowsListBox, specializedRowsCodeDetails); // For Specialized List Rows

    </script>
</body>
</html>