<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adwaita Web</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app"></div>

    <script src="js/components.js"></script>
    <script>
        // Helper function to create code sample blocks
        function createCodeSampleDetails(summaryText, codeText) {
            const details = document.createElement('details');
            const summary = document.createElement('summary');
            summary.textContent = summaryText;
            details.appendChild(summary);
            const pre = document.createElement('pre');
            const code = document.createElement('code');
            code.textContent = codeText.trim(); // Trim to remove leading/trailing whitespace from template literals
            pre.appendChild(code);
            details.appendChild(pre);
            return details;
        }

        // --- Header Bar ---
        const themeButton = Adw.createButton("Toggle Theme", {
            onClick: Adw.toggleTheme,
        });

        const headerBar = Adw.createHeaderBar({
            title: "Adwaita Widgets",
            subtitle: "Demonstration",
            start: [Adw.createButton("<", { href: "#" })],
            end: [themeButton, Adw.createButton("☰", { onClick: () => alert("Menu clicked") })],
        });

        // --- Buttons ---
        const button = Adw.createButton('Click Me!', {
            onClick: () => Adw.createToast("Button Clicked", {timeout: 3000}),
        });
        const suggestedButton = Adw.createButton('Suggested', {
            onClick: () => Adw.createToast("Suggested Button Clicked"),
            suggested: true
        });
        const destructiveButton = Adw.createButton('Delete', {
            onClick: () => Adw.createToast("Destructive Button Clicked"),
            destructive: true, // Will now use .destructive-action
        });
        const disabledButton = Adw.createButton('Disabled', {
            onClick: () => alert("This shouldnt be clickable!"),
            disabled: true
        });
        const flatButton = Adw.createButton('Flat Button', {
            onClick: () => alert('Flat Button clicked!'),
            flat: true
        });
        // New button examples
        const iconButton = Adw.createButton('With Icon', {
            icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z"/></svg>', // Simple placeholder SVG
            onClick: () => Adw.createToast("Icon Button Clicked")
        });
        const circularButton = Adw.createButton('', {
            icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/></svg>', // Placeholder heart SVG
            isCircular: true,
            onClick: () => Adw.createToast("Circular Button Clicked")
        });


        const buttonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: "m", // Adjusted spacing for better visual separation
            children: [button, suggestedButton, destructiveButton, disabledButton, flatButton, iconButton, circularButton]
        });

        const buttonCodeSample = `
// Basic Button
const button = Adw.createButton('Click Me!', {
    onClick: () => Adw.createToast("Button Clicked"),
});

// Suggested Button (e.g., for primary confirmation actions)
const suggestedButton = Adw.createButton('Suggested', {
    onClick: () => Adw.createToast("Suggested Button Clicked"),
    suggested: true // Optional: makes it a suggested action
});

// Destructive Button (e.g., for delete or reset actions)
const destructiveButton = Adw.createButton('Delete', {
    onClick: () => Adw.createToast("Destructive Button Clicked"),
    destructive: true, // Optional: styles for destructive actions
});

// Disabled Button
const disabledButton = Adw.createButton('Disabled', {
    onClick: () => { /* This won't run */ },
    disabled: true
});

// Flat Button (borderless)
const flatButton = Adw.createButton('Flat Button', {
    onClick: () => Adw.createToast('Flat Button Clicked!'),
    flat: true
});

// Button with Icon
const iconButton = Adw.createButton('With Icon', {
    icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z"/></svg>', // Example SVG
    onClick: () => Adw.createToast("Icon Button Clicked")
});

// Circular Button (typically for icons only)
const circularButton = Adw.createButton('', { // Label is often empty
    icon: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/></svg>', // Example SVG
    isCircular: true,
    onClick: () => Adw.createToast("Circular Button Clicked")
});
        `;
        const buttonsCodeDetails = createCodeSampleDetails('Show Button Code Examples', buttonCodeSample);

        // --- Entry ---
        const entry = Adw.createEntry({
            placeholder: 'Enter text...',
            onInput: (e) => console.log('Input:', e.target.value),
        });
        const disabledEntry = Adw.createEntry({
          placeholder: "Disabled entry...",
          disabled: true
        });
        const entryBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [Adw.createLabel("Entry:"), entry] }),
                Adw.createRow({ children: [Adw.createLabel("Disabled Entry: "), disabledEntry]})
            ]
        });

        const entryCodeSample = `
// Basic Entry
const entry = Adw.createEntry({
    placeholder: 'Enter text...',
    onInput: (e) => console.log('Input:', e.target.value),
    // onChanged: (e) => console.log('Changed (focus lost):', e.target.value) // For when focus is lost after editing
});

// Disabled Entry
const disabledEntry = Adw.createEntry({
  placeholder: "Disabled entry...",
  disabled: true
});
        `;
        const entryCodeDetails = createCodeSampleDetails('Show Entry Code Examples', entryCodeSample);
        // Will be inserted after entryBox in the main layout section later.

        // --- Switch ---
        const switchEl = Adw.createSwitch({
          onChanged: (e) => console.log("switch is: ", e.target.checked),
          checked: true
        });
        const disabledSwitchEl = Adw.createSwitch({
            onChanged: (e) => console.log("switch is: ", e.target.checked),
            disabled: true
          });
        const switchBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
              Adw.createRow({ children: [Adw.createLabel("Switch: "), switchEl] }),
              Adw.createRow({ children: [Adw.createLabel("Disabled Switch: "), disabledSwitchEl] })
            ]
        });

        const switchCodeSample = `
// Basic Switch
const switchEl = Adw.createSwitch({
  onChanged: (e) => console.log("Switch state:", e.target.checked),
  checked: true // Initial state (true or false)
});

// Disabled Switch
const disabledSwitchEl = Adw.createSwitch({
  onChanged: (e) => { /* This won't trigger if disabled */ },
  disabled: true,
  checked: false // Or true, if you want it to appear "on" but disabled
});
        `;
        const switchCodeDetails = createCodeSampleDetails('Show Switch Code Examples', switchCodeSample);
        // Will be inserted after switchBox in the main layout section later.

        // --- Labels ---
        const label = Adw.createLabel("This is a label", {isBody: true});
        const labelTitle1 = Adw.createLabel("Title 1", {title: 1});
        const labelTitle2 = Adw.createLabel("Title 2", {title: 2});
        const labelTitle3 = Adw.createLabel("Title 3", {title: 3});
        const labelTitle4 = Adw.createLabel("Title 4", {title: 4});
        const labelCaption = Adw.createLabel("Caption", {isCaption: true});
        const labelsBox = Adw.createRow({ children: [labelTitle1, labelTitle2, labelTitle3, labelTitle4, label, labelCaption] }); // Grouped for layout

        const labelCodeSample = `
// Title Labels (levels 1-4)
const labelTitle1 = Adw.createLabel("Title 1", {title: 1});
const labelTitle2 = Adw.createLabel("Title 2", {title: 2});
// ...and so on for title: 3, title: 4

// Body Text Label
const bodyLabel = Adw.createLabel("This is a standard body text label.", {isBody: true});

// Caption Label (smaller, often secondary text)
const captionLabel = Adw.createLabel("This is a caption.", {isCaption: true});
        `;
        const labelCodeDetails = createCodeSampleDetails('Show Label Code Examples', labelCodeSample);
        // Will be inserted after labelsBox

        // --- Dialog (Example Usage) ---
        const openDialogButton = Adw.createButton('Open Dialog', {
          onClick: () => {
            const dialogContent = Adw.createBox({
              orientation: 'vertical',
              children: [
                Adw.createLabel("This is the dialog content."),
                Adw.createEntry({ placeholder: "Dialog Entry" }),
              ]
            });

            const dialog = Adw.createDialog({
              title: "Example Dialog",
              content: dialogContent,
              buttons: [
                Adw.createButton("Cancel", { onClick: () => dialog.close() }),
                Adw.createButton("OK", { suggested: true, onClick: () => {
                  Adw.createToast("OK clicked");
                  dialog.close();
                } }),
              ]
            });
            dialog.open(); // Open the dialog (it's now appended to the body in components.js)
          }
        });

        // --- Progress Bar ---
          const progressBar = Adw.createProgressBar({value: 50});
          const disabledProgressBar = Adw.createProgressBar({value: 75, disabled: true});
          const indeterminateProgressBar = Adw.createProgressBar({isIndeterminate: true});

        const progressBarBox = Adw.createBox({
            orientation: 'vertical', // Changed to vertical for better layout of multiple bars
            spacing: "s",
            children: [
                Adw.createRow({ children: [Adw.createLabel("Progress (50%): "), progressBar]}),
                Adw.createRow({ children: [Adw.createLabel("Disabled (75%): "), disabledProgressBar]}),
                Adw.createRow({ children: [Adw.createLabel("Indeterminate: "), indeterminateProgressBar]})
            ]
        });

        const progressBarCodeSample = `
// Progress Bar with a specific value
const progressBar = Adw.createProgressBar({
    value: 50 // Percentage (0-100)
});

// Disabled Progress Bar
const disabledProgressBar = Adw.createProgressBar({
    value: 75,
    disabled: true
});

// Indeterminate Progress Bar (for tasks of unknown duration)
const indeterminateProgressBar = Adw.createProgressBar({
    isIndeterminate: true
});
        `;
        const progressBarCodeDetails = createCodeSampleDetails('Show Progress Bar Code Examples', progressBarCodeSample);
        // Will be inserted after progressBarBox

        // --- Checkbox ---
        const checkbox = Adw.createCheckbox({
            label: "Enable Feature",
            onChanged: (e) => console.log("Checkbox:", e.target.checked),
        });
         const disabledCheckbox = Adw.createCheckbox({
            label: "Disabled Checkbox",
             disabled: true,
            onChanged: (e) => console.log("Checkbox:", e.target.checked),
        });
        const checkBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [checkbox]}),
                Adw.createRow({children: [disabledCheckbox]})
            ]
        });

        const checkboxCodeSample = `
// Basic Checkbox
const checkbox = Adw.createCheckbox({
    label: "Enable Feature",
    onChanged: (e) => console.log("Checkbox state:", e.target.checked),
    // checked: true // Optional: initial state (true or false)
});

// Disabled Checkbox
const disabledCheckbox = Adw.createCheckbox({
    label: "Disabled Checkbox",
    disabled: true,
    checked: true // Can be checked but disabled
});
        `;
        const checkboxCodeDetails = createCodeSampleDetails('Show Checkbox Code Examples', checkboxCodeSample);
        // Will be inserted after checkBox

        // --- Radio Button ---
        const radio1 = Adw.createRadioButton({
            label: "Option 1",
            name: "radioGroup",
            onChanged: (e) => console.log("Radio 1:", e.target.checked),
            checked: true,
        });

        const radio2 = Adw.createRadioButton({
            label: "Option 2",
            name: "radioGroup",
            onChanged: (e) => console.log("Radio 2:", e.target.checked),
        });
        const disabledRadio = Adw.createRadioButton({
          label: 'Disabled Radio',
          name: 'radioGroup2',
          disabled: true
        })

        const radioBox = Adw.createBox({
            orientation: 'horizontal',
            children: [
                Adw.createRow({ children: [radio1, radio2, disabledRadio] })
            ]
        });

        const radioButtonCodeSample = `
// Radio Buttons (grouped by 'name' attribute)
const radio1 = Adw.createRadioButton({
    label: "Option A",
    name: "myRadioGroup", // Essential for grouping
    onChanged: (e) => { if(e.target.checked) console.log("Selected Option A"); },
    checked: true // Set the default selected radio button in a group
});

const radio2 = Adw.createRadioButton({
    label: "Option B",
    name: "myRadioGroup",
    onChanged: (e) => { if(e.target.checked) console.log("Selected Option B"); }
});

// Disabled Radio Button
const disabledRadio = Adw.createRadioButton({
  label: 'Disabled Option',
  name: 'anotherGroup', // Can be in a different group or same
  disabled: true,
  checked: true // Can be checked but disabled (visual only)
});
        `;
        const radioButtonCodeDetails = createCodeSampleDetails('Show Radio Button Code Examples', radioButtonCodeSample);
        // Will be inserted after radioBox

        // --- List Box ---
        const listBox = Adw.createListBox({
            children: [
                Adw.createRow({ interactive: true, onClick: () => Adw.createToast("Row 1 Clicked"), children: [Adw.createLabel("List Item 1 (Interactive)")] }),
                Adw.createRow({ children: [Adw.createLabel("List Item 2")] , activated: true}),
                Adw.createRow({ children: [Adw.createLabel("List Item 3")] }),
            ]
        });
        const flatListBox = Adw.createListBox({
            isFlat: true,
            children: [
                Adw.createRow({ children: [Adw.createLabel("Flat Item A")] }),
                Adw.createRow({ children: [Adw.createLabel("Flat Item B")] }),
            ]
        });
        const listBoxContainer = Adw.createBox({
            orientation: 'horizontal', spacing: 'm',
            children: [
                Adw.createBox({orientation: 'vertical', spacing: 's', children: [Adw.createLabel("Default ListBox", {title:4}), listBox]}), // Added spacing
                Adw.createBox({orientation: 'vertical', spacing: 's', children: [Adw.createLabel("Flat ListBox", {title:4}), flatListBox]})   // Added spacing
            ]
        });

        const listBoxCodeSample = `
// Basic ListBox
const listBox = Adw.createListBox({
    children: [
        Adw.createRow({
            interactive: true, // Make the row clickable
            onClick: () => Adw.createToast("Row 1 Clicked"),
            children: [Adw.createLabel("List Item 1 (Interactive)")]
        }),
        Adw.createRow({
            children: [Adw.createLabel("List Item 2")],
            activated: true // Highlights the row as if selected
        }),
        // Add more Adw.createRow or specialized rows (ActionRow, etc.)
    ]
    // Properties like isFlat can be set here too.
});

// Flat ListBox (removes outer border and shadow)
const flatListBox = Adw.createListBox({
    isFlat: true,
    children: [ /* ... rows ... */ ]
});

// Adding to layout:
// yourContainer.appendChild(listBox);
        `;
        const listBoxCodeDetails = createCodeSampleDetails('Show ListBox Code Examples', listBoxCodeSample);
        // Will be inserted after listBoxContainer


        // --- ListBox with Custom Row Layouts ---
        const customRowsListBoxTitle = Adw.createLabel("ListBox with Custom Row Layouts", {title:4}); // Title for this specific demo

        // Row 1: Icon, Title/Subtitle, Switch
        const customRow1Icon = Adw.createLabel("⚙️"); // Gear icon as text
        customRow1Icon.style.fontSize = '1.8em';
        customRow1Icon.style.marginRight = 'var(--spacing-m)';


        const customRow1TextContent = Adw.createBox({
            orientation: 'vertical',
            children: [
                Adw.createLabel("Notifications", { title: 5 }),
                Adw.createLabel("Enable or disable app notifications.", { isCaption: true })
            ]
        });
        customRow1TextContent.style.flexGrow = '1';

        const customRow1Switch = Adw.createSwitch({ onChanged: (e) => Adw.createToast(`Notifications toggled: ${e.target.checked}`) });

        const customRow1LayoutBox = Adw.createBox({
            orientation: 'horizontal',
            align: 'center',
            children: [customRow1Icon, customRow1TextContent, customRow1Switch]
        });
        customRow1LayoutBox.style.width = '100%';

        const customRow1 = Adw.createRow({
            children: [customRow1LayoutBox],
            interactive: false
        });

        // Row 2: Icon, Title/Subtitle, Button
        const customRow2Icon = Adw.createLabel("💾");
        customRow2Icon.style.fontSize = '1.8em';
        customRow2Icon.style.marginRight = 'var(--spacing-m)';

        const customRow2TextContent = Adw.createBox({
            orientation: 'vertical',
            children: [
                Adw.createLabel("Backup Settings", { title: 5 }),
                Adw.createLabel("Configure automatic cloud backups.", { isCaption: true })
            ]
        });
        customRow2TextContent.style.flexGrow = '1';

        const customRow2Button = Adw.createButton("Configure", {
            onClick: () => Adw.createToast("Configure Backup clicked!")
        });
        customRow2Button.style.marginLeft = 'var(--spacing-s)';


        const customRow2LayoutBox = Adw.createBox({
            orientation: 'horizontal',
            align: 'center',
            children: [customRow2Icon, customRow2TextContent, customRow2Button]
        });
        customRow2LayoutBox.style.width = '100%';

        const customRow2 = Adw.createRow({
            children: [customRow2LayoutBox],
            interactive: true,
            onClick: () => Adw.createToast("Backup row clicked!")
        });

        const customRow3TextContent = Adw.createLabel("Advanced Options", { title: 5 });
        customRow3TextContent.style.flexGrow = '1';

        const customRow3Button = Adw.createButton("Details", {
            flat: true,
            onClick: () => Adw.createToast("Details for Advanced Options requested!")
        });
        customRow3Button.style.marginLeft = 'var(--spacing-s)';

        const customRow3LayoutBox = Adw.createBox({
            orientation: 'horizontal',
            align: 'center',
            children: [customRow3TextContent, customRow3Button]
        });
        customRow3LayoutBox.style.width = '100%';

        const customRow3 = Adw.createRow({ children: [customRow3LayoutBox], interactive: true });


        const customRowsListBox = Adw.createListBox({
            children: [
                customRow1,
                customRow2,
                customRow3
            ]
        });

        const customListBoxDemoContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's',
            children: [
                customRowsListBoxTitle,
                customRowsListBox
            ]
        });

        const customRowsListBoxCodeSample = `
// ListBox with Custom Row Layouts

// Example of one custom row (Icon, Title/Subtitle, Switch):
const rowIcon = Adw.createLabel("⚙️");
rowIcon.style.fontSize = '1.8em';
rowIcon.style.marginRight = 'var(--spacing-m)';

const rowTextContent = Adw.createBox({
    orientation: 'vertical',
    children: [
        Adw.createLabel("Feature Name", { title: 5 }),
        Adw.createLabel("A brief description of the feature.", { isCaption: true })
    ]
});
rowTextContent.style.flexGrow = '1';

const rowSwitch = Adw.createSwitch({ onChanged: (e) => console.log("Switch toggled:", e.target.checked) });

const rowLayoutBox = Adw.createBox({
    orientation: 'horizontal',
    align: 'center',
    children: [rowIcon, rowTextContent, rowSwitch]
});
rowLayoutBox.style.width = '100%';

const customRow = Adw.createRow({
    children: [rowLayoutBox],
    interactive: false
});

// Create the ListBox
const customRowsListBox = Adw.createListBox({
    children: [
        customRow,
        // Add more Adw.Row elements, each potentially with its own Adw.Box for layout
    ]
});

// Add to your layout:
// yourContainer.appendChild(customRowsListBox);
        `;
        const customRowsListBoxCodeDetails = createCodeSampleDetails('Show Custom Row ListBox Code', customRowsListBoxCodeSample);


        // --- Banners ---
        const bannersTitle = Adw.createLabel("Banners", { title: 1 });
        const bannerContainer = Adw.createBox({ orientation: 'vertical', spacing: 's', _meta_id: "banner-container-box" }); // Container for banners to appear

        const showInfoBannerButton = Adw.createButton("Show Info Banner", {
            onClick: () => {
                Adw.createAdwBanner("This is an informational message.", {
                    type: 'info',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showSuccessBannerButton = Adw.createButton("Show Success Banner", {
            suggested: true,
            onClick: () => {
                Adw.createAdwBanner("Action was completed successfully!", {
                    type: 'success',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showWarningBannerButton = Adw.createButton("Show Warning Banner", {
            onClick: () => {
                Adw.createAdwBanner("Warning: Something might be wrong.", {
                    type: 'warning',
                    dismissible: true,
                    container: bannerContainer
                });
            }
        });
        const showErrorBannerButton = Adw.createButton("Show Error Banner (Non-Dismissible)", {
            destructive: true,
            onClick: () => {
                Adw.createAdwBanner("Error: Something went wrong. This banner is not dismissible.", {
                    type: 'error',
                    dismissible: false,
                    container: bannerContainer
                });
            }
        });

        const bannerButtonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 's',
            children: [showInfoBannerButton, showSuccessBannerButton, showWarningBannerButton, showErrorBannerButton]
        });
        // bannerContainer will be added to content's children, then bannerButtonsBox.
        // Banners themselves are added to bannerContainer dynamically.

        const bannerCodeSample = `
// Info Banner (dismissible by default)
// Banners are prepended to their container.
const bannerDisplayContainer = Adw.createBox({ orientation: 'vertical', spacing: 's' });
// yourMainContent.appendChild(bannerDisplayContainer); // Add this container where you want banners

Adw.createAdwBanner("This is an informational message.", {
    type: 'info',
    container: bannerDisplayContainer
});

// Success Banner
Adw.createAdwBanner("Action was completed successfully!", {
    type: 'success',
    dismissible: true,
    container: bannerDisplayContainer
});

// Warning Banner
Adw.createAdwBanner("Warning: Something might be wrong.", {
    type: 'warning',
    container: bannerDisplayContainer
});

// Error Banner (not dismissible)
Adw.createAdwBanner("Error: Something went wrong.", {
    type: 'error',
    dismissible: false,
    container: bannerDisplayContainer
});
        `;
        const bannerCodeDetails = createCodeSampleDetails('Show Banner Code Examples', bannerCodeSample);

        // --- Spinners ---
        const spinnersTitle = Adw.createLabel("Spinners", { title: 1 });
        const spinnerSmall = Adw.createSpinner({ size: 'small' });
        const spinnerMedium = Adw.createSpinner(); // Default size
        const spinnerLarge = Adw.createSpinner({ size: 'large' });

        const spinnerBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'm',
            align: 'center',
            children: [
                Adw.createLabel("Small:"), spinnerSmall,
                Adw.createLabel("Default:"), spinnerMedium,
                Adw.createLabel("Large:"), spinnerLarge
            ]
        });

        const spinnerCodeSample = `
// Small Spinner
const spinnerSmall = Adw.createSpinner({ size: 'small' });

// Default Size Spinner (medium)
const spinnerMedium = Adw.createSpinner();

// Large Spinner
const spinnerLarge = Adw.createSpinner({ size: 'large' });

// Add to layout:
// yourContainer.appendChild(spinnerSmall);
        `;
        const spinnerCodeDetails = createCodeSampleDetails('Show Spinner Code Examples', spinnerCodeSample);

        // --- Status Pages ---
        const statusPagesTitle = Adw.createLabel("Status Pages", { title: 1 });
        // Re-use an existing SVG icon string from components.js for demo purposes if available, or define a simple one.
        // const ADW_ICON_INFO_EXAMPLE = \`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>\`;
        const statusPageIconSVG = ADW_ICON_VISIBILITY_SHOW; // Using a globally available one for simplicity

        const statusPageDemo1 = Adw.createStatusPage({
            title: "No Items Found",
            description: "There are no items to display in this section. Try adjusting your filters or creating a new item.",
            iconHTML: statusPageIconSVG
        });

        const statusPageDemo2 = Adw.createStatusPage({
            title: "Action Required",
            description: "Please complete the setup process to continue.",
            iconHTML: statusPageIconSVG, // Using a different icon might be better if available
            actions: [
                Adw.createButton("Complete Setup", { suggested: true, onClick: () => Adw.createToast("Setup button clicked!") }),
                Adw.createButton("Later", { onClick: () => Adw.createToast("Later button clicked!") })
            ]
        });

        const statusPageContainer = Adw.createBox({ // Renamed from statusPageBox to avoid conflict if any
            orientation: 'vertical',
            spacing: 'l',
            children: [
                Adw.createLabel("Basic Status Page:", {title: 4}),
                statusPageDemo1,
                Adw.createLabel("Status Page with Actions:", {title: 4}),
                statusPageDemo2
            ]
        });

        const statusPageCodeSample = `
// Basic Status Page with an SVG icon
const statusPageIconSVG = '<svg>...</svg>'; // Your SVG string for an icon
const statusPage1 = Adw.createStatusPage({
    title: "No Items Found",
    description: "There are no items to display.",
    iconHTML: statusPageIconSVG
});

// Status Page with actions
const statusPage2 = Adw.createStatusPage({
    title: "Action Required",
    description: "Please complete the setup process.",
    // iconHTML: can be another SVG string
    actions: [
        Adw.createButton("Complete Setup", {
            suggested: true,
            onClick: () => console.log("Setup clicked")
        }),
        Adw.createButton("Later")
    ]
});

// Add to layout:
// yourContainer.appendChild(statusPage1);
        `;
        const statusPageCodeDetails = createCodeSampleDetails('Show Status Page Code Examples', statusPageCodeSample);

        // --- Split Buttons ---
        const splitButtonsTitle = Adw.createLabel("Split Buttons", { title: 1 });

        const splitButtonBasic = Adw.createSplitButton({
            actionText: "Save",
            onActionClick: () => Adw.createToast("Save action clicked!"),
            onDropdownClick: () => Adw.createToast("Dropdown for Save clicked!")
        });

        const splitButtonSuggested = Adw.createSplitButton({
            actionText: "Submit",
            suggested: true,
            onActionClick: () => Adw.createToast("Submit action clicked!"),
            onDropdownClick: () => Adw.createToast("Dropdown for Submit clicked!")
        });

        const splitButtonWithLink = Adw.createSplitButton({
            actionText: "Open Link",
            actionHref: "https://www.example.com",
            onDropdownClick: () => Adw.createToast("Dropdown for Link clicked!")
        });

        const splitButtonDisabled = Adw.createSplitButton({
            actionText: "Disabled",
            disabled: true,
            onActionClick: () => Adw.createToast("This should not fire."),
            onDropdownClick: () => Adw.createToast("This should not fire.")
        });

        const splitButtonBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'm',
            align: 'center',
            children: [
                splitButtonBasic,
                splitButtonSuggested,
                splitButtonWithLink,
                splitButtonDisabled
            ]
        });

        const splitButtonCodeSample = `
// Basic Split Button
const sb1 = Adw.createSplitButton({
    actionText: "Save",
    onActionClick: () => console.log("Save action!"),
    onDropdownClick: () => console.log("Save dropdown!")
});

// Suggested Action Split Button
const sb2 = Adw.createSplitButton({
    actionText: "Submit",
    suggested: true,
    onActionClick: () => console.log("Submit action!"),
    onDropdownClick: () => console.log("Submit dropdown!")
});

// Split Button with Link for Action
const sb3 = Adw.createSplitButton({
    actionText: "Open Link",
    actionHref: "https://example.com",
    onDropdownClick: () => console.log("Link dropdown!")
});

// Disabled Split Button
const sb4 = Adw.createSplitButton({
    actionText: "Disabled",
    disabled: true
});

// Add to layout:
// yourContainer.appendChild(sb1);
        `;
        const splitButtonCodeDetails = createCodeSampleDetails('Show Split Button Code Examples', splitButtonCodeSample);

        // --- ViewSwitcher Example ---
        const viewSwitcher = Adw.createViewSwitcher({
            views: [
                { name: "Page 1", content: Adw.createBox({ orientation: 'vertical', spacing: 'm', children: [Adw.createLabel("Content for Page 1"), Adw.createEntry({placeholder: "Entry on Page 1"})]}) },
                { name: "Page 2", content: Adw.createBox({ orientation: 'vertical', spacing: 'm', children: [Adw.createLabel("Some different content for Page 2"), Adw.createButton("A button")]}) },
                { name: "Page 3", content: Adw.createLabel("Final page with just a label.") }
            ],
            activeViewName: "Page 1",
            onViewChanged: (viewName) => Adw.createToast(`Switched to ${viewName}`)
        });

        // --- Flap Example ---
        const flapWidget = Adw.createFlap({
            flapContent: Adw.createBox({orientation: 'vertical', spacing:'s', children: [
                Adw.createLabel("Flap Content", {title: 4,isBody:true}), // Added isBody for consistency
                Adw.createButton("Button in Flap"),
                Adw.createLabel("More flap text here to show scrolling if needed.", {isCaption: true})
            ]}),
            mainContent: Adw.createBox({orientation: 'vertical', spacing: 's', children: [
                Adw.createLabel("Main Content Area", {title: 4, isBody:true}), // Added isBody for consistency
                Adw.createLabel("This content stays visible. The flap is to the left (or right, depending on LTR/RTL)."),
                Adw.createEntry({placeholder: "Entry in main content"})
            ]}),
            isFolded: false, // Start with flap open
            // transitionType: 'slide' // or 'over', default is 'slide'
            // flapPosition: 'start' // 'start' or 'end'
        });
        const toggleFlapButton = Adw.createButton("Toggle Flap", { onClick: () => flapWidget.toggleFlap() });
        const flapExampleBox = Adw.createBox({
            orientation: 'vertical', spacing: 'm',
            children: [
                toggleFlapButton,
                flapWidget.element // Add the flap element to the layout
            ]
        });

        const flapCodeSample = `
// Flap Widget
const flap = Adw.createFlap({
    flapContent: Adw.createBox({ children: [Adw.createLabel("Flap Side Content")] }),
    mainContent: Adw.createBox({ children: [Adw.createLabel("Main Area Content")] }),
    isFolded: false,        // Initial state: true (folded) or false (unfolded)
    transitionType: 'slide',// 'slide' (default) or 'over'
    flapPosition: 'start',  // 'start' (left in LTR) or 'end' (right in LTR)
    // width: 250,          // Width of the flap panel in pixels (optional)
    // height: 300,         // Height if used as a bottom/top panel (less common for side flaps)
});

// To toggle the flap programmatically:
// flap.toggleFlap();

// To show/hide explicitly:
// flap.showFlap();
// flap.hideFlap();

// Add the flap's main element to your layout:
// yourContainer.appendChild(flap.element);
        `;
        const flapCodeDetails = createCodeSampleDetails('Show Flap Code Examples', flapCodeSample);
        flapExampleBox.appendChild(flapCodeDetails); // Append to the box containing the flap and toggle

        // --- Main Content Layout ---
        const content = Adw.createBox({
            orientation: 'vertical',
            spacing: "l", // Add overall spacing to content sections
            children: [
                Adw.createLabel("Typography", {title:1}),
                // Adw.createRow({ children: [labelTitle1, labelTitle2, labelTitle3, labelTitle4, label, labelCaption] }), // Original line
                labelsBox, // Use the new box for labels

                Adw.createLabel("Buttons", {title:1}),
                buttonsBox,
                buttonsCodeDetails, // Inserted code sample details

                Adw.createLabel("Entries", {title:1}),
                entryBox,
                // entryCodeDetails will be inserted here by DOM manipulation later
                Adw.createLabel("Controls", {title:1}),
                switchBox,
                // switchCodeDetails will be inserted here by DOM manipulation later
                checkBox,
                radioBox,

                Adw.createLabel("Progress Bars", {title:1}),
                progressBarBox,

                // New Widgets Insertion Point
                bannersTitle,
                bannerContainer, // Container where banners will appear
                bannerButtonsBox, // Buttons to trigger banners

                spinnersTitle,
                spinnerBox,

                statusPagesTitle,
                statusPageContainer,

                splitButtonsTitle,
                splitButtonBox,
                // End New Widgets Insertion Point

                Adw.createLabel("List Boxes", {title:1}),
                listBoxContainer, // Contains both listboxes
                customListBoxDemoContainer, // Added new ListBox demo

                Adw.createLabel("Dialog", {title:1}),
                Adw.createRow({ children: [openDialogButton] }), // dialogCodeDetails will be inserted after this row
                Adw.createLabel("ViewSwitcher", {title:1}),
                viewSwitcher, // viewSwitcherCodeDetails will be inserted after this element
                Adw.createLabel("Flap", {title:1}),
                flapExampleBox, // flapCodeDetails is already a child of this
                Adw.createLabel("Accent Color Picker", {title:1}),
                // This will be populated by JavaScript below (accentPickerBox)

                Adw.createLabel("Avatars", {title:1}),
                // Avatar examples will be added here by JS
            ],
        });

        // --- Accent Color Picker Example ---
        const accentPickerBox = Adw.createBox({ orientation: 'horizontal', spacing: 's', align: 'center', children: [Adw.createLabel("Accents:")]});
        const accentColors = Adw.getAccentColors();
        accentColors.forEach(colorName => {
            const colorButton = Adw.createButton(colorName.charAt(0).toUpperCase() + colorName.slice(1), {
                onClick: () => Adw.setAccentColor(colorName)
            });
            // Optionally, give the button a visual hint of its color
            // This is a simple way, could also use custom classes or direct CSS var access if button supported it
            try {
                // Attempt to use the SCSS variable directly for preview.
                // This requires the button to be in the DOM to resolve the var.
                // A more robust way might be to have predefined hex values for display.
                const tempAccentBgVar = `var(--accent-${colorName}-light-bg)`; // Use light version for preview consistency
                colorButton.style.setProperty('background-color', tempAccentBgVar);
                const tempAccentFgVar = `var(--accent-${colorName}-light-fg)`;
                colorButton.style.setProperty('color', tempAccentFgVar);
                 colorButton.style.setProperty('border-color', tempAccentBgVar);


            } catch (e) { console.warn("Could not apply style for accent button preview", e); }

            accentPickerBox.appendChild(colorButton);
        });
        // Find where to insert the accent picker. For now, append to the main content.
        content.appendChild(Adw.createRow({children: [accentPickerBox]}));

        // --- Avatar Examples ---
        const avatarSection = Adw.createBox({orientation: 'vertical', spacing: 'm'}); // Ensure consistent spacing

        const avatarRow1 = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });
        avatarRow1.appendChild(Adw.createAvatar({ text: "John Doe", size: 32 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "Jane Roe", size: 48 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "Single", size: 64 }));
        avatarRow1.appendChild(Adw.createAvatar({ text: "X", size: 72 }));

        const avatarRow2 = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });
        // Placeholder image - replace with a real one if available for testing
        const imgSrc = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23ddd'/%3E%3Ctext x='50' y='55' font-size='40' text-anchor='middle' fill='%23777'%3EIMG%3C/text%3E%3C/svg%3E";
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: imgSrc, alt: "User Image 1", size: 48 }));
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: "nonexistent.jpg", text: "Error Fallback", size: 64, alt:"Non Existent" }));

        const customFallbackEl = Adw.createLabel("CF", {isCaption: true}); // Custom fallback example
        avatarRow2.appendChild(Adw.createAvatar({ imageSrc: "another_error.png", customFallback: customFallbackEl, size: 72, alt: "Custom Fallback Demo"}));

        avatarSection.appendChild(avatarRow1);
        avatarSection.appendChild(avatarRow2);

        const avatarCodeSample = `
// Avatar with text initials (auto-generated or provided)
const avatarText1 = Adw.createAvatar({ text: "John Doe", size: 48 }); // Generates "JD"
const avatarText2 = Adw.createAvatar({ text: "Single", size: 64 });   // Uses "S"

// Avatar with image
const avatarImage = Adw.createAvatar({
    imageSrc: "path/to/your/image.png", // Replace with actual image path
    alt: "User Avatar", // Important for accessibility
    size: 72
});

// Avatar with fallback to text if image fails to load
const avatarFallback = Adw.createAvatar({
    imageSrc: "nonexistent.jpg",
    text: "Error Fallback", // Fallback text if image fails
    size: 64
});

// Avatar with custom HTML element as fallback
const customFallbackEl = Adw.createLabel("CF"); // Can be any HTMLElement
const avatarCustomFallback = Adw.createAvatar({
    imageSrc: "another_error.png",
    customFallback: customFallbackEl, // Display this if image fails
    size: 72
});

// Sizes can be numbers (pixels) or predefined Adw.AvatarSize constants
// e.g., Adw.AvatarSize.SMALL, Adw.AvatarSize.MEDIUM, etc.
// Example: Adw.createAvatar({ text: "AB", size: Adw.AvatarSize.LARGE });

// Add to your layout:
// yourContainer.appendChild(avatarText1);
        `;
        const avatarCodeDetails = createCodeSampleDetails('Show Avatar Code Examples', avatarCodeSample);
        avatarSection.appendChild(avatarCodeDetails); // Add to the avatarSection box itself

        // The avatarSection is already added to the main 'content' within a Row.
        // This structure keeps the code sample visually tied to the avatar demos.

        // --- Specialized Row Types ---
        const specializedRowsTitle = Adw.createLabel("Specialized List Rows", {title:1});
        // content.appendChild(specializedRowsTitle); // This is already part of main content.children

        const actionRow1 = Adw.createActionRow({
            title: "Action Row",
            subtitle: "Click to do something",
            onClick: () => Adw.createToast("Action Row Clicked!")
        });
        const actionRowWithIcon = Adw.createActionRow({
            title: "Action with Icon",
            subtitle: "And a subtitle too",
            iconHTML: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM6.5 4.5a.5.5 0 0 1 1 0V7h2.5a.5.5 0 0 1 0 1H7.5v2.5a.5.5 0 0 1-1 0V8H4a.5.5 0 0 1 0-1h2.5V4.5Z"/></svg>', // Placeholder plus icon
            onClick: () => Adw.createToast("Action Row with Icon Clicked!")
        });
         const actionRowNoChevron = Adw.createActionRow({
            title: "Action Row (No Chevron)",
            subtitle: "Still clickable",
            showChevron: false,
            onClick: () => Adw.createToast("Action Row (No Chevron) Clicked!")
        });

        const activatedActionRow = Adw.createActionRow({
            title: "Activated Action Row",
            subtitle: "This row is visually activated",
            iconHTML: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M14 7.5a6.5 6.5 0 11-13 0a6.5 6.5 0 0113 0zM8 1C4.134 1 1 4.134 1 8s3.134 7 7 7s7-3.134 7-7s-3.134-7-7-7z"/></svg>', // Circle icon
            onClick: () => Adw.createToast("Activated Action Row clicked!"),
            activated: true
        });

        const navigationActionRow = Adw.createActionRow({
            title: "Open Preferences",
            subtitle: "Navigate to application settings",
            iconHTML: '<svg width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M8.222 2.23a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L11.94 8 8.222 4.31a.75.75 0 010-1.06z"/></svg>', // Chevron Right icon
            onClick: () => Adw.createToast("Navigate to Preferences (simulation) clicked!")
        });


        const entryRow1 = Adw.createEntryRow({
            title: "Username:",
            entryOptions: { placeholder: "Enter username..." }
        });

        const passwordEntryRow1 = Adw.createPasswordEntryRow({
            title: "Password:",
            entryOptions: {
                placeholder: "Enter password...",
                name: "password_example"
            }
        });

        const expanderContent = Adw.createBox({ orientation: 'vertical', spacing: 's', children: [
            Adw.createLabel("This is the expanded content."),
            Adw.createButton("A button inside expander")
        ]});
        const expanderRow1 = Adw.createExpanderRow({
            title: "Expander Row",
            subtitle: "Click to expand/collapse",
            content: expanderContent
        });
        const expanderRow2 = Adw.createExpanderRow({
            title: "Initially Expanded",
            subtitle: "This one starts open",
            content: Adw.createLabel("Some pre-expanded content here."),
            expanded: true
        });

        const comboRow1 = Adw.createComboRow({
            title: "Choose an Option",
            subtitle: "Select from the list",
            selectOptions: ["Option A", "Option B", {label: "Option C (Val C)", value: "C"}],
            selectedValue: "B",
            onChanged: (value) => Adw.createToast(`Combo changed to: ${value}`)
        });
         const disabledComboRow = Adw.createComboRow({
            title: "Disabled Combo",
            selectOptions: ["Can't choose"],
            disabled: true
        });


        const specializedRowsListBox = Adw.createListBox({
            // ListBox itself doesn't have 'spacing', rows inside it manage their padding.
            children: [
                actionRow1,
                actionRowWithIcon,
                actionRowNoChevron,
                activatedActionRow, // Added activated action row
                navigationActionRow, // Added navigation action row
                entryRow1,
                passwordEntryRow1, // Added PasswordEntryRow instance
                expanderRow1,
                expanderRow2,
                comboRow1,
                disabledComboRow
            ]
        });
        // content.appendChild(specializedRowsListBox); // This is already part of main content.children

        const specializedRowsCodeSample = `
// ActionRow (clickable row, often for navigation or actions)
const actionRow = Adw.createActionRow({
    title: "Open Settings",
    subtitle: "Configure application preferences",
    iconHTML: "<svg width='16' height='16'><path d='...' fill='currentColor'/></svg>", // Optional: SVG icon string
    onClick: () => Adw.createToast("Action Row clicked!"),
    // showChevron: true, // Default is true, set to false to hide arrow
});

// Activated ActionRow
const activatedActionRowExample = Adw.createActionRow({
    title: "Activated Row",
    subtitle: "This row starts with an active state",
    iconHTML: "<svg width='16' height='16'><path fill='currentColor' d='M14 7.5a6.5 6.5 0 11-13 0a6.5 6.5 0 0113 0zM8 1C4.134 1 1 4.134 1 8s3.134 7 7 7s7-3.134 7-7s-3.134-7-7-7z'/></svg>", // Optional icon (circle)
    onClick: () => { Adw.createToast("Clicked an activated row"); },
    activated: true
});

// ActionRow for Navigation
const navActionRowExample = Adw.createActionRow({
    title: "User Profile",
    subtitle: "View and edit your profile information",
    iconHTML: "<svg width='16' height='16'><path fill='currentColor' d='M8.222 2.23a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L11.94 8 8.222 4.31a.75.75 0 010-1.06z'/></svg>", // e.g., a chevron-right icon
    onClick: () => { Adw.createToast("Simulating navigation to User Profile"); /* typically window.location.href = '...' or similar */ }
});

// EntryRow (a row with a title and an entry field)
const entryRow = Adw.createEntryRow({
    title: "Username:",
    entryOptions: { // Options passed to the internal Adw.createEntry call
        placeholder: "Enter your name",
        // onInput: (e) => console.log(e.target.value)
    }
});

// PasswordEntryRow (a row with a title, password input, and visibility toggle)
const passwordEntryRow = Adw.createPasswordEntryRow({
    title: "New Password:",
    entryOptions: { // Options passed to the internal Adw.createEntry
        placeholder: "Enter new password",
        name: "new_user_password"
        // Other attributes like 'required' can be added here.
    }
    // labelForEntry: true // Default is true
});

// ExpanderRow (a row that can expand to show more content)
const expanderChildContent = Adw.createBox({ children: [Adw.createLabel("Details revealed...")] });
const expanderRow = Adw.createExpanderRow({
    title: "More Information",
    subtitle: "Click to see details",
    content: expanderChildContent, // HTMLElement to show when expanded
    expanded: false // Initial state (true or false)
});

// ComboRow (a row with a title and a dropdown/select)
const comboRow = Adw.createComboRow({
    title: "Select Type:",
    subtitle: "Choose one from the list below",
    selectOptions: [
        "Option 1 Value", // Simple string option
        { label: "Option 2 Label", value: "opt2_actual_value" }, // Object for different label and value
        "Another Option"
    ],
    // selectedValue: "opt2_actual_value", // Pre-select a value
    onChanged: (selectedValue) => Adw.createToast(\`ComboRow changed to: \${selectedValue}\`),
    // disabled: true // To disable the combo row
});

// These rows are typically added as children to an Adw.ListBox:
// const listBox = Adw.createListBox({ children: [actionRow, entryRow, passwordEntryRow, expanderRow, comboRow] });
        `;
        const specializedRowsCodeDetails = createCodeSampleDetails('Show Specialized Row Code Examples', specializedRowsCodeSample);
        // Will be inserted after specializedRowsListBox


        // --- Custom Element Showcase Definition ---
        const customElementShowcaseTitle = Adw.createLabel("Custom Element Showcase", {title:1});

        const customElementExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm',
            children: [
                // Placeholders removed, new content will be added below
            ]
        });

        // --- adw-button subsection ---
        const adwButtonSubsectionTitle = Adw.createLabel("adw-button", {title:2});

        const adwButtonExamplesBox = Adw.createBox({
            orientation: 'horizontal', // Arrange buttons in a row
            spacing: 'm',              // Medium spacing between buttons
            wrap: true,                // Allow buttons to wrap to the next line
        });

        // Standard Button
        const adwBtnStandard = document.createElement('adw-button');
        adwBtnStandard.textContent = 'Standard Button';
        adwBtnStandard.addEventListener('click', () => Adw.createToast("Standard adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnStandard);

        // Suggested Button
        const adwBtnSuggested = document.createElement('adw-button');
        adwBtnSuggested.setAttribute('suggested', '');
        adwBtnSuggested.textContent = 'Suggested Button';
        adwBtnSuggested.addEventListener('click', () => Adw.createToast("Suggested adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnSuggested);

        // Destructive Button
        const adwBtnDestructive = document.createElement('adw-button');
        adwBtnDestructive.setAttribute('destructive', '');
        adwBtnDestructive.textContent = 'Destructive Button';
        adwBtnDestructive.addEventListener('click', () => Adw.createToast("Destructive adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnDestructive);

        // Flat Button
        const adwBtnFlat = document.createElement('adw-button');
        adwBtnFlat.setAttribute('flat', '');
        adwBtnFlat.textContent = 'Flat Button';
        adwBtnFlat.addEventListener('click', () => Adw.createToast("Flat adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnFlat);

        // Disabled Button
        const adwBtnDisabled = document.createElement('adw-button');
        adwBtnDisabled.setAttribute('disabled', '');
        adwBtnDisabled.textContent = 'Disabled Button';
        // No click listener for disabled button
        adwButtonExamplesBox.appendChild(adwBtnDisabled);

        // Icon Button
        const adwBtnIcon = document.createElement('adw-button');
        adwBtnIcon.setAttribute('icon', "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z'/></svg>");
        adwBtnIcon.textContent = 'Icon Button';
        adwBtnIcon.addEventListener('click', () => Adw.createToast("Icon adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnIcon);

        // Circular Icon Button
        const adwBtnCircular = document.createElement('adw-button');
        adwBtnCircular.setAttribute('circular', '');
        adwBtnCircular.setAttribute('icon', "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385C2.49 8.673 3.25 9.776 4.138 10.737MB8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15'/></svg>");
        // No text content for circular icon buttons typically
        adwBtnCircular.addEventListener('click', () => Adw.createToast("Circular adw-button clicked"));
        adwButtonExamplesBox.appendChild(adwBtnCircular);

        const adwButtonCodeSample = `
<!-- Standard Button -->
<adw-button>Standard Button</adw-button>

<!-- Suggested Button (for primary actions) -->
<adw-button suggested>Suggested Button</adw-button>

<!-- Destructive Button (for actions like delete) -->
<adw-button destructive>Destructive Button</adw-button>

<!-- Flat Button (borderless) -->
<adw-button flat>Flat Button</adw-button>

<!-- Disabled Button -->
<adw-button disabled>Disabled Button</adw-button>

<!-- Button with Icon -->
<adw-button icon="<svg>...</svg>">Icon Button</adw-button>
<!-- Note: SVG string should be properly escaped if defined in HTML directly,
     or use a JS variable if setting via JS. For this demo, assume JS context. -->

<!-- Circular Icon Button (typically icon-only) -->
<adw-button circular icon="<svg>...</svg>"></adw-button>

<script>
    // To add event listeners or manipulate programmatically:
    const myButton = document.querySelector('adw-button'); // or get by ID
    myButton.addEventListener('click', () => {
        console.log('adw-button clicked!');
    });

    // To set attributes programmatically:
    // myButton.setAttribute('suggested', ''); // For boolean attributes
    // myButton.removeAttribute('disabled');
    // myButton.setAttribute('icon', '<svg>...</svg>');
    // myButton.textContent = 'New Label';
</script>
        `;
        const adwButtonCodeDetails = createCodeSampleDetails('Show <adw-button> Code', adwButtonCodeSample);

        // Append the adw-button subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwButtonSubsectionTitle);
        customElementExamplesBox.appendChild(adwButtonExamplesBox);
        customElementExamplesBox.appendChild(adwButtonCodeDetails);

        // --- adw-box subsection ---
        const adwBoxSubsectionTitle = Adw.createLabel("adw-box", {title:2});

        const adwBoxExamplesContainer = Adw.createBox({ // Main container for all adw-box examples
            orientation: 'vertical',
            spacing: 'l' // Large spacing between different box example setups
        });

        // Helper to create simple styled items for boxes
        function createBoxDemoItem(text) {
            const item = document.createElement('div');
            item.textContent = text;
            item.style.padding = 'var(--spacing-xs)';
            item.style.border = '1px dashed var(--border-color)';
            item.style.backgroundColor = 'var(--window-bg-color)'; // Use a subtle background
            return item;
        }

        // 1. Horizontal Box Example
        const horizontalBoxTitle = Adw.createLabel("Horizontal Box (spacing='m')", { title: 5, isBody: true });
        const horizontalBox = document.createElement('adw-box');
        horizontalBox.setAttribute('orientation', 'horizontal');
        horizontalBox.setAttribute('spacing', 'm');
        horizontalBox.appendChild(createBoxDemoItem('Item 1'));
        horizontalBox.appendChild(createBoxDemoItem('Item 2'));
        horizontalBox.appendChild(createBoxDemoItem('Item 3'));

        const horizontalBoxDemo = Adw.createBox({ orientation: 'vertical', spacing: 'xs'});
        horizontalBoxDemo.appendChild(horizontalBoxTitle);
        horizontalBoxDemo.appendChild(horizontalBox);
        adwBoxExamplesContainer.appendChild(horizontalBoxDemo);

        // 2. Vertical Box Example
        const verticalBoxTitle = Adw.createLabel("Vertical Box (spacing='s')", { title: 5, isBody: true });
        const verticalBox = document.createElement('adw-box');
        verticalBox.setAttribute('orientation', 'vertical');
        verticalBox.setAttribute('spacing', 's');
        verticalBox.appendChild(createBoxDemoItem('Item A'));
        verticalBox.appendChild(createBoxDemoItem('Item B'));
        verticalBox.appendChild(createBoxDemoItem('Item C'));

        const verticalBoxDemo = Adw.createBox({ orientation: 'vertical', spacing: 'xs'});
        verticalBoxDemo.appendChild(verticalBoxTitle);
        verticalBoxDemo.appendChild(verticalBox);
        adwBoxExamplesContainer.appendChild(verticalBoxDemo);

        // 3. Box with Alignment/Justification
        const alignedBoxTitle = Adw.createLabel("Aligned/Justified Box (align='center', justify='between')", { title: 5, isBody: true });
        const alignedBox = document.createElement('adw-box');
        alignedBox.setAttribute('orientation', 'horizontal');
        alignedBox.setAttribute('spacing', 'm');
        alignedBox.setAttribute('align', 'center');    // Vertical alignment of children
        alignedBox.setAttribute('justify', 'between'); // Horizontal distribution of children
        alignedBox.style.cssText = 'height: 80px; border: 1px solid var(--accent-color); padding: var(--spacing-xs); width: 300px;'; // Fixed width for predictable justify
        alignedBox.appendChild(createBoxDemoItem('Start Child'));
        alignedBox.appendChild(createBoxDemoItem('End Child'));

        const alignedBoxDemo = Adw.createBox({ orientation: 'vertical', spacing: 'xs'});
        alignedBoxDemo.appendChild(alignedBoxTitle);
        alignedBoxDemo.appendChild(alignedBox);
        adwBoxExamplesContainer.appendChild(alignedBoxDemo);

        const adwBoxCodeSample = `
<!-- Horizontal Box -->
<adw-box orientation="horizontal" spacing="m">
    <div>Item 1</div>
    <div>Item 2</div>
</adw-box>

<!-- Vertical Box -->
<adw-box orientation="vertical" spacing="s">
    <div>Item A</div>
    <div>Item B</div>
</adw-box>

<!-- Box with Alignment and Justification -->
<!-- 'align' controls cross-axis alignment (e.g., items in a row align vertically) -->
<!-- 'justify' controls main-axis distribution (e.g., items in a row spread out horizontally) -->
<adw-box orientation="horizontal" spacing="m" align="center" justify="between" style="height: 50px; border: 1px solid lightgray;">
    <div>Start</div>
    <div>End</div>
</adw-box>

<!-- Possible values for spacing: "xs", "s", "m", "l", "xl" (or custom CSS value) -->
<!-- Possible values for align: "start", "center", "end", "stretch", "baseline" -->
<!-- Possible values for justify: "start", "center", "end", "between", "around", "evenly" -->

<script>
    // Creating an adw-box and adding children programmatically:
    const myBox = document.createElement('adw-box');
    myBox.setAttribute('orientation', 'vertical');
    myBox.setAttribute('spacing', 's');

    const child1 = document.createElement('div');
    child1.textContent = 'Programmatic Child 1';
    myBox.appendChild(child1);

    const child2 = document.createElement('adw-label'); // Can use other custom elements
    child2.textContent = 'Programmatic Child 2';
    myBox.appendChild(child2);

    // document.body.appendChild(myBox); // Or append to any other container
</script>
        `;
        const adwBoxCodeDetails = createCodeSampleDetails('Show <adw-box> Code', adwBoxCodeSample);

        // Append the adw-box subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwBoxSubsectionTitle);
        customElementExamplesBox.appendChild(adwBoxExamplesContainer);
        customElementExamplesBox.appendChild(adwBoxCodeDetails);

        // --- adw-entry subsection ---
        const adwEntrySubsectionTitle = Adw.createLabel("adw-entry", {title:2});

        const adwEntryExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between entry examples
        });

        // 1. Standard Entry
        const standardEntryLabel = Adw.createLabel("Standard:");
        const standardEntry = document.createElement('adw-entry');
        standardEntry.setAttribute('placeholder', 'Enter text here...');
        standardEntry.addEventListener('input', (e) => Adw.createToast(`Input: ${e.target.value}`, {timeout: 1500}));
        const standardEntryRow = Adw.createRow({ children: [standardEntryLabel, standardEntry] });
        adwEntryExamplesBox.appendChild(standardEntryRow);

        // 2. Disabled Entry
        const disabledEntryLabel = Adw.createLabel("Disabled:");
        const disabledEntry = document.createElement('adw-entry');
        disabledEntry.setAttribute('placeholder', 'Disabled entry');
        disabledEntry.setAttribute('disabled', '');
        disabledEntry.setAttribute('value', 'Cannot change');
        const disabledEntryRow = Adw.createRow({ children: [disabledEntryLabel, disabledEntry] });
        adwEntryExamplesBox.appendChild(disabledEntryRow);

        // 3. Entry with Initial Value
        const valueEntryLabel = Adw.createLabel("With Value:");
        const valueEntry = document.createElement('adw-entry');
        valueEntry.setAttribute('value', 'Initial text');
        valueEntry.addEventListener('input', (e) => Adw.createToast(`Input: ${e.target.value}`, {timeout: 1500}));
        const valueEntryRow = Adw.createRow({ children: [valueEntryLabel, valueEntry] });
        adwEntryExamplesBox.appendChild(valueEntryRow);

        // 4. Password Entry
        const passwordEntryLabel = Adw.createLabel("Password Type:");
        const passwordEntry = document.createElement('adw-entry');
        passwordEntry.setAttribute('type', 'password');
        passwordEntry.setAttribute('placeholder', 'Password');
        passwordEntry.addEventListener('input', (e) => console.log(`Password entry input: ${e.target.value}`)); // Log to console for passwords
        const passwordEntryRow = Adw.createRow({ children: [passwordEntryLabel, passwordEntry] });
        adwEntryExamplesBox.appendChild(passwordEntryRow);

        const adwEntryCodeSample = `
<!-- Standard Entry with Placeholder -->
<adw-entry placeholder="Enter text here..."></adw-entry>

<!-- Disabled Entry with a Value -->
<adw-entry placeholder="Disabled entry" disabled value="Cannot change"></adw-entry>

<!-- Entry with an Initial Value -->
<adw-entry value="Initial text"></adw-entry>

<!-- Password Entry -->
<adw-entry type="password" placeholder="Password"></adw-entry>

<!-- Other useful attributes:
    maxlength="50"       (Maximum number of characters)
    name="username"      (For form submission)
    inputmode="numeric"  (Hint for virtual keyboards)
    readonly             (Value cannot be changed, but can be focused/selected)
-->

<script>
    // To get value or listen to events:
    const myEntry = document.querySelector('adw-entry[placeholder="Enter text here..."]');

    // Get current value
    // console.log(myEntry.value);
    // Note: For custom elements, direct .value access might depend on implementation.
    // It's often more reliable to use getAttribute('value') for initial static value,
    // and rely on events for dynamic value changes if .value property is not explicitly managed.
    // For adw-entry, it's assumed .value property is synchronized.

    myEntry.addEventListener('input', (event) => {
        console.log('Input event:', event.target.value);
    });

    myEntry.addEventListener('change', (event) => {
        // Change event typically fires when the input loses focus after its value was changed.
        console.log('Change event:', event.target.value);
    });

    // To set value programmatically:
    // myEntry.value = "New value";
    // or myEntry.setAttribute('value', "New value");
</script>
        `;
        const adwEntryCodeDetails = createCodeSampleDetails('Show <adw-entry> Code', adwEntryCodeSample);

        // Append the adw-entry subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwEntrySubsectionTitle);
        customElementExamplesBox.appendChild(adwEntryExamplesBox);
        customElementExamplesBox.appendChild(adwEntryCodeDetails);

        // --- adw-label subsection ---
        const adwLabelSubsectionTitle = Adw.createLabel("adw-label", {title:2});

        const adwLabelExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between label examples
        });

        // 1. Basic Label
        const basicLabel = document.createElement('adw-label');
        basicLabel.textContent = 'This is a basic label.';
        adwLabelExamplesBox.appendChild(basicLabel);

        // 2. Title Labels
        const titleLabel1 = document.createElement('adw-label');
        titleLabel1.setAttribute('title-level', '1');
        titleLabel1.textContent = 'Title Level 1';
        adwLabelExamplesBox.appendChild(titleLabel1);

        const titleLabel2 = document.createElement('adw-label');
        titleLabel2.setAttribute('title-level', '2');
        titleLabel2.textContent = 'Title Level 2';
        adwLabelExamplesBox.appendChild(titleLabel2);

        const titleLabel3 = document.createElement('adw-label');
        titleLabel3.setAttribute('title-level', '3');
        titleLabel3.textContent = 'Title Level 3';
        adwLabelExamplesBox.appendChild(titleLabel3);

        const titleLabel4 = document.createElement('adw-label');
        titleLabel4.setAttribute('title-level', '4');
        titleLabel4.textContent = 'Title Level 4';
        adwLabelExamplesBox.appendChild(titleLabel4);

        // Add a small visual separator for clarity if needed, or rely on box spacing
        // const separator = document.createElement('hr'); // Or Adw.Separator if available as custom el
        // adwLabelExamplesBox.appendChild(separator);


        // 3. Body Text Label
        const bodyLabel = document.createElement('adw-label');
        bodyLabel.setAttribute('body', '');
        bodyLabel.textContent = 'This is body text. It might be longer and wrap around, demonstrating standard paragraph styling.';
        adwLabelExamplesBox.appendChild(bodyLabel);

        // 4. Caption Label
        const captionLabel = document.createElement('adw-label');
        captionLabel.setAttribute('caption', '');
        captionLabel.textContent = 'This is a caption. Usually smaller, for secondary information.';
        adwLabelExamplesBox.appendChild(captionLabel);

        // 5. Disabled Label
        const disabledLabelInstance = document.createElement('adw-label');
        disabledLabelInstance.setAttribute('disabled', '');
        disabledLabelInstance.textContent = 'This is a disabled label.';
        adwLabelExamplesBox.appendChild(disabledLabelInstance);

        // 6. Link-styled Label
        const linkLabel = document.createElement('adw-label');
        linkLabel.setAttribute('link', '');
        linkLabel.textContent = 'This is a link-styled label.';
        linkLabel.addEventListener('click', () => Adw.createToast('Link-styled adw-label clicked!'));
        adwLabelExamplesBox.appendChild(linkLabel);


        const adwLabelCodeSample = `
<!-- Basic Label (default styling) -->
<adw-label>This is a basic label.</adw-label>

<!-- Title Labels (Levels 1-4) -->
<adw-label title-level="1">Title Level 1</adw-label>
<adw-label title-level="2">Title Level 2</adw-label>
<adw-label title-level="3">Title Level 3</adw-label>
<adw-label title-level="4">Title Level 4</adw-label>

<!-- Body Text Label (for standard paragraph text) -->
<adw-label body>This is body text, suitable for paragraphs.</adw-label>

<!-- Caption Label (for smaller, secondary text) -->
<adw-label caption>This is a caption, often used for hints or subtext.</adw-label>

<!-- Disabled Label -->
<adw-label disabled>This label is disabled.</adw-label>

<!-- Link-styled Label (appears like a hyperlink) -->
<adw-label link>This label looks like a link.</adw-label>
<!-- To make it interactive, add a click listener in JavaScript:
<script>
    const linkLabel = document.querySelector('adw-label[link]');
    linkLabel.addEventListener('click', () => {
        alert('Link label clicked!');
    });
</script>
-->

<!-- Other potential attributes (depending on full component spec):
    selectable="true"  (If text selection is desired)
    wrap="true"        (Controls text wrapping, usually true by default for body/caption)
-->
        `;
        const adwLabelCodeDetails = createCodeSampleDetails('Show <adw-label> Code', adwLabelCodeSample);

        // Append the adw-label subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwLabelSubsectionTitle);
        customElementExamplesBox.appendChild(adwLabelExamplesBox);
        customElementExamplesBox.appendChild(adwLabelCodeDetails);

        // --- adw-switch subsection ---
        const adwSwitchSubsectionTitle = Adw.createLabel("adw-switch", {title:2});

        const adwSwitchExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between switch examples
        });

        // 1. Standard Switch
        const standardSwitch = document.createElement('adw-switch');
        standardSwitch.setAttribute('label', 'Enable Feature');
        standardSwitch.addEventListener('change', (event) => {
            Adw.createToast(`Switch 'Enable Feature' is now: ${event.target.checked ? 'ON' : 'OFF'}`);
        });
        adwSwitchExamplesBox.appendChild(standardSwitch);

        // 2. Checked Switch
        const checkedSwitch = document.createElement('adw-switch');
        checkedSwitch.setAttribute('label', 'Initially On');
        checkedSwitch.setAttribute('checked', '');
        checkedSwitch.addEventListener('change', (event) => {
            Adw.createToast(`Switch 'Initially On' is now: ${event.target.checked ? 'ON' : 'OFF'}`);
        });
        adwSwitchExamplesBox.appendChild(checkedSwitch);

        // 3. Disabled Switch (Off)
        const disabledSwitchOff = document.createElement('adw-switch');
        disabledSwitchOff.setAttribute('label', 'Disabled (Off)');
        disabledSwitchOff.setAttribute('disabled', '');
        adwSwitchExamplesBox.appendChild(disabledSwitchOff);

        // 4. Disabled Switch (On)
        const disabledSwitchOn = document.createElement('adw-switch');
        disabledSwitchOn.setAttribute('label', 'Disabled (On)');
        disabledSwitchOn.setAttribute('checked', '');
        disabledSwitchOn.setAttribute('disabled', '');
        adwSwitchExamplesBox.appendChild(disabledSwitchOn);

        const adwSwitchCodeSample = `
<!-- Standard Switch with a Label -->
<adw-switch label="Enable Notifications"></adw-switch>

<!-- Switch that is Checked by Default -->
<adw-switch label="Start Service on Boot" checked></adw-switch>

<!-- Disabled Switch (in 'off' state) -->
<adw-switch label="Feature X (Not available)" disabled></adw-switch>

<!-- Disabled Switch (in 'on' state) -->
<adw-switch label="Feature Y (Enabled by admin)" checked disabled></adw-switch>

<script>
    // To listen for state changes:
    const mySwitch = document.querySelector('adw-switch[label="Enable Notifications"]');
    mySwitch.addEventListener('change', (event) => {
        // event.target.checked will be true if the switch is on, false otherwise
        console.log('Switch state changed to:', event.target.checked);
        // Update application state or perform actions based on the new switch state.
    });

    // To get or set the state programmatically:
    // Get current state:
    // const currentState = mySwitch.checked;
    // Note: .checked property access depends on custom element implementation.
    // For adw-switch, it's assumed .checked property reflects the state.

    // Set state:
    // mySwitch.checked = true; // To turn on
    // mySwitch.checked = false; // To turn off
    // Alternatively, using attributes:
    // mySwitch.setAttribute('checked', ''); // To turn on
    // mySwitch.removeAttribute('checked'); // To turn off
</script>
        `;
        const adwSwitchCodeDetails = createCodeSampleDetails('Show <adw-switch> Code', adwSwitchCodeSample);

        // Append the adw-switch subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwSwitchSubsectionTitle);
        customElementExamplesBox.appendChild(adwSwitchExamplesBox);
        customElementExamplesBox.appendChild(adwSwitchCodeDetails);

        // --- adw-checkbox subsection ---
        const adwCheckboxSubsectionTitle = Adw.createLabel("adw-checkbox", {title:2});

        const adwCheckboxExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between checkbox examples
        });

        // 1. Standard Checkbox
        const standardCheckbox = document.createElement('adw-checkbox');
        standardCheckbox.setAttribute('label', 'Accept Terms');
        standardCheckbox.addEventListener('change', (event) => {
            Adw.createToast(`Checkbox 'Accept Terms' is now: ${event.target.checked ? 'CHECKED' : 'UNCHECKED'}`);
        });
        adwCheckboxExamplesBox.appendChild(standardCheckbox);

        // 2. Checked Checkbox
        const checkedCheckbox = document.createElement('adw-checkbox');
        checkedCheckbox.setAttribute('label', 'Subscribe to Newsletter');
        checkedCheckbox.setAttribute('checked', '');
        checkedCheckbox.addEventListener('change', (event) => {
            Adw.createToast(`Checkbox 'Subscribe to Newsletter' is now: ${event.target.checked ? 'CHECKED' : 'UNCHECKED'}`);
        });
        adwCheckboxExamplesBox.appendChild(checkedCheckbox);

        // 3. Disabled Checkbox (Unchecked)
        const disabledCheckboxUnchecked = document.createElement('adw-checkbox');
        disabledCheckboxUnchecked.setAttribute('label', 'Disabled (Unchecked)');
        disabledCheckboxUnchecked.setAttribute('disabled', '');
        adwCheckboxExamplesBox.appendChild(disabledCheckboxUnchecked);

        // 4. Disabled Checkbox (Checked)
        const disabledCheckboxChecked = document.createElement('adw-checkbox');
        disabledCheckboxChecked.setAttribute('label', 'Disabled (Checked)');
        disabledCheckboxChecked.setAttribute('checked', '');
        disabledCheckboxChecked.setAttribute('disabled', '');
        adwCheckboxExamplesBox.appendChild(disabledCheckboxChecked);

        const adwCheckboxCodeSample = `
<!-- Standard Checkbox with a Label -->
<adw-checkbox label="I agree to the conditions"></adw-checkbox>

<!-- Checkbox that is Checked by Default -->
<adw-checkbox label="Send me promotional emails" checked></adw-checkbox>

<!-- Disabled Checkbox (in 'unchecked' state) -->
<adw-checkbox label="Option X (Not applicable)" disabled></adw-checkbox>

<!-- Disabled Checkbox (in 'checked' state) -->
<adw-checkbox label="Option Y (Pre-selected by admin)" checked disabled></adw-checkbox>

<!-- Checkbox with 'name' and 'value' attributes for form submission -->
<adw-checkbox label="Include Gift Wrap" name="giftwrap" value="yes"></adw-checkbox>


<script>
    // To listen for state changes:
    const myCheckbox = document.querySelector('adw-checkbox[label="I agree to the conditions"]');
    myCheckbox.addEventListener('change', (event) => {
        // event.target.checked will be true if the checkbox is checked, false otherwise
        console.log('Checkbox state changed to:', event.target.checked);
        // Update application state or perform actions based on the new checkbox state.
    });

    // To get or set the state programmatically:
    // Get current state:
    // const currentState = myCheckbox.checked;
    // Note: .checked property access depends on custom element implementation.
    // For adw-checkbox, it's assumed .checked property reflects the state.

    // Set state:
    // myCheckbox.checked = true; // To check
    // myCheckbox.checked = false; // To uncheck
    // Alternatively, using attributes:
    // myCheckbox.setAttribute('checked', ''); // To check
    // myCheckbox.removeAttribute('checked');   // To uncheck
</script>
        `;
        const adwCheckboxCodeDetails = createCodeSampleDetails('Show <adw-checkbox> Code', adwCheckboxCodeSample);

        // Append the adw-checkbox subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwCheckboxSubsectionTitle);
        customElementExamplesBox.appendChild(adwCheckboxExamplesBox);
        customElementExamplesBox.appendChild(adwCheckboxCodeDetails);

        // --- adw-radio-button subsection ---
        const adwRadioButtonSubsectionTitle = Adw.createLabel("adw-radio-button", {title:2});

        const adwRadioButtonExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between radio button group examples
        });

        // Radio Group 1: Interactive
        const group1Container = Adw.createBox({orientation: 'vertical', spacing: 's'});
        const group1Label = Adw.createLabel("Choose a shipping method:", {isBody: true});
        group1Container.appendChild(group1Label);

        const radioValuesGroup1 = [
            { value: "standard", label: "Standard Shipping" },
            { value: "express", label: "Express Shipping" },
            { value: "priority", label: "Priority Shipping" }
        ];

        radioValuesGroup1.forEach((item, index) => {
            const radioButton = document.createElement('adw-radio-button');
            radioButton.setAttribute('name', 'shippingGroup');
            radioButton.setAttribute('value', item.value);
            radioButton.setAttribute('label', item.label);
            if (index === 0) {
                radioButton.setAttribute('checked', ''); // Check the first one by default
            }
            radioButton.addEventListener('change', (event) => {
                if (event.target.checked) {
                    Adw.createToast(`Selected shipping: ${event.target.getAttribute('value')}`);
                }
            });
            group1Container.appendChild(radioButton);
        });
        adwRadioButtonExamplesBox.appendChild(group1Container);

        // Radio Group 2: Disabled
        const group2Container = Adw.createBox({orientation: 'vertical', spacing: 's'});
        const group2Label = Adw.createLabel("Subscription Tier (Disabled Options):", {isBody: true});
        group2Container.appendChild(group2Label);

        const radioDisabled1 = document.createElement('adw-radio-button');
        radioDisabled1.setAttribute('name', 'tierGroup');
        radioDisabled1.setAttribute('value', 'free');
        radioDisabled1.setAttribute('label', 'Free Tier (Disabled)');
        radioDisabled1.setAttribute('disabled', '');
        group2Container.appendChild(radioDisabled1);

        const radioDisabled2 = document.createElement('adw-radio-button');
        radioDisabled2.setAttribute('name', 'tierGroup');
        radioDisabled2.setAttribute('value', 'premium_disabled');
        radioDisabled2.setAttribute('label', 'Premium Tier (Unavailable)');
        radioDisabled2.setAttribute('disabled', '');
        group2Container.appendChild(radioDisabled2);

        const radioDisabledChecked = document.createElement('adw-radio-button');
        radioDisabledChecked.setAttribute('name', 'tierGroup'); // Same group, but won't affect others due to disabled
        radioDisabledChecked.setAttribute('value', 'pro_locked');
        radioDisabledChecked.setAttribute('label', 'Pro Tier (Active & Disabled)');
        radioDisabledChecked.setAttribute('checked', '');
        radioDisabledChecked.setAttribute('disabled', '');
        group2Container.appendChild(radioDisabledChecked);

        adwRadioButtonExamplesBox.appendChild(group2Container);

        const adwRadioButtonCodeSample = `
<!-- Radio buttons are grouped by the 'name' attribute. -->
<!-- Only one radio button in a group can be checked at a time. -->

<!-- Group 1: Choose your preference -->
<adw-label body>Select your preferred contact method:</adw-label>
<adw-radio-button name="contactMethod" value="email" label="Email" checked></adw-radio-button>
<adw-radio-button name="contactMethod" value="phone" label="Phone"></adw-radio-button>
<adw-radio-button name="contactMethod" value="sms" label="SMS"></adw-radio-button>

<!-- Group 2: Another independent choice -->
<adw-label body>Select size:</adw-label>
<adw-radio-button name="sizeOptions" value="s" label="Small"></adw-radio-button>
<adw-radio-button name="sizeOptions" value="m" label="Medium" checked></adw-radio-button>
<adw-radio-button name="sizeOptions" value="l" label="Large"></adw-radio-button>

<!-- Disabled Radio Buttons -->
<adw-label body>Disabled options:</adw-label>
<adw-radio-button name="disabledGroup" value="dis1" label="Option X (Disabled)" disabled></adw-radio-button>
<adw-radio-button name="disabledGroup" value="dis2" label="Option Y (Checked & Disabled)" checked disabled></adw-radio-button>

<script>
    // To listen for changes in a radio group:
    const radioButtons = document.querySelectorAll('adw-radio-button[name="contactMethod"]');
    radioButtons.forEach(radio => {
        radio.addEventListener('change', (event) => {
            if (event.target.checked) {
                console.log('Selected contact method:', event.target.value);
                // The 'value' attribute of the selected radio button is key.
            }
        });
    });

    // To get the currently selected value in a group:
    // const selectedContactMethod = document.querySelector('adw-radio-button[name="contactMethod"]:checked')?.value;
    // console.log('Currently selected:', selectedContactMethod);

    // To check a radio button programmatically:
    // const smsRadio = document.querySelector('adw-radio-button[value="sms"]');
    // if (smsRadio) {
    //    smsRadio.checked = true; // This should also uncheck other buttons in the same group.
    //    // Or smsRadio.setAttribute('checked', '');
    // }
</script>
        `;
        const adwRadioButtonCodeDetails = createCodeSampleDetails('Show <adw-radio-button> Code', adwRadioButtonCodeSample);

        // Append the adw-radio-button subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwRadioButtonSubsectionTitle);
        customElementExamplesBox.appendChild(adwRadioButtonExamplesBox);
        customElementExamplesBox.appendChild(adwRadioButtonCodeDetails);

        // --- adw-progress-bar subsection ---
        const adwProgressBarSubsectionTitle = Adw.createLabel("adw-progress-bar", {title:2});

        const adwProgressBarExamplesBox = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm' // Medium spacing between progress bar examples
        });

        // 1. Standard Progress Bar
        const standardProgressBarLabel = Adw.createLabel("Standard (50%):");
        const standardProgressBar = document.createElement('adw-progress-bar');
        standardProgressBar.setAttribute('value', '50');
        const standardProgressBarRow = Adw.createRow({ children: [standardProgressBarLabel, standardProgressBar], align: 'center'});
        adwProgressBarExamplesBox.appendChild(standardProgressBarRow);

        // 2. Indeterminate Progress Bar
        const indeterminateProgressBarLabel = Adw.createLabel("Indeterminate:");
        const indeterminateProgressBar = document.createElement('adw-progress-bar');
        indeterminateProgressBar.setAttribute('indeterminate', '');
        const indeterminateProgressBarRow = Adw.createRow({ children: [indeterminateProgressBarLabel, indeterminateProgressBar], align: 'center' });
        adwProgressBarExamplesBox.appendChild(indeterminateProgressBarRow);

        // 3. Disabled Progress Bar
        const disabledProgressBarInstanceLabel = Adw.createLabel("Disabled (75%):");
        const disabledProgressBarInstance = document.createElement('adw-progress-bar');
        disabledProgressBarInstance.setAttribute('value', '75');
        disabledProgressBarInstance.setAttribute('disabled', '');
        const disabledProgressBarRow = Adw.createRow({ children: [disabledProgressBarInstanceLabel, disabledProgressBarInstance], align: 'center' });
        adwProgressBarExamplesBox.appendChild(disabledProgressBarRow);

        // 4. Dynamic Progress Bar
        const dynamicProgressBarContainer = Adw.createBox({orientation: 'vertical', spacing: 's'});
        const dynamicProgressBarTitleLabel = Adw.createLabel("Dynamic Update:", {isBody: true});
        dynamicProgressBarContainer.appendChild(dynamicProgressBarTitleLabel);

        const dynamicProgressBar = document.createElement('adw-progress-bar');
        dynamicProgressBar.setAttribute('value', '10'); // Initial value
        dynamicProgressBarContainer.appendChild(dynamicProgressBar);

        const dynamicControlsBox = Adw.createBox({orientation: 'horizontal', spacing: 's', align: 'center'});
        const increaseButton = Adw.createButton("Increase (+10)", {
            onClick: () => {
                let currentValue = parseInt(dynamicProgressBar.getAttribute('value') || '0', 10);
                currentValue = Math.min(100, currentValue + 10);
                dynamicProgressBar.setAttribute('value', currentValue.toString());
            }
        });
        const decreaseButton = Adw.createButton("Decrease (-10)", {
            onClick: () => {
                let currentValue = parseInt(dynamicProgressBar.getAttribute('value') || '0', 10);
                currentValue = Math.max(0, currentValue - 10);
                dynamicProgressBar.setAttribute('value', currentValue.toString());
            }
        });
        dynamicControlsBox.appendChild(decreaseButton); // Decrease first for typical layout
        dynamicControlsBox.appendChild(increaseButton);
        dynamicProgressBarContainer.appendChild(dynamicControlsBox);
        adwProgressBarExamplesBox.appendChild(dynamicProgressBarContainer);


        const adwProgressBarCodeSample = `
<!-- Standard Progress Bar with a specific value -->
<adw-progress-bar value="60"></adw-progress-bar>

<!-- Indeterminate Progress Bar (for tasks of unknown duration) -->
<adw-progress-bar indeterminate></adw-progress-bar>

<!-- Disabled Progress Bar -->
<adw-progress-bar value="30" disabled></adw-progress-bar>

<script>
    // To update the progress programmatically:
    const myProgressBar = document.querySelector('adw-progress-bar[value="60"]'); // Example selector

    // Set a new value (0-100)
    // myProgressBar.setAttribute('value', '85');

    // To switch to indeterminate state:
    // myProgressBar.setAttribute('indeterminate', '');
    // myProgressBar.removeAttribute('value'); // Usually good to remove value for indeterminate

    // To revert from indeterminate to a specific value:
    // myProgressBar.removeAttribute('indeterminate');
    // myProgressBar.setAttribute('value', '25');

    // To disable/enable:
    // myProgressBar.setAttribute('disabled', '');
    // myProgressBar.removeAttribute('disabled');
</script>
        `;
        const adwProgressBarCodeDetails = createCodeSampleDetails('Show <adw-progress-bar> Code', adwProgressBarCodeSample);

        // Append the adw-progress-bar subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwProgressBarSubsectionTitle);
        customElementExamplesBox.appendChild(adwProgressBarExamplesBox);
        customElementExamplesBox.appendChild(adwProgressBarCodeDetails);

        // --- adw-spinner subsection ---
        const adwSpinnerSubsectionTitle = Adw.createLabel("adw-spinner", {title:2});

        // Main vertical container for all spinner examples
        const mainSpinnerContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // Box for fixed size spinners (small, medium, large)
        const adwSpinnerExamplesBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'l', // Large spacing between different size examples
            align: 'center'
        });

        // 1. Small Spinner
        const smallSpinnerLabel = Adw.createLabel("Small:");
        const smallSpinner = document.createElement('adw-spinner');
        smallSpinner.setAttribute('size', 'small');
        smallSpinner.setAttribute('active', '');
        const smallSpinnerGroup = Adw.createBox({orientation: 'horizontal', spacing:'s', align:'center'});
        smallSpinnerGroup.appendChild(smallSpinnerLabel);
        smallSpinnerGroup.appendChild(smallSpinner);
        adwSpinnerExamplesBox.appendChild(smallSpinnerGroup);

        // 2. Medium (Default) Spinner
        const mediumSpinnerLabel = Adw.createLabel("Medium (Default):");
        const mediumSpinner = document.createElement('adw-spinner');
        mediumSpinner.setAttribute('active', '');
        const mediumSpinnerGroup = Adw.createBox({orientation: 'horizontal', spacing:'s', align:'center'});
        mediumSpinnerGroup.appendChild(mediumSpinnerLabel);
        mediumSpinnerGroup.appendChild(mediumSpinner);
        adwSpinnerExamplesBox.appendChild(mediumSpinnerGroup);

        // 3. Large Spinner
        const largeSpinnerLabel = Adw.createLabel("Large:");
        const largeSpinner = document.createElement('adw-spinner');
        largeSpinner.setAttribute('size', 'large');
        largeSpinner.setAttribute('active', '');
        const largeSpinnerGroup = Adw.createBox({orientation: 'horizontal', spacing:'s', align:'center'});
        largeSpinnerGroup.appendChild(largeSpinnerLabel);
        largeSpinnerGroup.appendChild(largeSpinner);
        adwSpinnerExamplesBox.appendChild(largeSpinnerGroup);

        mainSpinnerContainer.appendChild(adwSpinnerExamplesBox); // Add the row of fixed spinners

        // 4. Controllable Spinner
        const controllableSpinnerContainer = Adw.createBox({orientation: 'vertical', spacing: 's'});
        const controllableSpinnerTitleLabel = Adw.createLabel("Controllable Spinner:", {isBody: true});
        controllableSpinnerContainer.appendChild(controllableSpinnerTitleLabel);

        const controllableSpinnerGroup = Adw.createBox({orientation: 'horizontal', spacing: 's', align: 'center'});
        const controllableSpinner = document.createElement('adw-spinner');
        controllableSpinner.setAttribute('active', ''); // Start active

        const stopButton = Adw.createButton("Stop Spinner", {
            onClick: () => {
                controllableSpinner.removeAttribute('active');
            }
        });
        const startButton = Adw.createButton("Start Spinner", {
            suggested: true, // Make "Start" look like a primary action here
            onClick: () => {
                controllableSpinner.setAttribute('active', '');
            }
        });
        controllableSpinnerGroup.appendChild(controllableSpinner); // Spinner first
        controllableSpinnerGroup.appendChild(startButton);
        controllableSpinnerGroup.appendChild(stopButton);
        controllableSpinnerContainer.appendChild(controllableSpinnerGroup);
        mainSpinnerContainer.appendChild(controllableSpinnerContainer); // Add controllable spinner section

        const adwSpinnerCodeSample = `
<!-- Spinners are active by default if 'active' attribute is present -->

<!-- Small Spinner -->
<adw-spinner size="small" active></adw-spinner>

<!-- Medium (Default Size) Spinner -->
<adw-spinner active></adw-spinner>

<!-- Large Spinner -->
<adw-spinner size="large" active></adw-spinner>

<!-- To control activation programmatically: -->
<!-- <adw-spinner id="mySpinner"></adw-spinner> -->
<script>
    // const spinner = document.getElementById('mySpinner');

    // To start the spinner:
    // spinner.setAttribute('active', ''); // or spinner.active = true; (if property is supported)

    // To stop the spinner:
    // spinner.removeAttribute('active'); // or spinner.active = false; (if property is supported)

    // Note on 'active' attribute vs. property:
    // For boolean attributes in HTML, their presence means true, absence means false.
    // Custom elements might also expose a JavaScript property (e.g., spinner.active = true/false).
    // Using setAttribute/removeAttribute is the standard HTML way.
</script>
        `;
        const adwSpinnerCodeDetails = createCodeSampleDetails('Show <adw-spinner> Code', adwSpinnerCodeSample);

        // Append the adw-spinner subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwSpinnerSubsectionTitle);
        customElementExamplesBox.appendChild(mainSpinnerContainer); // Add the main vertical container
        customElementExamplesBox.appendChild(adwSpinnerCodeDetails);

        // --- adw-avatar subsection ---
        const adwAvatarSubsectionTitle = Adw.createLabel("adw-avatar", {title:2});

        const adwAvatarExamplesContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // Text Avatars Row
        const avatarTextRowLabel = Adw.createLabel("Text Avatars:", {isBody: true});
        const avatarTextRow = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });

        const avatarJD = document.createElement('adw-avatar');
        avatarJD.setAttribute('text', 'John Doe');
        avatarJD.setAttribute('size', '32');
        avatarTextRow.appendChild(avatarJD);

        const avatarJR = document.createElement('adw-avatar');
        avatarJR.setAttribute('text', 'Jane Roe');
        avatarJR.setAttribute('size', '48');
        avatarTextRow.appendChild(avatarJR);

        const avatarS = document.createElement('adw-avatar');
        avatarS.setAttribute('text', 'Single');
        avatarS.setAttribute('size', '64');
        avatarTextRow.appendChild(avatarS);

        const avatarXYZ = document.createElement('adw-avatar');
        avatarXYZ.setAttribute('text', 'X Y Z'); // Should show XY
        avatarXYZ.setAttribute('size', '72');
        avatarTextRow.appendChild(avatarXYZ);

        adwAvatarExamplesContainer.appendChild(avatarTextRowLabel);
        adwAvatarExamplesContainer.appendChild(avatarTextRow);

        // Image Avatars Row
        const avatarImageRowLabel = Adw.createLabel("Image Avatars (with fallback):", {isBody: true});
        const avatarImageRow = Adw.createBox({ orientation: 'horizontal', spacing: 'm', align: 'center' });
        const imgSrc = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23ddd'/%3E%3Ctext x='50' y='55' font-size='40' text-anchor='middle' fill='%23777'%3EIMG%3C/text%3E%3C/svg%3E";

        const avatarImg1 = document.createElement('adw-avatar');
        avatarImg1.setAttribute('image-src', imgSrc);
        avatarImg1.setAttribute('alt', 'User Image 1');
        avatarImg1.setAttribute('size', '48');
        avatarImageRow.appendChild(avatarImg1);

        const avatarImgFallback = document.createElement('adw-avatar');
        avatarImgFallback.setAttribute('image-src', 'nonexistent.jpg');
        avatarImgFallback.setAttribute('text', 'Err'); // Text fallback
        avatarImgFallback.setAttribute('alt', 'Fallback Demo');
        avatarImgFallback.setAttribute('size', '64');
        avatarImageRow.appendChild(avatarImgFallback);

        adwAvatarExamplesContainer.appendChild(avatarImageRowLabel);
        adwAvatarExamplesContainer.appendChild(avatarImageRow);

        const adwAvatarCodeSample = `
<!-- Avatar with Text (initials are auto-generated) -->
<adw-avatar text="John Doe" size="48"></adw-avatar>
<adw-avatar text="Single" size="64"></adw-avatar>

<!-- Avatar with Image -->
<adw-avatar image-src="path/to/image.png" alt="User Avatar" size="72"></adw-avatar>

<!-- Avatar with Image and Text Fallback -->
<!-- If 'image-src' fails to load, the 'text' attribute will be used for initials. -->
<adw-avatar image-src="broken-link.png" text="Fallback User" alt="User with Fallback" size="64"></adw-avatar>

<!-- Different Sizes (numeric size in pixels) -->
<adw-avatar text="Small" size="32"></adw-avatar>
<adw-avatar text="Large" size="96"></adw-avatar>

<!-- Attributes:
    text:         String for generating initials if no image or if image fails.
    image-src:    URL for the avatar image.
    alt:          Alternative text for the image (accessibility).
    size:         Size of the avatar in pixels (diameter).
-->

<script>
    // Creating programmatically:
    const avatar = document.createElement('adw-avatar');
    avatar.setAttribute('text', 'New User');
    avatar.setAttribute('size', '50');
    // document.body.appendChild(avatar); // Append to a container

    // Note on Custom Fallback:
    // The Adw.createAvatar() JavaScript factory function supports a 'customFallback'
    // option (passing an HTMLElement). However, the <adw-avatar> custom element
    // wrapper itself does not currently expose this via an HTML attribute.
    // For custom HTML fallbacks, use the Adw.createAvatar() factory.
</script>
        `;
        const adwAvatarCodeDetails = createCodeSampleDetails('Show <adw-avatar> Code', adwAvatarCodeSample);

        // Append the adw-avatar subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwAvatarSubsectionTitle);
        customElementExamplesBox.appendChild(adwAvatarExamplesContainer);
        customElementExamplesBox.appendChild(adwAvatarCodeDetails);

        // --- adw-split-button subsection ---
        const adwSplitButtonSubsectionTitle = Adw.createLabel("adw-split-button", {title:2});

        const adwSplitButtonExamplesBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 'm',
            wrap: true, // Allow buttons to wrap
            align: 'center'
        });

        // 1. Basic Split Button
        const basicSplitButton = document.createElement('adw-split-button');
        basicSplitButton.setAttribute('action-text', 'Save');
        basicSplitButton.addEventListener('action-click', () => Adw.createToast('Save action clicked!'));
        basicSplitButton.addEventListener('dropdown-click', () => Adw.createToast('Save dropdown clicked!'));
        adwSplitButtonExamplesBox.appendChild(basicSplitButton);

        // 2. Suggested Split Button
        const suggestedSplitButton = document.createElement('adw-split-button');
        suggestedSplitButton.setAttribute('action-text', 'Submit');
        suggestedSplitButton.setAttribute('suggested', '');
        suggestedSplitButton.addEventListener('action-click', () => Adw.createToast('Submit action clicked!'));
        suggestedSplitButton.addEventListener('dropdown-click', () => Adw.createToast('Submit dropdown clicked!'));
        adwSplitButtonExamplesBox.appendChild(suggestedSplitButton);

        // 3. Split Button for "Open Link" (action click only for custom element)
        const linkActionSplitButton = document.createElement('adw-split-button');
        linkActionSplitButton.setAttribute('action-text', 'Open Link (Action)');
        linkActionSplitButton.addEventListener('action-click', () => Adw.createToast('Open Link action clicked! (Simulated)'));
        linkActionSplitButton.addEventListener('dropdown-click', () => Adw.createToast('Open Link dropdown clicked!'));
        adwSplitButtonExamplesBox.appendChild(linkActionSplitButton);

        // 4. Disabled Split Button
        const disabledSplitButton = document.createElement('adw-split-button');
        disabledSplitButton.setAttribute('action-text', 'Disabled');
        disabledSplitButton.setAttribute('disabled', '');
        adwSplitButtonExamplesBox.appendChild(disabledSplitButton);

        const adwSplitButtonCodeSample = `
<!-- Basic Split Button -->
<adw-split-button action-text="Save"></adw-split-button>

<!-- Suggested Split Button (for primary actions) -->
<adw-split-button action-text="Apply" suggested></adw-split-button>

<!-- Disabled Split Button -->
<adw-split-button action-text="Cannot Edit" disabled></adw-split-button>

<!-- Attributes:
    action-text:  The text displayed on the main action part of the button. (Required)
    suggested:    Boolean attribute. If present, styles the action part as a suggested action.
    disabled:     Boolean attribute. If present, disables both the action and dropdown parts.
    action-href:  URL for the main action button to navigate to.
                  (Note: While the Adw.createSplitButton JS factory supports 'actionHref',
                  direct functionality of an 'action-href' attribute on the <adw-split-button>
                  custom element depends on its specific implementation to reflect this to the
                  underlying button. Verify behavior if using this attribute directly.)
-->

<script>
    // Example: Handling events for a split button
    const mySplitButton = document.querySelector('adw-split-button[action-text="Save"]');

    if (mySplitButton) {
        // Event dispatched when the main action part is clicked.
        mySplitButton.addEventListener('action-click', () => {
            console.log('Action part of "Save" button clicked!');
            // Perform the main action, e.g., save data.
        });

        // Event dispatched when the dropdown arrow part is clicked.
        mySplitButton.addEventListener('dropdown-click', (event) => {
            console.log('Dropdown part of "Save" button clicked!');
            // Typically, you would show a menu or list of alternative actions here.
            // For example, using Adw.createPopover() if available, or a custom menu.
            // The event.detail might contain coordinates if the component provides them.
            Adw.createToast("Dropdown clicked! Implement menu logic here.");
        });
    }

    // Programmatic control:
    // To disable:
    // mySplitButton.setAttribute('disabled', '');
    // To enable:
    // mySplitButton.removeAttribute('disabled');
    // To change action text:
    // mySplitButton.setAttribute('action-text', 'Save As');
</script>
        `;
        const adwSplitButtonCodeDetails = createCodeSampleDetails('Show <adw-split-button> Code', adwSplitButtonCodeSample);

        // Append the adw-split-button subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwSplitButtonSubsectionTitle);
        customElementExamplesBox.appendChild(adwSplitButtonExamplesBox);
        customElementExamplesBox.appendChild(adwSplitButtonCodeDetails);

        // --- adw-window-title subsection ---
        const adwWindowTitleSubsectionTitle = Adw.createLabel("adw-window-title", {title:2});

        const adwWindowTitleExampleContainer = Adw.createBox({
            orientation: 'vertical', // Container for the header bar example
            spacing: 's'
        });

        const demoHeaderBarLabel = Adw.createLabel("Demo within an <adw-header-bar>:", { isBody: true });
        adwWindowTitleExampleContainer.appendChild(demoHeaderBarLabel);

        // Create an adw-header-bar to host the adw-window-title
        const demoHeaderBar = document.createElement('adw-header-bar');
        // Optionally add some start/end items to the header bar for context
        const startButton = document.createElement('adw-button');
        startButton.setAttribute('icon', ADW_ICON_NAV_BACK); // Using a predefined icon constant
        startButton.setAttribute('slot', 'start');
        demoHeaderBar.appendChild(startButton);

        const endButton = document.createElement('adw-button');
        endButton.setAttribute('icon', ADW_ICON_MENU); // Using a predefined icon constant
        endButton.setAttribute('slot', 'end');
        demoHeaderBar.appendChild(endButton);

        // Create and add the adw-window-title
        const windowTitleElement = document.createElement('adw-window-title');
        windowTitleElement.textContent = 'My Application Title';
        windowTitleElement.setAttribute('slot', 'title');
        // The subtitle can also be set via an attribute if the custom element supports it,
        // or by adding a child span with slot="subtitle" if using <template> internally.
        // For this demo, we'll stick to the title text content.
        // Example: windowTitleElement.setAttribute('subtitle', 'Subtitle Text');

        demoHeaderBar.appendChild(windowTitleElement);
        adwWindowTitleExampleContainer.appendChild(demoHeaderBar);


        const adwWindowTitleCodeSample = `
<!-- adw-window-title is typically used within an adw-header-bar -->
<adw-header-bar>
    <!-- Add other header bar elements like buttons in start/end slots -->
    <adw-button slot="start" icon="<svg>...</svg>"></adw-button>

    <adw-window-title slot="title">
        Main Application Title
        <!-- Optional: Subtitle can be placed in a span with slot="subtitle" -->
        <!-- <span slot="subtitle">Subtitle text here</span> -->
    </adw-window-title>
    <!-- Or, if subtitle attribute is supported by the custom element: -->
    <!-- <adw-window-title slot="title" title="Main Title" subtitle="Subtitle Text"></adw-window-title> -->

    <adw-button slot="end" icon="<svg>...</svg>"></adw-button>
</adw-header-bar>

<script>
    // To set the title or subtitle programmatically on an <adw-window-title> element:
    const myWindowTitle = document.querySelector('adw-window-title');
    if (myWindowTitle) {
        // For the main title, you can set its textContent:
        // myWindowTitle.textContent = 'New Main Title';
        // (This assumes the default slot handles the main title text)

        // If the custom element directly supports 'title' and 'subtitle' attributes
        // for these specific roles (check component's implementation):
        // myWindowTitle.setAttribute('title', 'New Main Title Attribute');
        // myWindowTitle.setAttribute('subtitle', 'New Subtitle Attribute');

        // If using slotted spans for title/subtitle:
        // const mainTitleSpan = myWindowTitle.querySelector('[slot="title"]'); // If title is also slotted
        // const subTitleSpan = myWindowTitle.querySelector('[slot="subtitle"]');
        // if (mainTitleSpan) mainTitleSpan.textContent = 'New Slotted Main Title';
        // if (subTitleSpan) subTitleSpan.textContent = 'New Slotted Subtitle';
        // else {
        //    const newSub = document.createElement('span');
        //    newSub.slot = 'subtitle';
        //    newSub.textContent = 'Newly Added Subtitle';
        //    myWindowTitle.appendChild(newSub);
        // }
    }
</script>
        `;
        const adwWindowTitleCodeDetails = createCodeSampleDetails('Show <adw-window-title> Code', adwWindowTitleCodeSample);

        // Append the adw-window-title subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwWindowTitleSubsectionTitle);
        customElementExamplesBox.appendChild(adwWindowTitleExampleContainer);
        customElementExamplesBox.appendChild(adwWindowTitleCodeDetails);

        // --- adw-header-bar subsection ---
        const adwHeaderBarSubsectionTitle = Adw.createLabel("adw-header-bar", {title:2});

        const adwHeaderBarExampleContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const demoHeaderBarInstanceLabel = Adw.createLabel("Live Demo:", { isBody: true });
        adwHeaderBarExampleContainer.appendChild(demoHeaderBarInstanceLabel);

        const demoHeaderBarInstance = document.createElement('adw-header-bar');

        // Start Slot
        const startSlotButton = document.createElement('adw-button');
        startSlotButton.textContent = 'Start';
        startSlotButton.setAttribute('slot', 'start');
        demoHeaderBarInstance.appendChild(startSlotButton);

        // Title Slot (using adw-window-title for consistency with previous example)
        const titleSlotElement = document.createElement('adw-window-title');
        titleSlotElement.textContent = 'Header Title';
        titleSlotElement.setAttribute('slot', 'title');
        // Subtitle for adw-window-title is typically handled by its own internal structure or attributes
        // For adw-header-bar, we can directly slot a subtitle element.
        demoHeaderBarInstance.appendChild(titleSlotElement);

        // Subtitle Slot (as a separate span, direct child of header-bar)
        const subtitleSlotElement = document.createElement('span');
        subtitleSlotElement.textContent = 'Optional Subtitle';
        subtitleSlotElement.setAttribute('slot', 'subtitle');
        subtitleSlotElement.style.fontSize = 'var(--font-size-caption)';
        subtitleSlotElement.style.color = 'var(--secondary-text-color)';
        subtitleSlotElement.style.marginTop = 'var(--spacing-xs)'; // Adjust spacing if needed
        demoHeaderBarInstance.appendChild(subtitleSlotElement);

        // End Slot
        const endSlotButton1 = document.createElement('adw-button');
        endSlotButton1.textContent = 'End 1';
        endSlotButton1.setAttribute('slot', 'end');
        demoHeaderBarInstance.appendChild(endSlotButton1);

        const endSlotButton2 = document.createElement('adw-button');
        endSlotButton2.setAttribute('circular', '');
        endSlotButton2.setAttribute('icon', "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5Z'/></svg>");
        endSlotButton2.setAttribute('slot', 'end');
        demoHeaderBarInstance.appendChild(endSlotButton2);

        adwHeaderBarExampleContainer.appendChild(demoHeaderBarInstance);

        const adwHeaderBarCodeSample = `
<!-- adw-header-bar uses named slots to position content -->
<adw-header-bar>
    <!-- Content for the start (left in LTR) -->
    <adw-button slot="start" icon="<svg>...</svg>">Back</adw-button>
    <adw-label slot="start">Extra Start Item</adw-label>

    <!-- Main title area -->
    <adw-window-title slot="title">My Application</adw-window-title>
    <!-- Subtitle (immediately follows the title slot or is part of adw-window-title) -->
    <span slot="subtitle" style="font-size: var(--font-size-caption); color: var(--secondary-text-color);">
        Subtitle here
    </span>
    <!-- Alternatively, if adw-window-title handles subtitle internally:
    <adw-window-title slot="title" title="My Application" subtitle="Subtitle here"></adw-window-title>
    -->

    <!-- Content for the end (right in LTR) -->
    <adw-button slot="end">Action 1</adw-button>
    <adw-spinner slot="end" active size="small"></adw-spinner>
</adw-header-bar>

<script>
    // Programmatic creation and slotting:
    const headerBar = document.createElement('adw-header-bar');

    const backButton = document.createElement('adw-button');
    backButton.textContent = 'Back';
    backButton.slot = 'start'; // Use .slot property or .setAttribute('slot', ...)
    headerBar.appendChild(backButton);

    const title = document.createElement('adw-window-title');
    title.textContent = 'Dynamic Title';
    title.slot = 'title';
    headerBar.appendChild(title);

    const subtitle = document.createElement('span');
    subtitle.textContent = 'Dynamic Subtitle';
    subtitle.slot = 'subtitle';
    subtitle.style.fontSize = 'var(--font-size-caption)';
    // ... other styles
    headerBar.appendChild(subtitle);

    const menuButton = document.createElement('adw-button');
    menuButton.textContent = 'Menu';
    menuButton.slot = 'end';
    headerBar.appendChild(menuButton);

    // document.body.prepend(headerBar); // Example: add to top of body
</script>
        `;
        const adwHeaderBarCodeDetails = createCodeSampleDetails('Show <adw-header-bar> Code', adwHeaderBarCodeSample);

        // Append the adw-header-bar subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwHeaderBarSubsectionTitle);
        customElementExamplesBox.appendChild(adwHeaderBarExampleContainer);
        customElementExamplesBox.appendChild(adwHeaderBarCodeDetails);

        // --- adw-row subsection ---
        const adwRowSubsectionTitle = Adw.createLabel("adw-row", {title:2});

        const adwRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // 1. Simple Row with Mixed Content
        const simpleRowDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const simpleRowLabel = Adw.createLabel("Simple Row with Mixed Content:", {isBody: true});
        simpleRowDemoContainer.appendChild(simpleRowLabel);
        const simpleAdwRow = document.createElement('adw-row');

        const srChildLabel = document.createElement('adw-label');
        srChildLabel.textContent = 'Label Item';
        simpleAdwRow.appendChild(srChildLabel);

        const srChildSpan = document.createElement('span');
        srChildSpan.textContent = 'Plain Text Item';
        srChildSpan.style.margin = '0 var(--spacing-s)'; // Add some horizontal margin
        simpleAdwRow.appendChild(srChildSpan);

        const srChildButton = document.createElement('adw-button');
        srChildButton.setAttribute('small', '');
        srChildButton.textContent = 'Action';
        simpleAdwRow.appendChild(srChildButton);
        simpleRowDemoContainer.appendChild(simpleAdwRow);
        adwRowExampleOuterContainer.appendChild(simpleRowDemoContainer);

        // 2. Interactive Row
        const interactiveRowDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const interactiveRowLabelText = Adw.createLabel("Interactive Row:", {isBody: true});
        interactiveRowDemoContainer.appendChild(interactiveRowLabelText);
        const interactiveAdwRow = document.createElement('adw-row');
        interactiveAdwRow.setAttribute('interactive', '');
        const irChildLabel = document.createElement('adw-label');
        irChildLabel.textContent = 'This entire row is clickable.';
        interactiveAdwRow.appendChild(irChildLabel);
        interactiveAdwRow.addEventListener('click', () => Adw.createToast("Interactive adw-row clicked!"));
        interactiveRowDemoContainer.appendChild(interactiveAdwRow);
        adwRowExampleOuterContainer.appendChild(interactiveRowDemoContainer);

        // 3. Activated Row
        const activatedRowDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const activatedRowLabelText = Adw.createLabel("Activated Row:", {isBody: true});
        activatedRowDemoContainer.appendChild(activatedRowLabelText);
        const activatedAdwRow = document.createElement('adw-row');
        activatedAdwRow.setAttribute('activated', '');
        const arChildLabel = document.createElement('adw-label');
        arChildLabel.textContent = 'This row is visually activated (e.g., selected state).';
        activatedAdwRow.appendChild(arChildLabel);
        // No click listener needed for activated, it's a visual state
        activatedRowDemoContainer.appendChild(activatedAdwRow);
        adwRowExampleOuterContainer.appendChild(activatedRowDemoContainer);

        const adwRowCodeSample = `
<!-- Basic adw-row: children are placed directly in its Light DOM -->
<adw-row>
    <adw-label>User:</adw-label>
    <adw-entry placeholder="Enter username..."></adw-entry>
    <adw-button>Submit</adw-button>
</adw-row>

<!-- Interactive Row (clickable) -->
<adw-row interactive>
    <adw-label>Settings Option</adw-label>
    <!-- You might add an icon or chevron at the end -->
</adw-row>

<!-- Activated Row (visually highlighted, e.g., for selection) -->
<adw-row activated>
    <adw-label>Selected Item</adw-label>
</adw-row>

<!-- Attributes:
    interactive: Boolean attribute. If present, the row becomes clickable and shows hover/active states.
    activated:   Boolean attribute. If present, styles the row as if it's selected or active.
-->

<script>
    // To handle clicks on an interactive row:
    const interactiveRowExample = document.querySelector('adw-row[interactive]');
    if (interactiveRowExample) {
        interactiveRowExample.addEventListener('click', () => {
            console.log('Interactive row was clicked!');
            // Perform an action, navigate, or open details.
        });
    }

    // To programmatically activate/deactivate a row:
    const someRow = document.querySelector('adw-row'); // Select a specific row
    // if (someRow) {
    //    someRow.setAttribute('activated', ''); // Activate
    //    // someRow.removeAttribute('activated'); // Deactivate
    // }
</script>
        `;
        const adwRowCodeDetails = createCodeSampleDetails('Show <adw-row> Code', adwRowCodeSample);

        // Append the adw-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwRowCodeDetails);

        // --- adw-list-box subsection ---
        const adwListBoxSubsectionTitle = Adw.createLabel("adw-list-box", {title:2});

        const adwListBoxExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // Helper function to create an adw-row with a label
        function createDemoRow(text, isInteractive = false, isActivated = false) {
            const row = document.createElement('adw-row');
            if (isInteractive) row.setAttribute('interactive', '');
            if (isActivated) row.setAttribute('activated', '');

            const label = document.createElement('adw-label');
            label.textContent = text;
            row.appendChild(label);
            return row;
        }

        // 1. Simple ListBox with adw-row children
        const simpleListBoxDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const simpleListBoxLabel = Adw.createLabel("ListBox with adw-row children:", {isBody: true});
        simpleListBoxDemoContainer.appendChild(simpleListBoxLabel);
        const simpleAdwListBox = document.createElement('adw-list-box');

        const row1 = createDemoRow('Row 1 (Interactive)', true);
        row1.addEventListener('click', () => Adw.createToast('Row 1 in Simple ListBox clicked!'));
        simpleAdwListBox.appendChild(row1);
        simpleAdwListBox.appendChild(createDemoRow('Row 2 (Activated)', false, true));
        simpleAdwListBox.appendChild(createDemoRow('Row 3 (Standard)'));

        simpleListBoxDemoContainer.appendChild(simpleAdwListBox);
        adwListBoxExampleOuterContainer.appendChild(simpleListBoxDemoContainer);

        // 2. Flat ListBox
        const flatListBoxDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const flatListBoxLabelText = Adw.createLabel("Flat ListBox:", {isBody: true});
        flatListBoxDemoContainer.appendChild(flatListBoxLabelText);
        const flatAdwListBox = document.createElement('adw-list-box');
        flatAdwListBox.setAttribute('flat', '');
        flatAdwListBox.appendChild(createDemoRow('Flat Row A (Interactive)', true));
        flatAdwListBox.appendChild(createDemoRow('Flat Row B'));
        flatListBoxDemoContainer.appendChild(flatAdwListBox);
        adwListBoxExampleOuterContainer.appendChild(flatListBoxDemoContainer);

        // 3. Selectable ListBox
        const selectableListBoxDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const selectableListBoxLabelText = Adw.createLabel("Selectable ListBox (sets ARIA role):", {isBody: true});
        selectableListBoxDemoContainer.appendChild(selectableListBoxLabelText);
        const selectableAdwListBox = document.createElement('adw-list-box');
        selectableAdwListBox.setAttribute('selectable', ''); // This sets aria-multiselectable="false"

        const optionRow1 = createDemoRow('Option 1 (role=option)', true); // Interactive for selection behavior
        optionRow1.setAttribute('role', 'option');
        optionRow1.addEventListener('click', (e) => {
            // Basic single-selection visual simulation (not full ARIA selection handling)
            const currentlySelected = selectableAdwListBox.querySelector('[aria-selected="true"]');
            if (currentlySelected) currentlySelected.removeAttribute('aria-selected');
            e.currentTarget.setAttribute('aria-selected', 'true');
            Adw.createToast('Option 1 selected');
        });
        selectableAdwListBox.appendChild(optionRow1);

        const optionRow2 = createDemoRow('Option 2 (role=option)', true);
        optionRow2.setAttribute('role', 'option');
        optionRow2.addEventListener('click', (e) => {
            const currentlySelected = selectableAdwListBox.querySelector('[aria-selected="true"]');
            if (currentlySelected) currentlySelected.removeAttribute('aria-selected');
            e.currentTarget.setAttribute('aria-selected', 'true');
            Adw.createToast('Option 2 selected');
        });
        selectableAdwListBox.appendChild(optionRow2);

        selectableListBoxDemoContainer.appendChild(selectableAdwListBox);
        adwListBoxExampleOuterContainer.appendChild(selectableListBoxDemoContainer);

        const adwListBoxCodeSample = `
<!-- Basic ListBox with adw-row children -->
<adw-list-box>
    <adw-row interactive>
        <adw-label>Settings</adw-label>
        <!-- Can add icons or other elements inside the row -->
    </adw-row>
    <adw-row activated>
        <adw-label>Current Item</adw-label>
    </adw-row>
    <adw-row>
        <adw-label>Another Item</adw-label>
    </adw-row>
</adw-list-box>

<!-- Flat ListBox (removes outer border/shadow) -->
<adw-list-box flat>
    <adw-row>Row A</adw-row>
    <adw-row>Row B</adw-row>
</adw-list-box>

<!-- Selectable ListBox (for accessibility, often used with role="option" on rows) -->
<!-- The 'selectable' attribute on adw-list-box sets aria-multiselectable="false" by default.
     For true multi-selection, you'd need an additional 'multi-selectable' attribute if supported,
     or manage ARIA states manually. -->
<adw-list-box selectable>
    <adw-row interactive role="option">Option 1</adw-row>
    <adw-row interactive role="option">Option 2</adw-row>
    <adw-row interactive role="option" aria-selected="true">Option 3 (Pre-selected)</adw-row>
</adw-list-box>

<!-- Attributes for adw-list-box:
    flat:        Boolean. If present, styles the listbox without a frame or shadow.
    selectable:  Boolean. Sets 'role="listbox"' and 'aria-selectable="true"' on the host.
                 If you intend single selection, child rows should have 'role="option"'.
                 The component itself doesn't manage focus or actual selection state beyond ARIA.
                 The 'adw-list-box' also sets 'aria-multiselectable="false"' when 'selectable' is present.
                 For multi-selection, the component would need to support an attribute that sets this to true.
-->
<!-- Children of adw-list-box are typically adw-row or similar custom row elements. -->

<script>
    // Example: making rows in a selectable listbox visually toggle aria-selected
    const selectableList = document.querySelector('adw-list-box[selectable]');
    if (selectableList) {
        const options = selectableList.querySelectorAll('adw-row[role="option"]');
        options.forEach(option => {
            option.addEventListener('click', () => {
                // Simple single-select visual toggle for demo
                const currentlySelected = selectableList.querySelector('[aria-selected="true"]');
                if (currentlySelected) {
                    currentlySelected.removeAttribute('aria-selected');
                    // Also remove 'activated' if you used it for styling selection
                    currentlySelected.removeAttribute('activated');
                }
                option.setAttribute('aria-selected', 'true');
                // Optionally add 'activated' class for visual styling of selection
                option.setAttribute('activated', '');

                console.log(\`Option selected: \${option.textContent.trim()}\`);
            });
        });
    }
</script>
        `;
        const adwListBoxCodeDetails = createCodeSampleDetails('Show <adw-list-box> Code', adwListBoxCodeSample);

        // Append the adw-list-box subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwListBoxSubsectionTitle);
        customElementExamplesBox.appendChild(adwListBoxExampleOuterContainer);
        customElementExamplesBox.appendChild(adwListBoxCodeDetails);

        // --- adw-entry-row subsection ---
        const adwEntryRowSubsectionTitle = Adw.createLabel("adw-entry-row", {title:2});

        const adwEntryRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // Helper to add listener, ensuring internal entry exists
        function addInternalInputListener(entryRowElement, eventName, callback) {
            // The _internalEntry might be available synchronously after attributes are set,
            // or might need a microtask if it's created in connectedCallback or similar.
            // For this demo, we assume it's available after creation and attribute setting.
            if (entryRowElement._internalEntry) {
                entryRowElement._internalEntry.addEventListener(eventName, callback);
            } else {
                // Fallback or warning if not immediately available
                console.warn(`_internalEntry not found immediately for ${entryRowElement.title}. Listener not attached for demo.`);
                // Alternatively, queue it: Promise.resolve().then(() => {
                // if (entryRowElement._internalEntry) entryRowElement._internalEntry.addEventListener(eventName, callback); });
            }
        }

        // 1. Simple EntryRow
        const simpleEntryRow = document.createElement('adw-entry-row');
        simpleEntryRow.setAttribute('title', 'Username:');
        simpleEntryRow.setAttribute('placeholder', 'Enter username...');
        adwEntryRowExampleOuterContainer.appendChild(simpleEntryRow);
        // Must append to DOM before _internalEntry is guaranteed by some frameworks/CE lifecycle
        // However, our current CE implementation makes _internalEntry available after _render, which is called on attribute change.
        addInternalInputListener(simpleEntryRow, 'input', (e) => Adw.createToast(`Username input: ${e.target.value}`, { timeout: 1500 }));


        // 2. EntryRow with Initial Value
        const valueEntryRowInstance = document.createElement('adw-entry-row');
        valueEntryRowInstance.setAttribute('title', 'Email:');
        valueEntryRowInstance.setAttribute('value', 'test@example.com');
        adwEntryRowExampleOuterContainer.appendChild(valueEntryRowInstance);
        addInternalInputListener(valueEntryRowInstance, 'input', (e) => Adw.createToast(`Email input: ${e.target.value}`, { timeout: 1500 }));

        // 3. Disabled EntryRow
        const disabledEntryRowInstance = document.createElement('adw-entry-row');
        disabledEntryRowInstance.setAttribute('title', 'Confirmation Code:');
        disabledEntryRowInstance.setAttribute('placeholder', 'Cannot edit');
        disabledEntryRowInstance.setAttribute('disabled', '');
        disabledEntryRowInstance.setAttribute('value', 'XYZ123');
        adwEntryRowExampleOuterContainer.appendChild(disabledEntryRowInstance);

        // 4. Required EntryRow
        const requiredEntryRowInstance = document.createElement('adw-entry-row');
        requiredEntryRowInstance.setAttribute('title', 'Required Field:');
        requiredEntryRowInstance.setAttribute('placeholder', 'This field is required');
        requiredEntryRowInstance.setAttribute('required', '');
        adwEntryRowExampleOuterContainer.appendChild(requiredEntryRowInstance);
        addInternalInputListener(requiredEntryRowInstance, 'input', (e) => Adw.createToast(`Required field input: ${e.target.value}`, { timeout: 1500 }));

        const adwEntryRowCodeSample = `
<!-- Simple EntryRow with Title and Placeholder -->
<adw-entry-row title="Name:" placeholder="Enter your full name"></adw-entry-row>

<!-- EntryRow with an Initial Value -->
<adw-entry-row title="Website:" value="https://example.com"></adw-entry-row>

<!-- Disabled EntryRow -->
<adw-entry-row title="Reference ID:" value="REF98765" disabled></adw-entry-row>

<!-- Required EntryRow (visual cue often provided by browser/CSS) -->
<adw-entry-row title="API Key:" placeholder="Enter your API key" required></adw-entry-row>

<!-- Attributes:
    title:        The label text displayed to the left of the entry.
    placeholder:  Placeholder text for the internal input element.
    value:        Initial value for the internal input element.
    disabled:     Boolean. If present, disables the internal input.
    required:     Boolean. If present, marks the internal input as required (for forms).
    type:         Passed to the internal input (e.g., "text", "password", "email", "number"). Default "text".
    inputmode:    Passed to internal input (e.g. "numeric", "tel", "email").
    maxlength:    Passed to internal input.
    pattern:      Passed to internal input (regex for validation).
    readonly:     Passed to internal input.
-->

<script>
    // Accessing the internal input element and its events/properties:
    const entryRow = document.querySelector('adw-entry-row[title="Name:"]');

    // The adw-entry-row custom element might expose its internal input, e.g., as _internalEntry.
    // This is an internal implementation detail and might change, but for current component:
    if (entryRow && entryRow._internalEntry) {
        // Get value from internal input
        console.log('Current value:', entryRow._internalEntry.value);

        // Listen to input events directly on the internal input
        entryRow._internalEntry.addEventListener('input', (event) => {
            console.log('Internal input event:', event.target.value);
        });

        // Set value on internal input
        // entryRow._internalEntry.value = 'New Value from JS';
    } else {
        // If _internalEntry is not exposed or available yet, you might need to wait
        // or rely on attributes for initial setup. For dynamic changes post-render,
        // direct access or dedicated methods on the custom element would be needed.
        // The 'value' attribute on adw-entry-row itself should reflect to the internal input.
        // entryRow.setAttribute('value', 'New value via attribute');
    }

    // The adw-entry-row may also dispatch its own custom events for input/change.
    // Check component documentation for 'input' or 'change' events on <adw-entry-row> itself.
    // e.g., entryRow.addEventListener('input', (event) => { console.log(event.detail.value); });
    // For this component, the input event seems to bubble from the native input.
</script>
        `;
        const adwEntryRowCodeDetails = createCodeSampleDetails('Show <adw-entry-row> Code', adwEntryRowCodeSample);

        // Append the adw-entry-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwEntryRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwEntryRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwEntryRowCodeDetails);

        // --- adw-password-entry-row subsection ---
        const adwPasswordEntryRowSubsectionTitle = Adw.createLabel("adw-password-entry-row", {title:2});

        const adwPasswordEntryRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // Re-using or adapting the helper for internal input listeners
        function addPasswordInternalInputListener(entryRowElement, eventName, callback) {
            if (entryRowElement._internalEntry) {
                entryRowElement._internalEntry.addEventListener(eventName, callback);
            } else {
                console.warn(`_internalEntry not found for ${entryRowElement.getAttribute('title') || 'password entry row'}. Listener not attached.`);
            }
        }

        // 1. Simple PasswordEntryRow
        const simplePasswordEntryRow = document.createElement('adw-password-entry-row');
        simplePasswordEntryRow.setAttribute('title', 'Password:');
        simplePasswordEntryRow.setAttribute('placeholder', 'Enter password...');
        adwPasswordEntryRowExampleOuterContainer.appendChild(simplePasswordEntryRow);
        addPasswordInternalInputListener(simplePasswordEntryRow, 'input', (e) => console.log(`Password field 'Password:' input: ${e.target.value}`));

        // 2. PasswordEntryRow with Initial Value
        const valuePasswordEntryRow = document.createElement('adw-password-entry-row');
        valuePasswordEntryRow.setAttribute('title', 'Current Password:');
        valuePasswordEntryRow.setAttribute('value', 'pa$$wOrd'); // Value attribute should handle special chars fine
        adwPasswordEntryRowExampleOuterContainer.appendChild(valuePasswordEntryRow);
        addPasswordInternalInputListener(valuePasswordEntryRow, 'input', (e) => console.log(`Password field 'Current Password:' input: ${e.target.value}`));

        // 3. Disabled PasswordEntryRow
        const disabledPasswordEntryRow = document.createElement('adw-password-entry-row');
        disabledPasswordEntryRow.setAttribute('title', 'Old Password:');
        disabledPasswordEntryRow.setAttribute('placeholder', 'Cannot edit');
        disabledPasswordEntryRow.setAttribute('disabled', '');
        disabledPasswordEntryRow.setAttribute('value', 'secret123');
        adwPasswordEntryRowExampleOuterContainer.appendChild(disabledPasswordEntryRow);

        // 4. Required PasswordEntryRow
        const requiredPasswordEntryRow = document.createElement('adw-password-entry-row');
        requiredPasswordEntryRow.setAttribute('title', 'New Password (Required):');
        requiredPasswordEntryRow.setAttribute('placeholder', 'Must be filled');
        requiredPasswordEntryRow.setAttribute('required', '');
        adwPasswordEntryRowExampleOuterContainer.appendChild(requiredPasswordEntryRow);
        addPasswordInternalInputListener(requiredPasswordEntryRow, 'input', (e) => console.log(`Password field 'New Password (Required):' input: ${e.target.value}`));

        const adwPasswordEntryRowCodeSample = `
<!-- Simple PasswordEntryRow with Title and Placeholder -->
<adw-password-entry-row title="Password:" placeholder="Enter your password"></adw-password-entry-row>

<!-- PasswordEntryRow with an Initial Value -->
<adw-password-entry-row title="Current Password:" value="s3cr3tV@lu3!"></adw-password-entry-row>

<!-- Disabled PasswordEntryRow -->
<adw-password-entry-row title="Old Password:" value="previousSecret" disabled></adw-password-entry-row>

<!-- Required PasswordEntryRow -->
<adw-password-entry-row title="New Password:" placeholder="Set a new password" required></adw-password-entry-row>

<!-- Attributes:
    title:        The label text displayed to the left of the entry.
    placeholder:  Placeholder text for the internal password input element.
    value:        Initial value for the internal password input element.
    disabled:     Boolean. If present, disables the internal input and visibility toggle.
    required:     Boolean. If present, marks the internal input as required (for forms).
    name:         Passed to internal input (for form submission).
    inputmode:    Passed to internal input.
    maxlength:    Passed to internal input.
    pattern:      Passed to internal input (regex for validation).
    readonly:     Passed to internal input.
-->
<!-- Feature: Includes a built-in button to toggle password visibility. -->

<script>
    // Accessing the internal input element:
    const pEntryRow = document.querySelector('adw-password-entry-row[title="Password:"]');

    // The adw-password-entry-row custom element, like adw-entry-row, might expose
    // its internal input (e.g., as _internalEntry).
    if (pEntryRow && pEntryRow._internalEntry) {
        // Get value from internal input
        console.log('Current password value (use with caution):', pEntryRow._internalEntry.value);

        // Listen to input events directly on the internal input
        pEntryRow._internalEntry.addEventListener('input', (event) => {
            console.log('Internal password input event (value hidden for security demo):',
                        event.target.value.length > 0 ? '*'.repeat(event.target.value.length) : '');
        });
    }

    // The adw-password-entry-row may also dispatch its own custom events for input/change.
    // For this component, the input event seems to bubble from the native input.
    // The visibility toggle is handled internally by the component.
</script>
        `;
        const adwPasswordEntryRowCodeDetails = createCodeSampleDetails('Show <adw-password-entry-row> Code', adwPasswordEntryRowCodeSample);

        // Append the adw-password-entry-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwPasswordEntryRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwPasswordEntryRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwPasswordEntryRowCodeDetails);

        // --- adw-action-row subsection ---
        const adwActionRowSubsectionTitle = Adw.createLabel("adw-action-row", {title:2});

        const adwActionRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const actionRowDemoLabel = Adw.createLabel("ActionRows within an <adw-list-box>:", { isBody: true });
        adwActionRowExampleOuterContainer.appendChild(actionRowDemoLabel);

        const listBoxForActionRows = document.createElement('adw-list-box');

        // 1. Simple ActionRow
        const simpleActionRow = document.createElement('adw-action-row');
        simpleActionRow.setAttribute('title', 'Open Settings');
        simpleActionRow.setAttribute('subtitle', 'Configure application preferences');
        simpleActionRow.addEventListener('click', () => Adw.createToast('Settings ActionRow clicked!'));
        listBoxForActionRows.appendChild(simpleActionRow);

        // 2. ActionRow with Icon
        const iconActionRow = document.createElement('adw-action-row');
        iconActionRow.setAttribute('title', 'View Profile');
        iconActionRow.setAttribute('subtitle', 'See your user details');
        iconActionRow.setAttribute('icon', "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M8 8a3 3 0 1 0 0-6a3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0a2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1s1-4 6-4s6 3 6 4Z'/></svg>");
        iconActionRow.addEventListener('click', () => Adw.createToast('Profile ActionRow clicked!'));
        listBoxForActionRows.appendChild(iconActionRow);

        // 3. ActionRow without Chevron
        const noChevronActionRow = document.createElement('adw-action-row');
        noChevronActionRow.setAttribute('title', 'Advanced Options');
        noChevronActionRow.setAttribute('subtitle', 'No chevron shown');
        noChevronActionRow.setAttribute('show-chevron', 'false');
        noChevronActionRow.addEventListener('click', () => Adw.createToast('Advanced Options (no chevron) ActionRow clicked!'));
        listBoxForActionRows.appendChild(noChevronActionRow);

        // 4. "Disabled" (Non-interactive) ActionRow
        const nonInteractiveActionRow = document.createElement('adw-action-row');
        nonInteractiveActionRow.setAttribute('title', 'Non-Interactive Action');
        nonInteractiveActionRow.setAttribute('subtitle', 'This row has no click listener');
        // By not adding a click listener, it will appear less interactive.
        // True disabling would require a 'disabled' attribute and internal CSS,
        // or for 'interactive' attribute to be absent (if that's how component is designed).
        // The Adw.createActionRow factory makes it interactive if onClick is provided.
        // The custom element <adw-action-row> is interactive by default due to its click listener for chevron.
        // To make it truly non-interactive, one might need to remove its internal listeners or set pointer-events: none.
        // For this demo, we just don't add an *additional* JS listener.
        // It will still show hover effects due to CSS unless interactive="false" is supported and implemented.
        listBoxForActionRows.appendChild(nonInteractiveActionRow);

        adwActionRowExampleOuterContainer.appendChild(listBoxForActionRows);

        const adwActionRowCodeSample = `
<!-- adw-action-row is typically used inside an adw-list-box -->
<adw-list-box>
    <adw-action-row title="Backup" subtitle="Manage your backup settings" icon="<svg>...</svg>"></adw-action-row>

    <adw-action-row title="Privacy" subtitle="Control your privacy options"></adw-action-row>

    <adw-action-row title="About" subtitle="Version 1.0" show-chevron="false"></adw-action-row>

    <!-- A row that might appear non-interactive if no JS listener is attached,
         or if it had a 'disabled' attribute (currently not standard on adw-action-row CE) -->
    <adw-action-row title="View Logs (Admin only)" subtitle="Requires permissions"></adw-action-row>
</adw-list-box>

<!-- Attributes:
    title:        The main text for the row.
    subtitle:     Secondary text displayed below the title.
    icon:         An SVG string for an icon to display at the start of the row.
    show-chevron: Boolean ("true" or "false"). Defaults to "true" (shows chevron).
                  Set to "false" to hide the navigation chevron.
-->

<script>
    // Interactivity is primarily added via JavaScript click event listeners.
    // The custom element <adw-action-row> itself might have default styling for hover/active states.
    const backupRow = document.querySelector('adw-action-row[title="Backup"]');
    if (backupRow) {
        backupRow.addEventListener('click', () => {
            console.log('Backup row clicked!');
            // Perform action, e.g., navigate to backup settings page.
        });
    }

    // Note on 'disabled':
    // The <adw-action-row> custom element doesn't have a 'disabled' attribute in the
    // current components.js definition. Its interactivity is tied to whether you attach
    // click listeners and how it's styled. The underlying Adw.createRow factory function
    // sets 'interactive' class based on presence of an onClick handler.
    // For the custom element, it's interactive by default due to internal event handling for chevron.
    // To make an <adw-action-row> truly non-interactive, you might need to avoid attaching
    // listeners and potentially apply custom styling (e.g., 'opacity: 0.5; pointer-events: none;').
</script>
        `;
        const adwActionRowCodeDetails = createCodeSampleDetails('Show <adw-action-row> Code', adwActionRowCodeSample);

        // Append the adw-action-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwActionRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwActionRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwActionRowCodeDetails);

        // --- adw-expander-row subsection ---
        const adwExpanderRowSubsectionTitle = Adw.createLabel("adw-expander-row", {title:2});

        const adwExpanderRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const expanderRowDemoLabel = Adw.createLabel("ExpanderRows within an <adw-list-box>:", { isBody: true });
        adwExpanderRowExampleOuterContainer.appendChild(expanderRowDemoLabel);

        const listBoxForExpanderRows = document.createElement('adw-list-box');

        // 1. Simple ExpanderRow
        const simpleExpander = document.createElement('adw-expander-row');
        simpleExpander.setAttribute('title', 'Show More Details');
        simpleExpander.setAttribute('subtitle', 'Click to expand');

        const simpleContent = document.createElement('adw-label');
        simpleContent.textContent = 'This is some detailed information that was initially hidden inside the expander row. It can be any HTML content.';
        simpleContent.setAttribute('slot', 'content');
        // Add some padding to the slotted content for better visuals
        simpleContent.style.padding = 'var(--spacing-m)';
        simpleContent.style.borderTop = '1px solid var(--border-color)';
        simpleContent.style.marginTop = '-1px'; // Helps align with row's bottom border
        simpleExpander.appendChild(simpleContent);
        listBoxForExpanderRows.appendChild(simpleExpander);

        // 2. Initially Expanded ExpanderRow
        const expandedExpander = document.createElement('adw-expander-row');
        expandedExpander.setAttribute('title', 'Initially Open');
        expandedExpander.setAttribute('subtitle', 'This section starts expanded');
        expandedExpander.setAttribute('expanded', ''); // Boolean attribute for initially expanded

        const expandedContentBox = document.createElement('adw-box');
        expandedContentBox.setAttribute('slot', 'content');
        expandedContentBox.setAttribute('orientation', 'vertical');
        expandedContentBox.setAttribute('spacing', 's');
        expandedContentBox.style.cssText = 'padding: var(--spacing-m); background-color: var(--window-bg-color); border-top: 1px solid var(--border-color); margin-top: -1px;';

        const ecLabel = document.createElement('adw-label');
        ecLabel.textContent = 'Content for the pre-expanded row. This can include various elements.';
        expandedContentBox.appendChild(ecLabel);

        const ecButton = document.createElement('adw-button');
        ecButton.textContent = 'A button inside the expander';
        ecButton.setAttribute('small','');
        expandedContentBox.appendChild(ecButton);

        expandedExpander.appendChild(expandedContentBox);
        listBoxForExpanderRows.appendChild(expandedExpander);

        adwExpanderRowExampleOuterContainer.appendChild(listBoxForExpanderRows);

        const adwExpanderRowCodeSample = `
<!-- adw-expander-row is typically used inside an adw-list-box -->
<adw-list-box>
    <adw-expander-row title="User Agreement" subtitle="View terms and conditions">
        <div slot="content" style="padding: 15px;">
            <p>This is the full user agreement text...</p>
            <adw-label body>You agree to all terms by using this service.</adw-label>
        </div>
    </adw-expander-row>

    <adw-expander-row title="Advanced Settings" subtitle="Configure advanced parameters" expanded>
        <adw-box slot="content" orientation="vertical" spacing="m" style="padding: 15px;">
            <adw-label>Parameter X:</adw-label>
            <adw-entry placeholder="Value for X"></adw-entry>
            <adw-checkbox label="Enable Feature Y"></adw-checkbox>
        </adw-box>
    </adw-expander-row>
</adw-list-box>

<!-- Attributes for adw-expander-row:
    title:        The main text for the row, always visible.
    subtitle:     Secondary text displayed below the title.
    expanded:     Boolean. If present, the row is initially expanded.
-->
<!-- Content for the expandable section:
    Place any HTML element(s) inside the <adw-expander-row> and give them the
    attribute slot="content". This content will be shown/hidden.
-->

<script>
    // To control expansion programmatically:
    const myExpander = document.querySelector('adw-expander-row[title="User Agreement"]');
    if (myExpander) {
        // To expand:
        // myExpander.setAttribute('expanded', '');
        // Or if a property is exposed: myExpander.expanded = true;

        // To collapse:
        // myExpander.removeAttribute('expanded');
        // Or if a property is exposed: myExpander.expanded = false;

        // Listen for expansion state changes (if the component emits an event like 'toggle' or 'change')
        // myExpander.addEventListener('toggle', (event) => {
        //    console.log('Expander toggled. Expanded:', event.detail.expanded);
        //    // Note: 'toggle' event and 'event.detail.expanded' are hypothetical here,
        //    // actual event names/details depend on the component's implementation.
        //    // The current adw-expander-row updates 'expanded' attribute, so MutationObserver could be used too.
        // });
    }
</script>
        `;
        const adwExpanderRowCodeDetails = createCodeSampleDetails('Show <adw-expander-row> Code', adwExpanderRowCodeSample);

        // Append the adw-expander-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwExpanderRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwExpanderRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwExpanderRowCodeDetails);

        // --- adw-combo-row subsection ---
        const adwComboRowSubsectionTitle = Adw.createLabel("adw-combo-row", {title:2});

        const adwComboRowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const comboRowDemoLabel = Adw.createLabel("ComboRows within an <adw-list-box>:", { isBody: true });
        adwComboRowExampleOuterContainer.appendChild(comboRowDemoLabel);

        const listBoxForComboRows = document.createElement('adw-list-box');

        // 1. Simple ComboRow
        const simpleComboRow = document.createElement('adw-combo-row');
        simpleComboRow.setAttribute('title', 'Choose Option:');
        simpleComboRow.setAttribute('subtitle', 'Select one item from the list');
        const simpleComboOptions = ["Option A", "Option B", {label: "Option C (Value is C)", value: "C"}];
        simpleComboRow.setAttribute('select-options', JSON.stringify(simpleComboOptions));
        simpleComboRow.setAttribute('selected-value', 'B'); // Pre-select "Option B"
        simpleComboRow.addEventListener('change', (event) => {
            Adw.createToast(`ComboRow selected: ${event.detail.value}`);
        });
        listBoxForComboRows.appendChild(simpleComboRow);

        // 2. Disabled ComboRow
        const disabledComboRow = document.createElement('adw-combo-row');
        disabledComboRow.setAttribute('title', 'Disabled Choice:');
        disabledComboRow.setAttribute('subtitle', 'This selection cannot be changed');
        const disabledComboOptions = ["No choice available"];
        disabledComboRow.setAttribute('select-options', JSON.stringify(disabledComboOptions));
        disabledComboRow.setAttribute('selected-value', 'No choice available');
        disabledComboRow.setAttribute('disabled', '');
        listBoxForComboRows.appendChild(disabledComboRow);

        adwComboRowExampleOuterContainer.appendChild(listBoxForComboRows);

        const adwComboRowCodeSample = `
<!-- adw-combo-row is typically used inside an adw-list-box -->
<adw-list-box>
    <adw-combo-row
        title="Preferred Contact Method"
        subtitle="How should we reach you?"
        select-options='["Email", "Phone", {"label": "Fax (if you must)", "value": "fax"}]'
        selected-value='Phone'>
    </adw-combo-row>

    <adw-combo-row
        title="Notification Level"
        select-options='[{"label": "All Updates", "value": "all"}, {"label": "Mentions Only", "value": "mentions"}, {"label": "None", "value": "none"}]'
        selected-value='all'>
    </adw-combo-row>

    <adw-combo-row
        title="Disabled Combo"
        select-options='["Cannot Change This"]'
        selected-value='Cannot Change This'
        disabled>
    </adw-combo-row>
</adw-list-box>

<!-- Attributes for adw-combo-row:
    title:          The main text for the row.
    subtitle:       Secondary text displayed below the title.
    select-options: A JSON string representing an array of options.
                    Each option can be a simple string (which will be used for both label and value)
                    or an object like { "label": "Displayed Text", "value": "actual_value" }.
    selected-value: The initial value that should be selected from the options.
    disabled:       Boolean. If present, disables the combo row.
-->

<script>
    // To listen for changes:
    const myComboRow = document.querySelector('adw-combo-row[title="Preferred Contact Method"]');
    if (myComboRow) {
        myComboRow.addEventListener('change', (event) => {
            // event.detail.value contains the selected value
            console.log('ComboRow changed. Selected value:', event.detail.value);
            // Perform actions based on the new value.
        });
    }

    // To get or set the selected value programmatically:
    // Get current value:
    // const currentValue = myComboRow.getAttribute('selected-value');
    // console.log('Current selected value:', currentValue);

    // Set selected value:
    // myComboRow.setAttribute('selected-value', 'fax');
    // This should update the dropdown display if 'fax' is a valid value in its options.

    // To update options programmatically:
    // const newOptions = ["New Option 1", {"label": "New Option 2", "value": "val2"}];
    // myComboRow.setAttribute('select-options', JSON.stringify(newOptions));
</script>
        `;
        const adwComboRowCodeDetails = createCodeSampleDetails('Show <adw-combo-row> Code', adwComboRowCodeSample);

        // Append the adw-combo-row subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwComboRowSubsectionTitle);
        customElementExamplesBox.appendChild(adwComboRowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwComboRowCodeDetails);
        // Note: The TODO comment removal will be handled after this last component is added.

        // --- adw-status-page subsection ---
        const adwStatusPageSubsectionTitle = Adw.createLabel("adw-status-page", {title:2});

        const adwStatusPageExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        // 1. Simple StatusPage
        const simpleStatusPageDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const simpleStatusPageLabel = Adw.createLabel("Basic Status Page:", {isBody: true});
        simpleStatusPageDemoContainer.appendChild(simpleStatusPageLabel);
        const simpleStatusPage = document.createElement('adw-status-page');
        simpleStatusPage.setAttribute('title', 'No Items Found');
        simpleStatusPage.setAttribute('description', 'There are no items to display in this section. Try adjusting your filters or creating a new item.');
        simpleStatusPage.setAttribute('icon', "<svg width='64' height='64' viewBox='0 0 24 24'><path fill='currentColor' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z'/></svg>");
        simpleStatusPageDemoContainer.appendChild(simpleStatusPage);
        adwStatusPageExampleOuterContainer.appendChild(simpleStatusPageDemoContainer);

        // 2. StatusPage with Actions
        const actionsStatusPageDemoContainer = Adw.createBox({orientation: 'vertical', spacing: 'xs'});
        const actionsStatusPageLabel = Adw.createLabel("Status Page with Actions:", {isBody: true});
        actionsStatusPageDemoContainer.appendChild(actionsStatusPageLabel);
        const actionsStatusPage = document.createElement('adw-status-page');
        actionsStatusPage.setAttribute('title', 'Action Required');
        actionsStatusPage.setAttribute('description', 'Please complete the setup process to continue.');
        actionsStatusPage.setAttribute('icon', "<svg width='64' height='64' viewBox='0 0 24 24'><path fill='currentColor' d='M13 16.5V11h4v5.5h-4ZM7 18V6l10 6-10 6Z'/></svg>"); // Example: play icon

        const setupButton = document.createElement('adw-button');
        setupButton.textContent = 'Complete Setup';
        setupButton.setAttribute('slot', 'actions');
        setupButton.setAttribute('suggested', '');
        setupButton.addEventListener('click', () => Adw.createToast('"Complete Setup" button clicked!'));
        actionsStatusPage.appendChild(setupButton);

        const laterButton = document.createElement('adw-button');
        laterButton.textContent = 'Later';
        laterButton.setAttribute('slot', 'actions');
        laterButton.addEventListener('click', () => Adw.createToast('"Later" button clicked!'));
        actionsStatusPage.appendChild(laterButton);

        actionsStatusPageDemoContainer.appendChild(actionsStatusPage);
        adwStatusPageExampleOuterContainer.appendChild(actionsStatusPageDemoContainer);

        const adwStatusPageCodeSample = `
<!-- Basic Status Page -->
<adw-status-page
    title="No Search Results"
    description="Your search query did not match any documents. Try using different keywords."
    icon="<svg width='64' height='64'><!-- Your SVG for search/empty --></svg>">
</adw-status-page>

<!-- Status Page with Actions -->
<adw-status-page
    title="Connection Failed"
    description="Unable to connect to the server. Please check your network connection and try again."
    icon="<svg width='64' height='64'><!-- Your SVG for error/network issue --></svg>">

    <adw-button slot="actions" suggested>Retry Connection</adw-button>
    <adw-button slot="actions">Network Settings</adw-button>
    <adw-button slot="actions">Help</adw-button>
</adw-status-page>

<!-- Attributes for adw-status-page:
    title:        The main title text for the status page.
    description:  A more detailed description or message.
    icon:         An SVG string for the icon displayed at the top.
-->
<!-- Slotted Content:
    Any element with attribute slot="actions" will be placed in the actions area,
    typically below the description. These are usually buttons.
-->

<script>
    // Example: Adding a click listener to an action button
    const retryButton = document.querySelector('adw-status-page[title="Connection Failed"] adw-button[suggested]');
    if (retryButton) {
        retryButton.addEventListener('click', () => {
            console.log('Retry Connection button clicked!');
            // Implement retry logic here.
        });
    }
</script>
        `;
        const adwStatusPageCodeDetails = createCodeSampleDetails('Show <adw-status-page> Code', adwStatusPageCodeSample);

        // Append the adw-status-page subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwStatusPageSubsectionTitle);
        customElementExamplesBox.appendChild(adwStatusPageExampleOuterContainer);
        customElementExamplesBox.appendChild(adwStatusPageCodeDetails);
        // The TODO comment removal will be re-evaluated after all components are added.

        // --- adw-view-switcher subsection ---
        const adwViewSwitcherSubsectionTitle = Adw.createLabel("adw-view-switcher", {title:2});

        const adwViewSwitcherExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const viewSwitcherDemoLabel = Adw.createLabel("Live Demo:", { isBody: true });
        adwViewSwitcherExampleOuterContainer.appendChild(viewSwitcherDemoLabel);

        const demoViewSwitcher = document.createElement('adw-view-switcher');
        demoViewSwitcher.setAttribute('label', 'Demo ViewSwitcher Navigation'); // Aria-label for the switcher controls
        demoViewSwitcher.setAttribute('active-view', 'View 1');

        // View 1 Content
        const view1Content = document.createElement('adw-box');
        view1Content.setAttribute('view-name', 'View 1');
        view1Content.setAttribute('orientation', 'vertical'); // Content box orientation
        view1Content.setAttribute('spacing', 'm');
        view1Content.style.cssText = 'padding: 20px; border: 1px solid var(--border-color); min-height: 100px;';
        const v1Label = document.createElement('adw-label');
        v1Label.setAttribute('title-level', '3');
        v1Label.textContent = 'Content for View 1';
        view1Content.appendChild(v1Label);
        const v1Entry = document.createElement('adw-entry');
        v1Entry.setAttribute('placeholder', 'Entry in View 1');
        view1Content.appendChild(v1Entry);
        demoViewSwitcher.appendChild(view1Content);

        // View 2 Content
        const view2Content = document.createElement('adw-box');
        view2Content.setAttribute('view-name', 'View 2');
        view2Content.setAttribute('orientation', 'vertical');
        view2Content.setAttribute('spacing', 'm');
        view2Content.style.cssText = 'padding: 20px; border: 1px solid var(--border-color); min-height: 100px;';
        const v2Label = document.createElement('adw-label');
        v2Label.setAttribute('title-level', '3');
        v2Label.textContent = 'Content for View 2';
        view2Content.appendChild(v2Label);
        const v2Button = document.createElement('adw-button');
        v2Button.textContent = 'Button in View 2';
        v2Button.addEventListener('click', () => Adw.createToast('Button in View 2 clicked!'));
        view2Content.appendChild(v2Button);
        demoViewSwitcher.appendChild(view2Content);

        // View 3 Content
        const view3Content = document.createElement('adw-label'); // Using just a label as content
        view3Content.setAttribute('view-name', 'View 3');
        view3Content.style.cssText = 'display: block; padding: 20px; border: 1px solid var(--border-color); min-height: 100px;';
        view3Content.textContent = 'This is just a label acting as the content for View 3.';
        demoViewSwitcher.appendChild(view3Content);

        demoViewSwitcher.addEventListener('view-changed', (event) => {
            Adw.createToast(`Switched to: ${event.detail.viewName}`);
        });

        adwViewSwitcherExampleOuterContainer.appendChild(demoViewSwitcher);

        const adwViewSwitcherCodeSample = `
<!-- adw-view-switcher manages visibility of its direct children based on 'view-name' -->
<adw-view-switcher label="Main Content Views" active-view="Dashboard">

    <!-- View 1: Dashboard -->
    <div view-name="Dashboard" style="padding: 10px; border: 1px solid #ccc;">
        <adw-label title-level="2">Dashboard Content</adw-label>
        <p>Welcome to your dashboard!</p>
    </div>

    <!-- View 2: Settings -->
    <adw-box view-name="Settings" orientation="vertical" spacing="m" style="padding: 10px; border: 1px solid #ccc;">
        <adw-label title-level="2">Settings Panel</adw-label>
        <adw-checkbox label="Enable notifications"></adw-checkbox>
        <adw-button>Save Settings</adw-button>
    </adw-box>

    <!-- View 3: Profile (Just a label for this example) -->
    <adw-label view-name="Profile" style="padding: 10px; border: 1px solid #ccc;">
        User profile information goes here.
    </adw-label>

</adw-view-switcher>

<!-- Attributes for adw-view-switcher:
    label:        Accessibility label for the group of switcher buttons.
    active-view:  The 'view-name' of the child element that should be initially visible.
-->
<!-- Child Elements:
    Direct children of <adw-view-switcher> should have a 'view-name' attribute.
    The <adw-view-switcher> will display the child whose 'view-name' matches the
    current active view.
-->

<script>
    // To listen for view changes:
    const myViewSwitcher = document.querySelector('adw-view-switcher');
    if (myViewSwitcher) {
        myViewSwitcher.addEventListener('view-changed', (event) => {
            // event.detail.viewName contains the 'view-name' of the newly active view
            console.log('View switched to:', event.detail.viewName);
            // Load data or perform actions based on the new view.
        });
    }

    // To change the view programmatically:
    // myViewSwitcher.setAttribute('active-view', 'Settings');
    // Or, if a property is exposed (check component implementation):
    // myViewSwitcher.activeView = 'Settings';
</script>
        `;
        const adwViewSwitcherCodeDetails = createCodeSampleDetails('Show <adw-view-switcher> Code', adwViewSwitcherCodeSample);

        // Append the adw-view-switcher subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwViewSwitcherSubsectionTitle);
        customElementExamplesBox.appendChild(adwViewSwitcherExampleOuterContainer);
        customElementExamplesBox.appendChild(adwViewSwitcherCodeDetails);
        // The TODO comment was removed in the previous step, so no need to repeat here if this is the true last one.
        // If more are added later, this logic might need to be the very last one.

        // --- adw-flap subsection ---
        const adwFlapSubsectionTitle = Adw.createLabel("adw-flap", {title:2});

        const adwFlapExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const flapDemoLabel = Adw.createLabel("Live Demo:", { isBody: true });
        adwFlapExampleOuterContainer.appendChild(flapDemoLabel);

        const demoFlap = document.createElement('adw-flap');
        demoFlap.setAttribute('folded', ''); // Start folded
        demoFlap.style.cssText = 'border: 1px solid var(--border-color); min-height: 180px; margin-top: var(--spacing-s); width: 100%;';

        // Flap Content
        const flapContent = document.createElement('adw-box');
        flapContent.setAttribute('slot', 'flap');
        flapContent.setAttribute('orientation', 'vertical');
        flapContent.setAttribute('spacing', 's');
        flapContent.style.cssText = 'padding: var(--spacing-m); background-color: var(--secondary-bg-color); width: 220px; height: 100%; border-right: 1px solid var(--border-color);';

        const flapContentLabel = document.createElement('adw-label');
        flapContentLabel.setAttribute('title-level', '4');
        flapContentLabel.textContent = 'Flap Content Area';
        flapContent.appendChild(flapContentLabel);

        const flapButton = document.createElement('adw-button');
        flapButton.textContent = 'Button in Flap';
        flapButton.addEventListener('click', () => Adw.createToast('Button in flap clicked!'));
        flapContent.appendChild(flapButton);
        demoFlap.appendChild(flapContent);

        // Main Content
        const mainFlapAreaContent = document.createElement('adw-box');
        mainFlapAreaContent.setAttribute('slot', 'main');
        mainFlapAreaContent.setAttribute('orientation', 'vertical');
        mainFlapAreaContent.setAttribute('spacing', 's');
        mainFlapAreaContent.style.cssText = 'padding: var(--spacing-m);';

        const mainContentLabel = document.createElement('adw-label');
        mainContentLabel.setAttribute('title-level', '4');
        mainContentLabel.textContent = 'Main Content Area';
        mainFlapAreaContent.appendChild(mainContentLabel);

        const mainContentDesc = document.createElement('adw-label');
        mainContentDesc.textContent = 'This is the primary content area. When the flap is revealed, this area might reflow or be overlaid depending on the transition type.';
        mainFlapAreaContent.appendChild(mainContentDesc);
        demoFlap.appendChild(mainFlapAreaContent);

        // Toggle Button for the Flap
        const toggleFlapButton = Adw.createButton("Toggle Flap");
        toggleFlapButton.addEventListener('click', () => {
            demoFlap.toggleFlap();
        });
        // Insert button before the flap element for control
        adwFlapExampleOuterContainer.appendChild(toggleFlapButton);
        adwFlapExampleOuterContainer.appendChild(demoFlap);


        const adwFlapCodeSample = `
<!-- adw-flap requires two main slotted children: one for 'flap' and one for 'main' -->
<adw-button id="myFlapToggleButton">Toggle Flap</adw-button>
<adw-flap id="myDemoFlap" folded style="border: 1px solid #ccc; min-height: 150px;">

    <!-- Content for the flap panel -->
    <div slot="flap" style="padding: 10px; background-color: #f0f0f0; width: 200px; height: 100%;">
        <h4>Flap Section</h4>
        <p>Navigation or tools can go here.</p>
        <adw-button>Flap Action</adw-button>
    </div>

    <!-- Main content area -->
    <div slot="main" style="padding: 10px;">
        <h4>Main Section</h4>
        <p>This is where the primary content resides.</p>
    </div>

</adw-flap>

<!-- Attributes for adw-flap:
    folded:          Boolean. If present, the flap starts in its folded (hidden or narrow) state.
    transition-type: String. Can be "slide" (main content slides with flap) or "over" (flap slides over main content).
                     (Note: Check custom element's specific support for this attribute. Factory supports it.)
    flap-position:   String. Can be "start" or "end". Defines which side the flap appears on.
                     (Note: Check custom element's specific support. Factory supports it.)
-->
<!-- Child Elements:
    Use slot="flap" for the content of the collapsible panel.
    Use slot="main" for the main content area.
-->

<script>
    const flapElement = document.getElementById('myDemoFlap');
    const toggleButton = document.getElementById('myFlapToggleButton');

    if (flapElement && toggleButton) {
        toggleButton.addEventListener('click', () => {
            // Call the toggleFlap() method on the custom element instance
            flapElement.toggleFlap();
        });
    }

    // You can also control it directly:
    // flapElement.fold();   // To hide the flap
    // flapElement.unfold(); // To show the flap
    // These methods (fold/unfold/toggleFlap) need to be explicitly exposed by the custom element.
    // The current adw-flap.js exposes toggleFlap().
</script>
        `;
        const adwFlapCodeDetails = createCodeSampleDetails('Show <adw-flap> Code', adwFlapCodeSample);

        // Append the adw-flap subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwFlapSubsectionTitle);
        customElementExamplesBox.appendChild(adwFlapExampleOuterContainer);
        customElementExamplesBox.appendChild(adwFlapCodeDetails);
        // The TODO comment was removed in the previous step.

        // --- adw-dialog subsection ---
        const adwDialogSubsectionTitle = Adw.createLabel("adw-dialog", {title:2});

        const adwDialogExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const dialogDemoLabel = Adw.createLabel("Live Demo:", { isBody: true });
        adwDialogExampleOuterContainer.appendChild(dialogDemoLabel);

        // Create the adw-dialog element (initially hidden)
        const demoDialog = document.createElement('adw-dialog');
        demoDialog.setAttribute('title', 'My Sample Dialog');
        demoDialog.id = 'demoDialog1'; // For potential direct query, though not used in this direct example
        // demoDialog.setAttribute('close-on-backdrop-click', ''); // Example if this attribute is supported

        // Content Slot
        const dialogContent = document.createElement('adw-box');
        dialogContent.setAttribute('slot', 'content');
        dialogContent.setAttribute('orientation', 'vertical');
        dialogContent.setAttribute('spacing', 's');
        dialogContent.style.padding = 'var(--spacing-m)'; // Add padding to content area

        const dialogContentLabel = document.createElement('adw-label');
        dialogContentLabel.textContent = 'This is the main content area of the dialog. You can put forms, text, or other components here.';
        dialogContent.appendChild(dialogContentLabel);

        const dialogEntry = document.createElement('adw-entry');
        dialogEntry.setAttribute('placeholder', 'Enter some data...');
        dialogContent.appendChild(dialogEntry);
        demoDialog.appendChild(dialogContent);

        // Buttons Slot
        const cancelButton = document.createElement('adw-button');
        cancelButton.textContent = 'Cancel';
        cancelButton.setAttribute('slot', 'buttons');
        cancelButton.dataset.action = 'cancel'; // For the event listener
        demoDialog.appendChild(cancelButton);

        const okButton = document.createElement('adw-button');
        okButton.textContent = 'OK';
        okButton.setAttribute('slot', 'buttons');
        okButton.dataset.action = 'ok';
        okButton.setAttribute('suggested', '');
        demoDialog.appendChild(okButton);

        // Event listener for actions on slotted buttons (using event delegation on the dialog)
        demoDialog.addEventListener('click', (event) => {
            const target = event.target.closest('adw-button[slot="buttons"]');
            if (target) {
                const action = target.dataset.action;
                if (action === 'ok') {
                    Adw.createToast('OK button clicked. Value: ' + (dialogEntry.value || 'empty'), {timeout: 2000});
                    demoDialog.close(); // Call the custom element's close method
                } else if (action === 'cancel') {
                    Adw.createToast('Cancel button clicked.', {timeout: 2000});
                    demoDialog.close();
                }
            }
        });

        // Event listener for the 'close' event dispatched by the dialog
        demoDialog.addEventListener('close', () => {
            demoDialog.removeAttribute('open'); // Ensure 'open' attribute is removed
            Adw.createToast('Dialog was closed (via "close" event).', {timeout: 2000});
        });

        // Button to open the dialog
        const openDialogButtonInstance = Adw.createButton("Open Dialog");
        openDialogButtonInstance.addEventListener('click', () => {
            // demoDialog.setAttribute('open', ''); // This should trigger the dialog to open via attributeChangedCallback
            demoDialog.open(); // Or prefer using a method if available and more reliable
        });

        adwDialogExampleOuterContainer.appendChild(openDialogButtonInstance);
        adwDialogExampleOuterContainer.appendChild(demoDialog); // Add dialog to DOM (hidden)


        const adwDialogCodeSample = `
<!-- Basic structure of adw-dialog -->
<!-- It's typically added to the DOM but not visible until 'open' attribute is set or open() method is called. -->
<adw-button id="triggerMyDialog">Open My Dialog</adw-button>

<adw-dialog id="myDialog" title="Confirmation Required" close-on-backdrop-click>
    <div slot="content" style="padding: 15px;">
        <adw-label body>Are you sure you want to proceed with this action?</adw-label>
        <adw-entry placeholder="Optional reason..."></adw-entry>
    </div>
    <adw-button slot="buttons" data-action="no">No, Cancel</adw-button>
    <adw-button slot="buttons" data-action="yes" suggested>Yes, Proceed</adw-button>
</adw-dialog>

<!-- Attributes for adw-dialog:
    title:                    The title displayed in the dialog's header.
    open:                     Boolean. If present, the dialog is shown. Remove to hide.
    close-on-backdrop-click:  Boolean. If present, clicking the backdrop closes the dialog.
                               (Check component implementation for this attribute's support).
-->
<!-- Child Elements (Slots):
    Use slot="content" for the main body of the dialog.
    Use slot="buttons" for action buttons at the bottom of the dialog.
-->

<script>
    const dialog = document.getElementById('myDialog');
    const openButton = document.getElementById('triggerMyDialog');

    if (openButton && dialog) {
        openButton.addEventListener('click', () => {
            // To open the dialog:
            // dialog.setAttribute('open', '');
            // OR (preferred if method exists):
            dialog.open();
        });
    }

    if (dialog) {
        // Listen for button clicks within the dialog (using event delegation)
        dialog.addEventListener('click', (event) => {
            const targetButton = event.target.closest('adw-button[slot="buttons"]');
            if (targetButton) {
                const action = targetButton.dataset.action;
                if (action === 'yes') {
                    console.log('Proceed action chosen.');
                    dialog.close(); // Close the dialog
                } else if (action === 'no') {
                    console.log('Cancel action chosen.');
                    dialog.close(); // Close the dialog
                }
            }
        });

        // Listen for the 'close' event dispatched by the dialog when it closes
        dialog.addEventListener('close', () => {
            console.log('Dialog was closed.');
            // Ensure 'open' attribute is removed if not handled by close() method internally
            dialog.removeAttribute('open');
        });
    }

    // Programmatic control methods (must be exposed by the custom element):
    // dialog.open();
    // dialog.close();
</script>
        `;
        const adwDialogCodeDetails = createCodeSampleDetails('Show <adw-dialog> Code', adwDialogCodeSample);

        // Append the adw-dialog subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwDialogSubsectionTitle);
        customElementExamplesBox.appendChild(adwDialogExampleOuterContainer);
        customElementExamplesBox.appendChild(adwDialogCodeDetails);
        // TODO comment removal will be handled finally if this is the last one.

        // --- adw-banner subsection ---
        const adwBannerSubsectionTitle = Adw.createLabel("adw-banner", {title:2});

        const adwBannerExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        const bannerDemoLabel = Adw.createLabel(
            "Live Demo: Banners appear at the top of the page. Define them, then show them.",
            { isBody: true, isCaption: true } // Caption style for less emphasis
        );
        adwBannerExampleOuterContainer.appendChild(bannerDemoLabel);

        // Create banner elements (they will be hidden initially and attach to body when shown)
        const demoInfoBanner = document.createElement('adw-banner');
        demoInfoBanner.setAttribute('message', 'This is an informational banner (dismissible by default).');
        demoInfoBanner.setAttribute('type', 'info');
        demoInfoBanner.id = 'demoInfoBanner'; // Optional ID
        // Append to a container in the DOM so it's part of the document, even if not visible here.
        adwBannerExampleOuterContainer.appendChild(demoInfoBanner);


        const demoSuccessBanner = document.createElement('adw-banner');
        demoSuccessBanner.setAttribute('message', 'Action was completed successfully! (Non-dismissible for demo)');
        demoSuccessBanner.setAttribute('type', 'success');
        demoSuccessBanner.setAttribute('dismissible', 'false');
        demoSuccessBanner.id = 'demoSuccessBanner';
        adwBannerExampleOuterContainer.appendChild(demoSuccessBanner);

        const demoWarningBanner = document.createElement('adw-banner');
        demoWarningBanner.setAttribute('message', 'Warning: Please check the input details.');
        demoWarningBanner.setAttribute('type', 'warning');
        demoWarningBanner.id = 'demoWarningBanner';
        adwBannerExampleOuterContainer.appendChild(demoWarningBanner);

        const demoErrorBanner = document.createElement('adw-banner');
        demoErrorBanner.setAttribute('message', 'Error: An unexpected issue occurred. Please try again.');
        demoErrorBanner.setAttribute('type', 'error');
        demoErrorBanner.id = 'demoErrorBanner';
        adwBannerExampleOuterContainer.appendChild(demoErrorBanner);

        // Container for trigger buttons
        const bannerTriggerButtonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 's',
            wrap: true
        });

        const showInfoButton = Adw.createButton("Show Info Banner");
        showInfoButton.addEventListener('click', () => demoInfoBanner.show());
        bannerTriggerButtonsBox.appendChild(showInfoButton);

        const showSuccessButton = Adw.createButton("Show Success Banner");
        showSuccessButton.addEventListener('click', () => demoSuccessBanner.show());
        bannerTriggerButtonsBox.appendChild(showSuccessButton);

        const showWarningButton = Adw.createButton("Show Warning Banner");
        showWarningButton.addEventListener('click', () => demoWarningBanner.show());
        bannerTriggerButtonsBox.appendChild(showWarningButton);

        const showErrorButton = Adw.createButton("Show Error Banner");
        showErrorButton.addEventListener('click', () => demoErrorBanner.show());
        bannerTriggerButtonsBox.appendChild(showErrorButton);

        adwBannerExampleOuterContainer.appendChild(bannerTriggerButtonsBox);


        const adwBannerCodeSample = `
<!-- Define an adw-banner. It's hidden by default unless 'show' is present. -->
<!-- Banners are typically appended to the document body when shown. -->
<adw-banner
    id="mySampleBanner"
    message="Your profile has been updated successfully."
    type="success"
    dismissible="true">
    <!-- Optional: Add an action button inside the banner -->
    <!-- <adw-button slot="action" small>View Profile</adw-button> -->
</adw-banner>

<adw-button id="triggerBannerButton">Show Sample Banner</adw-button>

<!-- Attributes for adw-banner:
    message:      The text message to display in the banner. (Required)
    type:         "info" (default), "success", "warning", "error". Styles the banner accordingly.
    dismissible:  Boolean ("true" or "false"). If "true" (default), a dismiss button is shown.
    show:         Boolean. If present, the banner is displayed. Remove to hide.
                  (Note: The component typically manages its own attachment/detachment from body
                   based on this attribute or show()/hide() methods).
-->
<!-- Slotted Content:
    Use slot="action" to add a button or other interactive element within the banner.
    (Note: slot="action" support depends on the custom element's template. The factory supports it.)
-->

<script>
    const banner = document.getElementById('mySampleBanner');
    const triggerBtn = document.getElementById('triggerBannerButton');

    if (banner && triggerBtn) {
        triggerBtn.addEventListener('click', () => {
            // To show the banner:
            // banner.setAttribute('show', '');
            // OR (preferred if method exists):
            banner.show();
        });
    }

    // If the banner is dismissible, it will handle its own hiding when its dismiss button is clicked.
    // To hide programmatically:
    // banner.hide();
    // OR
    // banner.removeAttribute('show');

    // If the banner has an action button slotted:
    // const actionButton = banner.querySelector('[slot="action"]');
    // if (actionButton) {
    //    actionButton.addEventListener('click', () => {
    //        console.log('Banner action clicked!');
    //        banner.hide();
    //    });
    // }
</script>
        `;
        const adwBannerCodeDetails = createCodeSampleDetails('Show <adw-banner> Code', adwBannerCodeSample);

        // Append the adw-banner subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwBannerSubsectionTitle);
        customElementExamplesBox.appendChild(adwBannerExampleOuterContainer);
        customElementExamplesBox.appendChild(adwBannerCodeDetails);
        // Final TODO comment removal will be handled after this component if it's the last one.

        // --- adw-toast subsection ---
        const adwToastSubsectionTitle = Adw.createLabel("adw-toast", {title:2});

        const adwToastExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 'm'
        });

        const toastDemoLabel = Adw.createLabel(
            "Live Demo: Toasts appear in a global overlay, typically at the bottom or top of the viewport.",
            { isBody: true, isCaption: true }
        );
        adwToastExampleOuterContainer.appendChild(toastDemoLabel);

        // Create toast elements (they are hidden by default and manage their own global overlay display)
        // They are added to this container just to be part of the DOM initially.
        const demoToast1 = document.createElement('adw-toast');
        demoToast1.setAttribute('message', 'Default toast message. Disappears after a short delay.');
        demoToast1.id = 'demoToast1'; // Default type is 'info', default timeout is > 0
        adwToastExampleOuterContainer.appendChild(demoToast1);

        const demoToast2 = document.createElement('adw-toast');
        demoToast2.setAttribute('message', 'Success toast! This one stays for 5 seconds.');
        demoToast2.setAttribute('type', 'success');
        demoToast2.setAttribute('timeout', '5000');
        demoToast2.id = 'demoToast2';
        adwToastExampleOuterContainer.appendChild(demoToast2);

        const demoToast3 = document.createElement('adw-toast');
        demoToast3.setAttribute('message', 'Error occurred. Click the button to dismiss.');
        demoToast3.setAttribute('type', 'error');
        demoToast3.setAttribute('timeout', '0'); // Indicates it should persist until action/manual hide
        demoToast3.id = 'demoToast3';

        const dismissButton = document.createElement('adw-button');
        dismissButton.textContent = 'Dismiss';
        dismissButton.setAttribute('slot', 'button');
        dismissButton.setAttribute('small', ''); // Small button for toast action
        dismissButton.addEventListener('click', () => demoToast3.hide());
        demoToast3.appendChild(dismissButton);
        adwToastExampleOuterContainer.appendChild(demoToast3);

        // Container for trigger buttons
        const toastTriggerButtonsBox = Adw.createBox({
            orientation: 'horizontal',
            spacing: 's',
            wrap: true
        });

        const showToast1Button = Adw.createButton("Show Default Toast");
        showToast1Button.addEventListener('click', () => demoToast1.show());
        toastTriggerButtonsBox.appendChild(showToast1Button);

        const showToast2Button = Adw.createButton("Show Success Toast (5s)");
        showToast2Button.addEventListener('click', () => demoToast2.show());
        toastTriggerButtonsBox.appendChild(showToast2Button);

        const showToast3Button = Adw.createButton("Show Error Toast with Button");
        showToast3Button.addEventListener('click', () => demoToast3.show());
        toastTriggerButtonsBox.appendChild(showToast3Button);

        adwToastExampleOuterContainer.appendChild(toastTriggerButtonsBox);

        const adwToastCodeSample = `
<!-- Define an adw-toast. It's hidden by default. -->
<!-- Toasts are displayed in a global overlay when shown. -->
<adw-toast
    id="mySampleToast"
    message="This is a sample toast message."
    type="info"
    timeout="3000">
    <!-- Optional: Add an action button -->
    <!-- <adw-button slot="button" small>Action</adw-button> -->
</adw-toast>

<adw-button id="triggerMyToastButton">Show Sample Toast</adw-button>

<!-- Attributes for adw-toast:
    message:      The text message to display in the toast. (Required)
    type:         "info" (default), "success", "warning", "error". Styles the toast.
    timeout:      Duration in milliseconds before the toast auto-hides.
                  Set to "0" for a persistent toast that requires manual dismissal
                  (e.g., via a slotted button or calling hide()). Default is usually around 3000-4000ms.
    show:         Boolean attribute. If present when connected, the toast is displayed.
                  (The component typically manages its own display via show()/hide() methods).
-->
<!-- Slotted Content:
    Use slot="button" to add an <adw-button> or similar interactive element to the toast.
-->

<script>
    const toastElement = document.getElementById('mySampleToast');
    const triggerToastBtn = document.getElementById('triggerMyToastButton');

    if (toastElement && triggerToastBtn) {
        triggerToastBtn.addEventListener('click', () => {
            // To show the toast:
            toastElement.show();
            // Or, less commonly for toasts: toastElement.setAttribute('show', '');
        });
    }

    // If the toast has an action button, add a listener to it:
    // const toastAction = toastElement.querySelector('[slot="button"]');
    // if (toastAction) {
    //    toastAction.addEventListener('click', () => {
    //        console.log('Toast action clicked!');
    //        toastElement.hide(); // Example: hide toast on action
    //    });
    // }

    // To hide programmatically (if not auto-hiding or if it has no dismiss UI):
    // toastElement.hide();
    // Or: toastElement.removeAttribute('show');

    // Note: The 'adw-toast' custom element wrapper should handle the global overlay
    // and positioning, similar to how Adw.createToast() factory does.
</script>
        `;
        const adwToastCodeDetails = createCodeSampleDetails('Show <adw-toast> Code', adwToastCodeSample);

        // Append the adw-toast subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwToastSubsectionTitle);
        customElementExamplesBox.appendChild(adwToastExampleOuterContainer);
        customElementExamplesBox.appendChild(adwToastCodeDetails);

        // --- adw-application-window subsection ---
        const adwAppWindowSubsectionTitle = Adw.createLabel("adw-application-window", {title:2});

        const adwAppWindowExampleOuterContainer = Adw.createBox({
            orientation: 'vertical',
            spacing: 's'
        });

        const appWindowDemoLabel = Adw.createLabel(
            "Live Demo (styled to appear as a contained window):",
            { isBody: true, isCaption: true }
        );
        adwAppWindowExampleOuterContainer.appendChild(appWindowDemoLabel);

        const demoAppWindow = document.createElement('adw-application-window');
        demoAppWindow.style.cssText = `
            border: 1px solid var(--border-color);
            position: relative;
            height: 350px;
            width: 100%;
            max-width: 500px;
            margin: var(--spacing-s) auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border-radius: var(--border-radius-l);
            box-shadow: var(--card-shadow);
        `;

        // Header Slot
        const demoAppWindowHeader = document.createElement('adw-header-bar');
        demoAppWindowHeader.setAttribute('slot', 'header');

        const ICON_MENU_PLACEHOLDER = "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M2.5 4.5A.5.5 0 0 1 3 4h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0 3A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0 3A.5.5 0 0 1 3 10h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z'/></svg>";
        const ICON_MORE_PLACEHOLDER = "<svg width='16' height='16' viewBox='0 0 16 16'><path fill='currentColor' d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM7 11.5a1 1 0 1 1 2 0a1 1 0 0 1-2 0Zm.5-7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5-.5h-1a.5.5 0 0 1-.5-.5Z'/></svg>";


        const headerStartButton = document.createElement('adw-button');
        headerStartButton.setAttribute('slot', 'start');
        headerStartButton.setAttribute('icon', ICON_MENU_PLACEHOLDER);
        demoAppWindowHeader.appendChild(headerStartButton);

        const headerTitle = document.createElement('adw-window-title');
        headerTitle.setAttribute('slot', 'title');
        headerTitle.textContent = 'My App Window';
        demoAppWindowHeader.appendChild(headerTitle);

        const headerEndButton = document.createElement('adw-button');
        headerEndButton.setAttribute('slot', 'end');
        headerEndButton.setAttribute('icon', ICON_MORE_PLACEHOLDER);
        demoAppWindowHeader.appendChild(headerEndButton);

        demoAppWindow.appendChild(demoAppWindowHeader);

        // Default Content Slot
        const appWindowContentBox = document.createElement('adw-box');
        appWindowContentBox.setAttribute('orientation', 'vertical');
        appWindowContentBox.setAttribute('spacing', 'm');
        appWindowContentBox.style.cssText = 'padding: var(--spacing-l); flex-grow: 1; overflow-y: auto;';

        const contentTitle = document.createElement('adw-label');
        contentTitle.setAttribute('title-level', '3');
        contentTitle.textContent = 'Main Content of the Window';
        appWindowContentBox.appendChild(contentTitle);

        const contentEntry = document.createElement('adw-entry');
        contentEntry.setAttribute('placeholder', 'Type something here...');
        appWindowContentBox.appendChild(contentEntry);

        const contentButton = document.createElement('adw-button');
        contentButton.setAttribute('suggested', '');
        contentButton.textContent = 'Submit Action';
        contentButton.addEventListener('click', () => Adw.createToast('Submit button in window clicked!'));
        appWindowContentBox.appendChild(contentButton);

        demoAppWindow.appendChild(appWindowContentBox);
        adwAppWindowExampleOuterContainer.appendChild(demoAppWindow);

        const adwAppWindowCodeSample = `
<!-- adw-application-window typically forms the root of your UI -->
<adw-application-window style="height: 300px; border: 1px solid #ccc; position: relative;">
    <!-- Header Area -->
    <adw-header-bar slot="header">
        <adw-button slot="start" icon="<svg>...</svg>"></adw-button>
        <adw-window-title slot="title">Application Name</adw-window-title>
        <adw-button slot="end" icon="<svg>...</svg>"></adw-button>
    </adw-header-bar>

    <!-- Main Content Area (default slot) -->
    <adw-box orientation="vertical" spacing="m" style="padding: 20px;">
        <adw-label title-level="2">Welcome!</adw-label>
        <p>This is the main content area of the application window.</p>
        <adw-button>Click Me</adw-button>
    </adw-box>
</adw-application-window>

<!-- Attributes for adw-application-window:
    (Currently, no specific attributes are defined for adw-application-window itself in components.js,
     it primarily serves as a structural container using slots.)
-->
<!-- Child Elements (Slots):
    Use slot="header" to provide an <adw-header-bar> or a similar component for the window's header.
    Other direct children without a slot attribute (or with slot="") go into the main content area.
-->

<script>
    // Accessing the application window:
    const appWindow = document.querySelector('adw-application-window');
    if (appWindow) {
        // You can then access slotted elements like the header or content
        // const header = appWindow.querySelector('[slot="header"]');
        // const mainContent = appWindow.querySelector('adw-box:not([slot])'); // Example selector
        // console.log('App window header:', header);
        // console.log('App window main content container:', mainContent);
    }
</script>
        `;
        const adwAppWindowCodeDetails = createCodeSampleDetails('Show <adw-application-window> Code', adwAppWindowCodeSample);

        // Append the adw-application-window subsection to the customElementExamplesBox
        customElementExamplesBox.appendChild(adwAppWindowSubsectionTitle);
        customElementExamplesBox.appendChild(adwAppWindowExampleOuterContainer);
        customElementExamplesBox.appendChild(adwAppWindowCodeDetails);

        // This is the TRUE last component, ensure TODO comment is removed.
        const finalTodoComment = Array.from(customElementExamplesBox.childNodes).find(node => node.nodeType === Node.COMMENT_NODE && node.textContent.includes('TODO: Add more custom element subsections'));
        if (finalTodoComment) {
            customElementExamplesBox.removeChild(finalTodoComment);
        }

        const customElementShowcaseBox = Adw.createBox({
            orientation: 'vertical',
            spacing: "l", // Large spacing for the overall section container
            children: [
                // The title (customElementShowcaseTitle) will be handled by a separate appendChild call
                customElementExamplesBox
            ]
        });
        const customElementShowcaseCodeSample = `
// --- Custom Element Showcase ---

// This section is for demonstrating natively defined Custom Elements.
// For example, if you had defined:
// customElements.define('my-sample-widget', class extends HTMLElement { ... });

// You would then instantiate it and add it to a container:
// const myWidget = document.createElement('my-sample-widget');
// customElementExamplesBox.appendChild(myWidget); // Assuming customElementExamplesBox is an Adw.Box

// The Adw.js components themselves are not Custom Elements in the traditional sense,
// they are JavaScript objects that create and manage standard HTML elements.

// Placeholder content for the showcase:
const customElementExamplesBox = Adw.createBox({
    orientation: 'vertical',
    spacing: 'm',
    children: [
        Adw.createLabel("Placeholder for custom element 1 (e.g., <my-widget></my-widget>)."),
        Adw.createLabel("Placeholder for custom element 2 (e.g., <another-custom-thing></another-custom-thing>).")
    ]
});

// This customElementExamplesBox would then be part of the customElementShowcaseBox.
// The customElementShowcaseBox (and its title) are added to the main content area.
        `;
        const customElementShowcaseCodeDetails = createCodeSampleDetails('Show Custom Element Code', customElementShowcaseCodeSample);
        // customElementShowcaseCodeDetails will be inserted into the layout after customElementShowcaseBox by the insertDetailsAfter function.


        // Create the window and append it to the body.
        const windowEl = Adw.createWindow({header: headerBar, content: content});
        document.getElementById('app').appendChild(windowEl);

        // --- DOM Manipulations to Insert Code Samples ---
        // Helper to insert details after a specific element.
        function insertDetailsAfter(element, detailsElement) {
            // New widget code sample insertions
            if (element === bannerButtonsBox) { // Special handling for banner container
                if (bannerButtonsBox && bannerButtonsBox.parentElement) {
                    bannerButtonsBox.parentElement.insertBefore(bannerCodeDetails, bannerButtonsBox.nextSibling);
                }
                return; // Avoid inserting twice if logic below also matches
            }
            if (element === spinnerBox && spinnerBox.parentElement) {
                 spinnerBox.parentElement.insertBefore(spinnerCodeDetails, spinnerBox.nextSibling);
                 return;
            }
             if (element === statusPageContainer && statusPageContainer.parentElement) {
                 statusPageContainer.parentElement.insertBefore(statusPageCodeDetails, statusPageContainer.nextSibling);
                 return;
            }
            if (element === splitButtonBox && splitButtonBox.parentElement) {
                 splitButtonBox.parentElement.insertBefore(splitButtonCodeDetails, splitButtonBox.nextSibling);
                 return;
            }

            if (element && element.parentElement) {
                element.parentElement.insertBefore(detailsElement, element.nextSibling);
            } else {
                console.warn("Could not insert details for element:", element, "Details:", detailsElement);
            }
        }

        insertDetailsAfter(entryBox, entryCodeDetails);
        insertDetailsAfter(switchBox, switchCodeDetails);
        insertDetailsAfter(labelsBox, labelCodeDetails);
        insertDetailsAfter(progressBarBox, progressBarCodeDetails);
        insertDetailsAfter(checkBox, checkboxCodeDetails);
        insertDetailsAfter(radioBox, radioButtonCodeDetails);
        insertDetailsAfter(listBoxContainer, listBoxCodeDetails);
        insertDetailsAfter(customListBoxDemoContainer, customRowsListBoxCodeDetails); // Added for new ListBox demo

        const dialogRow = openDialogButton.closest('.adw-row'); // Find the row containing the dialog button
        const dialogCodeSample = `
// To create and show a Dialog:
const openDialogButton = Adw.createButton('Open Dialog', {
  onClick: () => {
    const dialogContent = Adw.createBox({
      orientation: 'vertical',
      spacing: 'm', // Add some spacing to dialog content
      children: [
        Adw.createLabel("This is the dialog content."),
        Adw.createEntry({ placeholder: "You can put any HTML here." }),
      ]
    });

    const dialog = Adw.createDialog({
      title: "Example Dialog",
      content: dialogContent, // HTMLElement for the dialog's body
      // size: 'medium', // 'small', 'medium', 'large', or custom {width, height in px}
      // isModal: true, // Default is true (blocks interaction with rest of page)
      buttons: [
        Adw.createButton("Cancel", { onClick: () => dialog.close() }),
        Adw.createButton("OK", {
            suggested: true,
            onClick: () => {
                Adw.createToast("OK clicked from Dialog");
                dialog.close();
            }
        }),
      ]
    });
    dialog.open(); // Appends to body and shows
    // dialog.close(); // To close programmatically
  }
});
        `;
        const dialogCodeDetails = createCodeSampleDetails('Show Dialog Code Example', dialogCodeSample);
        if (dialogRow) insertDetailsAfter(dialogRow, dialogCodeDetails); else content.appendChild(dialogCodeDetails); // Fallback for dialog

        const viewSwitcherCodeSample = `
// ViewSwitcher
const viewSwitcher = Adw.createViewSwitcher({
    views: [
        {
            name: "View 1", // Name displayed on the switcher button
            content: Adw.createLabel("Content for View 1") // HTMLElement for this view
        },
        {
            name: "View 2",
            content: Adw.createBox({ children: [Adw.createEntry({placeholder: "Entry in View 2"})]})
        }
        // Add more views as needed
    ],
    activeViewName: "View 1", // Initial view to display
    onViewChanged: (viewName) => Adw.createToast(\`Switched to \${viewName}\`),
    // location: 'top', // 'top' (default) or 'bottom'
    // policy: 'auto' // 'auto' (default), 'wide', 'narrow' for button behavior
});

// Add the ViewSwitcher's main element to your layout:
// yourContainer.appendChild(viewSwitcher.element);
// The content area is managed internally by the viewSwitcher.
        `;
        const viewSwitcherCodeDetails = createCodeSampleDetails('Show ViewSwitcher Code Example', viewSwitcherCodeSample);
        insertDetailsAfter(viewSwitcher.element, viewSwitcherCodeDetails); // For ViewSwitcher

        const accentPickerCodeSample = `
// Accent Color Picker (Functionality provided by Adw.js)

// To get available accent color names (array of strings):
const accentColors = Adw.getAccentColors();
// e.g., ["default", "red", "orange", "yellow", "green", "teal", "blue", "purple", "pink", "brown"]

// To set an accent color programmatically:
// Adw.setAccentColor('blue'); // Replace 'blue' with a valid color name from the list

// The demo shows how to build a UI for this:
const pickerBox = Adw.createBox({ orientation: 'horizontal', spacing: 's' });
accentColors.forEach(colorName => {
    const colorButton = Adw.createButton(colorName.charAt(0).toUpperCase() + colorName.slice(1), {
        onClick: () => Adw.setAccentColor(colorName)
    });
    // The demo also applies styles to the button for visual feedback.
    pickerBox.appendChild(colorButton);
});
// yourContainer.appendChild(pickerBox); // Add to your layout
        `;
        const accentPickerCodeDetails = createCodeSampleDetails('Show Accent Color Picker Code', accentPickerCodeSample);
        insertDetailsAfter(accentPickerBox, accentPickerCodeDetails); // For Accent Color Picker

        // Avatars: avatarCodeDetails is already appended to avatarSection.
        // The avatarSection itself is correctly placed in the main 'content' array.

        // --- Append Custom Element Showcase to Content ---
        // The 'content' Adw.Box should be defined before this point.
        if (content) {
            content.appendChild(customElementShowcaseTitle);
            content.appendChild(customElementShowcaseBox);
        } else {
            console.error("Adw Demo: 'content' box not found for appending Custom Element Showcase.");
        }

        // Specialized Rows:
        insertDetailsAfter(specializedRowsListBox, specializedRowsCodeDetails); // For Specialized List Rows

        // Custom Element Showcase Code Details:
        // Ensure customElementShowcaseBox is valid and in the DOM before inserting details after it.
        if (customElementShowcaseBox && customElementShowcaseBox.parentElement) {
            insertDetailsAfter(customElementShowcaseBox, customElementShowcaseCodeDetails);
        } else if (content && content.contains(customElementShowcaseBox)) { // Fallback if parentElement check is tricky
             insertDetailsAfter(customElementShowcaseBox, customElementShowcaseCodeDetails);
        } else {
            console.error("Adw Demo: customElementShowcaseBox not ready for inserting code details.");
            // As a last resort, append to content if the specific element isn't found by insertDetailsAfter's logic
            // This might happen if customElementShowcaseBox itself isn't a direct child of where insertDetailsAfter expects it.
            // However, the goal is to place it *after* customElementShowcaseBox.
            // The provided insertDetailsAfter might need to be robust enough or this might be complex.
            // For now, relying on customElementShowcaseBox being correctly appended to 'content'.
        }

    </script>
</body>
</html>