@charset "UTF-8";
:root {
  --body-bg-color: #ffffff;
  --text-color: rgba(0, 0, 0, 0.8);
  --text-color-secondary: rgba(0, 0, 0, 0.55);
  --heading-color: rgba(0, 0, 0, 0.9);
  --border-color: rgba(0, 0, 0, 0.15);
  --divider-color: rgba(0, 0, 0, 0.1);
  --focus-ring-color: rgba(53, 132, 228, 0.5);
  --link-color: #1c71d8;
  --link-hover-color: #1a5fb4;
  --link-visited-color: #813d9c;
  --headerbar-bg-color: #f6f5f4;
  --headerbar-fg-color: rgba(0, 0, 0, 0.8);
  --headerbar-border-color: rgba(0, 0, 0, 0.15);
  --window-bg-color: #ffffff;
  --button-bg-color: #f6f5f4;
  --button-fg-color: rgba(0, 0, 0, 0.8);
  --button-border-color: rgba(0, 0, 0, 0.15);
  --button-hover-bg-color: #deddda;
  --button-hover-border-color: hsla(0, 0%, 0%, 0.15); /* Adjusted alpha for negative value */
  --button-hover-text-color: rgba(0, 0, 0, 0.8);
  --button-active-bg-color: #c0bfbc;
  --button-active-border-color: hsla(0, 0%, 0%, 0.15); /* Adjusted alpha for negative value */
  --button-disabled-bg-color: rgba(0, 0, 0, 0.04);
  --button-disabled-fg-color: rgba(0, 0, 0, 0.35);
  --button-disabled-border-color: rgba(0, 0, 0, 0.08);
  --button-flat-hover-bg-color: rgba(0, 0, 0, 0.05);
  --button-flat-active-bg-color: rgba(0, 0, 0, 0.1);
  --button-active-toggle-bg-color: #c0bfbc;
  --button-active-toggle-border-color: hsla(0, 0%, 0%, 0.15); /* Adjusted alpha for negative value */
  --button-active-toggle-text-color: rgba(0, 0, 0, 0.8);
  --input-bg-color: #ffffff;
  --input-fg-color: rgba(0, 0, 0, 0.8);
  --input-border-color: rgba(0, 0, 0, 0.15);
  --input-hover-bg-color: #ffffff;
  --input-hover-border-color: hsla(0, 0%, 0%, 0.15); /* Adjusted alpha for negative value */
  --input-focus-bg-color: #ffffff;
  --input-focus-border-color: #3584e4;
  --input-placeholder-color: rgba(0, 0, 0, 0.4);
  --input-disabled-bg-color: rgba(0, 0, 0, 0.04);
  --input-disabled-fg-color: rgba(0, 0, 0, 0.35);
  --input-disabled-border-color: rgba(0, 0, 0, 0.08);
  --input-readonly-bg-color: #f6f5f4;
  --input-readonly-fg-color: rgba(0, 0, 0, 0.55);
  --input-readonly-border-color: rgba(0, 0, 0, 0.15);
  --accent-color: #1c71d8;
  --accent-bg-color: #3584e4;
  --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(30.5065502183, 118.3034934498, 224.9934497817);
  --accent-bg-active-color: rgb(27.1179039301, 106.4628820961, 202.8820960699);
  --destructive-color: #c01c28;
  --destructive-bg-color: #feebee; /* Light background for destructive elements */
  --destructive-fg-color: #c01c28; /* Dark text for light destructive background */
  --destructive-border-color: #f5c6c0; /* Light border for destructive elements */
  --destructive-bg-hover-color: rgb(252.7857142857, 210.7142857143, 217.3571428571);
  --destructive-bg-active-color: rgb(251.5714285714, 186.4285714286, 196.7142857143);
  --success-color: #26a269;
  --success-bg-color: #2ec27e;
  --success-fg-color: #ffffff;
  --list-row-selected-bg-color: #3584e4;
  --list-row-selected-fg-color: #ffffff;
  --list-row-hover-bg-color: rgba(0, 0, 0, 0.04);
  --list-row-active-bg-color: rgba(0, 0, 0, 0.08);
  --document-font-family: "Cantarell", "Helvetica Neue", Helvetica, Arial, sans-serif;
  --monospace-font-family: "Monaco", "Menlo", "Courier New", monospace;
  --font-size-base: 10pt;
  --font-size-small: 8pt;
  --font-size-large: 12pt;
  --font-size-h1: 18pt;
  --font-size-h2: 16pt;
  --font-size-h3: 14pt;
  --font-size-h4: 12pt;
  --border-radius-small: 4px;
  --border-radius-medium: 6px;
  --border-radius-default: 8px;
  --border-radius-large: 12px;
  --border-width: 1px;
  --spacing-xxs: 3px;
  --spacing-xs: 6px;
  --spacing-s: 9px;
  --spacing-m: 12px;
  --spacing-l: 18px;
  --spacing-xl: 24px;
  --spacing-xxl: 36px;
  --opacity-disabled: 0.5;
  --focus-ring-width: 2px;

  /* Variables from original adwaita-skin that seemed useful or potentially missing */
  --card-bg-color: var(--window-bg-color);
  --card-fg-color: var(--text-color);
  --borders-color: var(--border-color); /* General border color */
  --headerbar-shade-color: var(--headerbar-border-color);
  --list-separator-color: var(--divider-color);
  --view-bg-color: var(--window-bg-color);
  --view-fg-color: var(--text-color);
  --primary-fg-color: var(--text-color);
  --secondary-fg-color: var(--text-color-secondary);
  --disabled-fg-color: var(--button-disabled-fg-color);
  --circular-button-padding: var(--spacing-s);
  --circular-button-size: 36px; /* Example size, adjust as needed */
  --pill-button-border-radius: 9999px;
  --row-padding-vertical-default: var(--spacing-s);
  --row-padding-horizontal-default: var(--spacing-m);
  --dialog-bg-color: var(--window-bg-color);
  --dialog-fg-color: var(--text-color);
  --window-radius: var(--border-radius-large);
  --dialog-box-shadow: 0 4px 8px rgba(0,0,0,0.1), 0 6px 20px rgba(0,0,0,0.1);
  --z-index-dialog: 1000;
  --dialog-backdrop-color: rgba(0,0,0,0.4);
  --z-index-dialog-backdrop: 999;
  --switch-slider-disabled-off-bg-color: var(--button-disabled-bg-color);
  --switch-knob-disabled-bg-color: var(--button-disabled-fg-color);
  --switch-slider-off-bg-color: var(--button-bg-color);
  --switch-knob-bg-color: #ffffff;
  --icon-opacity: 0.7;
  --expander-content-bg-color: var(--window-bg-color);
  --toast-bg-color: #303030; /* Dark background for toasts */
  --toast-fg-color: #ffffff; /* Light text for toasts */
  --toast-box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  --banner-bg-color: var(--accent-bg-color); /* Default banner (info) */
  --banner-fg-color: var(--accent-fg-color);
  --banner-border-color: var(--accent-color);
  --banner-button-bg-color: rgba(255,255,255,0.1);
  --banner-button-fg-color: var(--accent-fg-color);
  --banner-button-hover-bg-color: rgba(255,255,255,0.2);
  --banner-button-active-bg-color: rgba(255,255,255,0.3);
  --banner-error-bg-color: var(--destructive-color); /* Destructive banner */
  --banner-error-fg-color: #ffffff; /* Ensure contrast */
  --banner-error-border-color: var(--destructive-color);
  --banner-error-button-bg-color: rgba(255,255,255,0.1);
  --banner-error-button-fg-color: #ffffff;
  --banner-error-button-hover-bg-color: rgba(255,255,255,0.2);
  --banner-error-button-active-bg-color: rgba(255,255,255,0.3);
  --popover-bg-color: var(--window-bg-color);
  --popover-border-radius: var(--border-radius-default);
  --popover-box-shadow: 0 3px 6px rgba(0,0,0,0.16);
  --popover-padding: var(--spacing-m);
  --arrow-size: 12px;
  --progress-bar-track-color: var(--divider-color);
  --progress-bar-fill-color: var(--accent-bg-color);
}

:root.theme-dark {
  --body-bg-color: #242424;
  --text-color: #ffffff;
  --text-color-secondary: rgba(255, 255, 255, 0.7);
  --heading-color: #ffffff;
  --border-color: rgba(255, 255, 255, 0.15);
  --divider-color: rgba(255, 255, 255, 0.1);
  --focus-ring-color: rgba(153, 193, 241, 0.6);
  --link-color: #99c1f1;
  --link-hover-color: #62a0ea;
  --link-visited-color: #dc8add;
  --headerbar-bg-color: #303030;
  --headerbar-fg-color: #ffffff;
  --headerbar-border-color: rgba(255, 255, 255, 0.15);
  --window-bg-color: #242424;
  --button-bg-color: #5e5c64;
  --button-fg-color: #ffffff;
  --button-border-color: rgba(255, 255, 255, 0.15);
  --button-hover-bg-color: #77767b;
  --button-hover-border-color: hsla(0, 0%, 110%, 0.15);
  --button-hover-text-color: #ffffff;
  --button-active-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
  --button-active-border-color: hsla(0, 0%, 120%, 0.15);
  --button-disabled-bg-color: rgba(255, 255, 255, 0.06);
  --button-disabled-fg-color: rgba(255, 255, 255, 0.35);
  --button-disabled-border-color: rgba(255, 255, 255, 0.08);
  --button-flat-hover-bg-color: rgba(255, 255, 255, 0.08);
  --button-flat-active-bg-color: rgba(255, 255, 255, 0.12);
  --button-active-toggle-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
  --button-active-toggle-border-color: hsla(0, 0%, 120%, 0.15);
  --button-active-toggle-text-color: #ffffff;
  --input-bg-color: #3d3846;
  --input-fg-color: #ffffff;
  --input-border-color: rgba(255, 255, 255, 0.15);
  --input-hover-bg-color: #3d3846;
  --input-hover-border-color: hsla(0, 0%, 120%, 0.15);
  --input-focus-bg-color: #3d3846;
  --input-focus-border-color: #62a0ea;
  --input-placeholder-color: rgba(255, 255, 255, 0.4);
  --input-disabled-bg-color: rgba(255, 255, 255, 0.06);
  --input-disabled-fg-color: rgba(255, 255, 255, 0.35);
  --input-disabled-border-color: rgba(255, 255, 255, 0.08);
  --input-readonly-bg-color: #5e5c64;
  --input-readonly-fg-color: rgba(255, 255, 255, 0.7);
  --input-readonly-border-color: rgba(255, 255, 255, 0.15);
  --accent-color: #62a0ea;
  --accent-bg-color: #3584e4; /* Keep accent-bg-color consistent for dark theme if it's the same blue */
  --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(75.4934497817, 145.6965065502, 231.0065502183);
  --accent-bg-active-color: rgb(97.9868995633, 159.3930131004, 234.0131004367);
  --destructive-color: #f66151; /* Lighter red for text on dark backgrounds */
  --destructive-bg-color: #5c2525; /* Dark red background for destructive elements */
  --destructive-fg-color: #f66151; /* Light text for dark destructive background */
  --destructive-border-color: #7a3535; /* Darker border for destructive elements */
  --destructive-bg-hover-color: rgb(110.1860465116, 44.3139534884, 44.3139534884);
  --destructive-bg-active-color: rgb(128.3720930233, 51.6279069767, 51.6279069767);
  --success-color: #8ff0a4;
  --success-bg-color: #26a269; /* Keep success-bg-color consistent */
  --success-fg-color: #ffffff;
  --list-row-selected-bg-color: #3584e4;
  --list-row-selected-fg-color: #ffffff;
  --list-row-hover-bg-color: rgba(255, 255, 255, 0.06);
  --list-row-active-bg-color: rgba(255, 255, 255, 0.1);

  --card-bg-color: var(--window-bg-color);
  --card-fg-color: var(--text-color);
  --borders-color: var(--border-color);
  --headerbar-shade-color: var(--headerbar-border-color);
  --list-separator-color: var(--divider-color);
  --view-bg-color: var(--window-bg-color);
  --view-fg-color: var(--text-color);
  --primary-fg-color: var(--text-color);
  --secondary-fg-color: var(--text-color-secondary);
  --disabled-fg-color: var(--button-disabled-fg-color);
  --dialog-box-shadow: 0 4px 8px rgba(0,0,0,0.2), 0 6px 20px rgba(0,0,0,0.2);
  --toast-bg-color: #242424; /* Light background for toasts in dark theme for contrast */
  --toast-fg-color: #FFFFFF; /* Dark text for toasts in dark theme */
  --banner-bg-color: var(--accent-bg-color);
  --banner-fg-color: var(--accent-fg-color);
  --banner-border-color: var(--accent-color);
  --banner-button-bg-color: rgba(0,0,0,0.1);
  --banner-button-fg-color: var(--accent-fg-color);
  --banner-button-hover-bg-color: rgba(0,0,0,0.2);
  --banner-button-active-bg-color: rgba(0,0,0,0.3);
  --banner-error-bg-color: var(--destructive-color);
  --banner-error-fg-color: #ffffff;
  --banner-error-border-color: var(--destructive-color);
  --banner-error-button-bg-color: rgba(0,0,0,0.1);
  --banner-error-button-fg-color: #ffffff;
  --banner-error-button-hover-bg-color: rgba(0,0,0,0.2);
  --banner-error-button-active-bg-color: rgba(0,0,0,0.3);
  --popover-bg-color: var(--window-bg-color);
  --popover-box-shadow: 0 3px 6px rgba(0,0,0,0.3);
  --progress-bar-track-color: rgba(255,255,255,0.1);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--document-font-family);
  font-size: var(--font-size-base);
  font-weight: 400;
  line-height: 1.5;
  color: var(--text-color);
  background-color: var(--body-bg-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--document-font-family); /* GNOME uses standard font for headings */
  font-weight: 700;
  color: var(--heading-color);
  line-height: 1.2;
  margin-top: var(--spacing-m);
  margin-bottom: var(--spacing-s);
}

h1 { font-size: var(--font-size-h1); }
h2 { font-size: var(--font-size-h2); }
h3 { font-size: var(--font-size-h3); }
h4 { font-size: var(--font-size-h4); }
h5 { font-size: var(--font-size-large); }
h6 { font-size: var(--font-size-base); }

p {
  margin-top: 0;
  margin-bottom: var(--spacing-m);
}

a {
  color: var(--link-color);
  text-decoration: none;
}
a:hover {
  color: var(--link-hover-color);
  text-decoration: underline;
}

hr {
  border: 0;
  border-top: var(--border-width) solid var(--divider-color);
  margin: var(--spacing-l) 0;
}

/* Theme classes for explicit light/dark mode, overriding prefers-color-scheme if body has them */
body.theme-light {
  --body-bg-color: #ffffff;
  --text-color: rgba(0, 0, 0, 0.8);
  --text-color-secondary: rgba(0, 0, 0, 0.55);
  --heading-color: rgba(0, 0, 0, 0.9);
  --border-color: rgba(0, 0, 0, 0.15);
  --divider-color: rgba(0, 0, 0, 0.1);
  --focus-ring-color: rgba(53, 132, 228, 0.5);
  --link-color: #1c71d8;
  --link-hover-color: #1a5fb4;
  --link-visited-color: #813d9c;
  --headerbar-bg-color: #f6f5f4;
  --headerbar-fg-color: rgba(0, 0, 0, 0.8);
  --headerbar-border-color: rgba(0, 0, 0, 0.15);
  --window-bg-color: #ffffff;
  --button-bg-color: #f6f5f4;
  --button-fg-color: rgba(0, 0, 0, 0.8);
  --button-border-color: rgba(0, 0, 0, 0.15);
  --button-hover-bg-color: #deddda;
  --button-hover-border-color: hsla(0, 0%, 0%, 0.15);
  --button-hover-text-color: rgba(0, 0, 0, 0.8);
  --button-active-bg-color: #c0bfbc;
  --button-active-border-color: hsla(0, 0%, 0%, 0.15);
  --button-disabled-bg-color: rgba(0, 0, 0, 0.04);
  --button-disabled-fg-color: rgba(0, 0, 0, 0.35);
  --button-disabled-border-color: rgba(0, 0, 0, 0.08);
  --button-flat-hover-bg-color: rgba(0, 0, 0, 0.05);
  --button-flat-active-bg-color: rgba(0, 0, 0, 0.1);
  --button-active-toggle-bg-color: #c0bfbc;
  --button-active-toggle-border-color: hsla(0, 0%, 0%, 0.15);
  --button-active-toggle-text-color: rgba(0, 0, 0, 0.8);
  --input-bg-color: #ffffff;
  --input-fg-color: rgba(0, 0, 0, 0.8);
  --input-border-color: rgba(0, 0, 0, 0.15);
  --input-hover-bg-color: #ffffff;
  --input-hover-border-color: hsla(0, 0%, 0%, 0.15);
  --input-focus-bg-color: #ffffff;
  --input-focus-border-color: #3584e4;
  --input-placeholder-color: rgba(0, 0, 0, 0.4);
  --input-disabled-bg-color: rgba(0, 0, 0, 0.04);
  --input-disabled-fg-color: rgba(0, 0, 0, 0.35);
  --input-disabled-border-color: rgba(0, 0, 0, 0.08);
  --input-readonly-bg-color: #f6f5f4;
  --input-readonly-fg-color: rgba(0, 0, 0, 0.55);
  --input-readonly-border-color: rgba(0, 0, 0, 0.15);
  --accent-color: #1c71d8;
  --accent-bg-color: #3584e4;
  --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(30.5065502183, 118.3034934498, 224.9934497817);
  --accent-bg-active-color: rgb(27.1179039301, 106.4628820961, 202.8820960699);
  --destructive-color: #c01c28;
  --destructive-bg-color: #e01b24; /* This was a strong red for light theme flash messages */
  --destructive-fg-color: #ffffff; /* White text on strong red */
  --success-color: #26a269;
  --success-bg-color: #2ec27e;
  --success-fg-color: #ffffff;
}

body.theme-dark {
  --body-bg-color: #242424;
  --text-color: #ffffff;
  --text-color-secondary: rgba(255, 255, 255, 0.7);
  --heading-color: #ffffff;
  --border-color: rgba(255, 255, 255, 0.15);
  --divider-color: rgba(255, 255, 255, 0.1);
  --focus-ring-color: rgba(153, 193, 241, 0.6);
  --link-color: #99c1f1;
  --link-hover-color: #62a0ea;
  --link-visited-color: #dc8add;
  --headerbar-bg-color: #303030;
  --headerbar-fg-color: #ffffff;
  --headerbar-border-color: rgba(255, 255, 255, 0.15);
  --window-bg-color: #242424;
  --button-bg-color: #5e5c64;
  --button-fg-color: #ffffff;
  --button-border-color: rgba(255, 255, 255, 0.15);
  --button-hover-bg-color: #77767b;
  --button-hover-border-color: hsla(0, 0%, 110%, 0.15);
  --button-hover-text-color: #ffffff;
  --button-active-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
  --button-active-border-color: hsla(0, 0%, 120%, 0.15);
  --button-disabled-bg-color: rgba(255, 255, 255, 0.06);
  --button-disabled-fg-color: rgba(255, 255, 255, 0.35);
  --button-disabled-border-color: rgba(255, 255, 255, 0.08);
  --button-flat-hover-bg-color: rgba(255, 255, 255, 0.08);
  --button-flat-active-bg-color: rgba(255, 255, 255, 0.12);
  --button-active-toggle-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
  --button-active-toggle-border-color: hsla(0, 0%, 120%, 0.15);
  --button-active-toggle-text-color: #ffffff;
  --input-bg-color: #3d3846;
  --input-fg-color: #ffffff;
  --input-border-color: rgba(255, 255, 255, 0.15);
  --input-hover-bg-color: #3d3846;
  --input-hover-border-color: hsla(0, 0%, 120%, 0.15);
  --input-focus-bg-color: #3d3846;
  --input-focus-border-color: #62a0ea;
  --input-placeholder-color: rgba(255, 255, 255, 0.4);
  --input-disabled-bg-color: rgba(255, 255, 255, 0.06);
  --input-disabled-fg-color: rgba(255, 255, 255, 0.35);
  --input-disabled-border-color: rgba(255, 255, 255, 0.08);
  --input-readonly-bg-color: #5e5c64;
  --input-readonly-fg-color: rgba(255, 255, 255, 0.7);
  --input-readonly-border-color: rgba(255, 255, 255, 0.15);
  --accent-color: #62a0ea;
  --accent-bg-color: #3584e4;
  --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(75.4934497817, 145.6965065502, 231.0065502183);
  --accent-bg-active-color: rgb(97.9868995633, 159.3930131004, 234.0131004367);
  --destructive-color: rgb(243.2027027027, 121.2972972973, 126.5405405405); /* Lighter red for text */
  --destructive-bg-color: #c01c28; /* Strong red background */
  --destructive-fg-color: #ffffff; /* White text on strong red */
  --success-color: #8ff0a4;
  --success-bg-color: #26a269;
  --success-fg-color: #ffffff;
}

/* Fallback for prefers-color-scheme if body class is not set */
@media (prefers-color-scheme: dark) {
  body:not(.theme-light) { /* Apply if not explicitly light and prefers dark */
    --body-bg-color: #242424;
    --text-color: #ffffff;
    /* ... (Include all dark theme variables from :root.theme-dark here) ... */
    --text-color-secondary: rgba(255, 255, 255, 0.7);
    --heading-color: #ffffff;
    --border-color: rgba(255, 255, 255, 0.15);
    --divider-color: rgba(255, 255, 255, 0.1);
    --focus-ring-color: rgba(153, 193, 241, 0.6);
    --link-color: #99c1f1;
    --link-hover-color: #62a0ea;
    --link-visited-color: #dc8add;
    --headerbar-bg-color: #303030;
    --headerbar-fg-color: #ffffff;
    --headerbar-border-color: rgba(255, 255, 255, 0.15);
    --window-bg-color: #242424;
    --button-bg-color: #5e5c64;
    --button-fg-color: #ffffff;
    --button-border-color: rgba(255, 255, 255, 0.15);
    --button-hover-bg-color: #77767b;
    --button-hover-border-color: hsla(0, 0%, 110%, 0.15);
    --button-hover-text-color: #ffffff;
    --button-active-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
    --button-active-border-color: hsla(0, 0%, 120%, 0.15);
    --button-disabled-bg-color: rgba(255, 255, 255, 0.06);
    --button-disabled-fg-color: rgba(255, 255, 255, 0.35);
    --button-disabled-border-color: rgba(255, 255, 255, 0.08);
    --button-flat-hover-bg-color: rgba(255, 255, 255, 0.08);
    --button-flat-active-bg-color: rgba(255, 255, 255, 0.12);
    --button-active-toggle-bg-color: rgb(131.734439834, 130.72406639, 135.77593361);
    --button-active-toggle-border-color: hsla(0, 0%, 120%, 0.15);
    --button-active-toggle-text-color: #ffffff;
    --input-bg-color: #3d3846;
    --input-fg-color: #ffffff;
    --input-border-color: rgba(255, 255, 255, 0.15);
    --input-hover-bg-color: #3d3846;
    --input-hover-border-color: hsla(0, 0%, 120%, 0.15);
    --input-focus-bg-color: #3d3846;
    --input-focus-border-color: #62a0ea;
    --input-placeholder-color: rgba(255, 255, 255, 0.4);
    --input-disabled-bg-color: rgba(255, 255, 255, 0.06);
    --input-disabled-fg-color: rgba(255, 255, 255, 0.35);
    --input-disabled-border-color: rgba(255, 255, 255, 0.08);
    --input-readonly-bg-color: #5e5c64;
    --input-readonly-fg-color: rgba(255, 255, 255, 0.7);
    --input-readonly-border-color: rgba(255, 255, 255, 0.15);
    --accent-color: #62a0ea;
    --accent-bg-color: #3584e4;
    --accent-fg-color: #ffffff;
    --accent-bg-hover-color: rgb(75.4934497817, 145.6965065502, 231.0065502183);
    --accent-bg-active-color: rgb(97.9868995633, 159.3930131004, 234.0131004367);
    --destructive-color: rgb(243.2027027027, 121.2972972973, 126.5405405405);
    --destructive-bg-color: #c01c28;
    --destructive-fg-color: #ffffff;
    --success-color: #8ff0a4;
    --success-bg-color: #26a269;
    --success-fg-color: #ffffff;
  }
}

/* Accent Color Definitions */
.accent-blue:not(.theme-dark) { /* Normal state for specific accent */
  --accent-color: #1c71d8; --accent-bg-color: #3584e4; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(30.5, 118.3, 225.0); --accent-bg-active-color: rgb(27.1, 106.5, 202.9);
  --focus-ring-color: rgba(28, 113, 216, 0.5); --input-focus-border-color: #1c71d8;
}
.accent-blue.theme-dark { /* Dark theme state for specific accent */
  --accent-color: #62a0ea; --accent-bg-color: #3584e4; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(75.5, 145.7, 231.0); --accent-bg-active-color: rgb(98.0, 159.4, 234.0);
  --focus-ring-color: rgba(98, 160, 234, 0.6); --input-focus-border-color: #62a0ea;
}
/* Repeat for other accent colors: green, yellow, orange, red, purple, brown */
.accent-green:not(.theme-dark) {
  --accent-color: #26a269; --accent-bg-color: #2ec27e; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(41.1, 173.4, 112.6); --accent-bg-active-color: rgb(36.2, 152.8, 99.2);
  --focus-ring-color: rgba(38, 162, 105, 0.5); --input-focus-border-color: #26a269;
}
.accent-green.theme-dark {
  --accent-color: #8ff0a4; --accent-bg-color: #26a269; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(47.7, 203.3, 131.8); --accent-bg-active-color: rgb(86.5, 215.5, 156.2);
  --focus-ring-color: rgba(143, 240, 164, 0.6); --input-focus-border-color: #8ff0a4;
}
.accent-yellow:not(.theme-dark) {
  --accent-color: #e5a50a; --accent-bg-color: #f5c211; --accent-fg-color: rgba(0,0,0,0.8);
  --accent-bg-hover-color: rgb(227.0, 178.3, 9.5); --accent-bg-active-color: rgb(202.5, 159.1, 8.5);
  --focus-ring-color: rgba(229, 165, 10, 0.5); --input-focus-border-color: #e5a50a;
}
.accent-yellow.theme-dark {
  --accent-color: #f8e45c; --accent-bg-color: #e5a50a; --accent-fg-color: rgba(0,0,0,0.8);
  --accent-bg-hover-color: rgb(245.8, 186.9, 44.2); --accent-bg-active-color: rgb(247.9, 202.7, 93.1);
  --focus-ring-color: rgba(248, 228, 92, 0.6); --input-focus-border-color: #f8e45c;
}
.accent-orange:not(.theme-dark) {
  --accent-color: #e66100; --accent-bg-color: #ff7800; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: #e66100; --accent-bg-active-color: #c64600;
  --focus-ring-color: rgba(230, 97, 0, 0.5); --input-focus-border-color: #e66100;
}
.accent-orange.theme-dark {
  --accent-color: #ffbe6f; --accent-bg-color: #ff7800; --accent-fg-color: #ffffff; /* Text color should be dark for contrast */
  --accent-bg-hover-color: #ffa348; --accent-bg-active-color: #ffbe6f;
  --focus-ring-color: rgba(255, 190, 111, 0.6); --input-focus-border-color: #ffbe6f;
}
.accent-red:not(.theme-dark) {
  --accent-color: #c01c28; --accent-bg-color: #e01b24; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(201.2, 24.3, 32.3); --accent-bg-active-color: rgb(178.5, 21.5, 28.7);
  --focus-ring-color: rgba(192, 28, 40, 0.5); --input-focus-border-color: #c01c28;
}
.accent-red.theme-dark {
  --accent-color: rgb(243.2, 121.3, 126.5); --accent-bg-color: #c01c28; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: rgb(224.6, 46.4, 59.5); --accent-bg-active-color: rgb(231.1, 90.9, 101.2);
  --focus-ring-color: rgba(243.2, 121.3, 126.5, 0.6); --input-focus-border-color: rgb(243.2, 121.3, 126.5);
}
.accent-purple:not(.theme-dark) {
  --accent-color: #813d9c; --accent-bg-color: #9141ac; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: #813d9c; --accent-bg-active-color: rgb(113.8, 53.8, 137.7);
  --focus-ring-color: rgba(129, 61, 156, 0.5); --input-focus-border-color: #813d9c;
}
.accent-purple.theme-dark {
  --accent-color: #dc8add; --accent-bg-color: #9141ac; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: #c061cb; --accent-bg-active-color: #dc8add;
  --focus-ring-color: rgba(220, 138, 221, 0.6); --input-focus-border-color: #dc8add;
}
.accent-brown:not(.theme-dark) {
  --accent-color: #865e3c; --accent-bg-color: #986a44; --accent-fg-color: #ffffff;
  --accent-bg-hover-color: #865e3c; --accent-bg-active-color: #63452c;
  --focus-ring-color: rgba(134, 94, 60, 0.5); --input-focus-border-color: #865e3c;
}
.accent-brown.theme-dark {
  --accent-color: #cdab8f; --accent-bg-color: #986a44; --accent-fg-color: #ffffff; /* Text color should be dark for contrast */
  --accent-bg-hover-color: #b5835a; --accent-bg-active-color: #cdab8f;
  --focus-ring-color: rgba(205, 171, 143, 0.6); --input-focus-border-color: #cdab8f;
}

/* Default accent if none specified by class */
body:not([class*=accent-]):not(.theme-dark), .theme-light:not([class*=accent-]) {
  --focus-ring-color: rgba(28, 113, 216, 0.5); /* Default blue focus for light */
  --input-focus-border-color: #1c71d8;
}
body:not([class*=accent-]).theme-dark, .theme-dark:not([class*=accent-]) {
  --focus-ring-color: rgba(98, 160, 234, 0.6); /* Default blue focus for dark */
  --input-focus-border-color: #62a0ea;
}
/* Fallback for prefers-color-scheme if no theme class and no accent class */
@media (prefers-color-scheme: light) {
  body:not([class*=theme-]):not([class*=accent-]) {
    --focus-ring-color: rgba(28, 113, 216, 0.5);
    --input-focus-border-color: #1c71d8;
  }
}
@media (prefers-color-scheme: dark) {
  body:not([class*=theme-]):not([class*=accent-]) {
    --focus-ring-color: rgba(98, 160, 234, 0.6);
    --input-focus-border-color: #62a0ea;
  }
}

.adw-text-center { text-align: center; }
.adw-text-left { text-align: left; }
.adw-text-right { text-align: right; }

/* Component Styles from here, ensure they use the deduplicated vars */
/* ADW-BUTTON */
.adw-button {
  display: inline-flex; align-items: center; justify-content: center;
  padding: var(--spacing-s) var(--spacing-m);
  border-radius: var(--border-radius-default);
  border: var(--border-width) solid var(--button-border-color);
  background-color: var(--button-bg-color); color: var(--button-fg-color);
  font-family: var(--document-font-family); font-size: var(--font-size-base); font-weight: 700;
  line-height: 1.5; text-align: center; text-decoration: none; white-space: nowrap;
  cursor: pointer; transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  user-select: none; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
.adw-button:hover { background-color: var(--button-hover-bg-color); border-color: var(--button-hover-border-color); color: var(--button-hover-text-color); }
.adw-button:active { background-color: var(--button-active-bg-color); border-color: var(--button-active-border-color); }
.adw-button:focus, .adw-button:focus-visible { outline: none; box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color); }
.adw-button.disabled, .adw-button[disabled] {
  opacity: var(--opacity-disabled); cursor: not-allowed;
  background-color: var(--button-disabled-bg-color) !important; border-color: var(--button-disabled-border-color) !important;
  color: var(--button-disabled-fg-color) !important; box-shadow: none !important; pointer-events: none;
}
.adw-button .adw-icon, .adw-button .icon, .adw-button svg { display: inline-flex; align-items: center; justify-content: center; width: 16px; height: 16px; fill: currentColor; }
.adw-button .adw-icon:first-child:not(:last-child), .adw-button .icon:first-child:not(:last-child), .adw-button svg:first-child:not(:last-child) { margin-right: var(--spacing-xs); }
.adw-button .adw-icon:last-child:not(:first-child), .adw-button .icon:last-child:not(:first-child), .adw-button svg:last-child:not(:first-child) { margin-left: var(--spacing-xs); }
.adw-button.suggested-action { background-color: var(--accent-bg-color); border-color: var(--accent-bg-color); color: var(--accent-fg-color); }
.adw-button.suggested-action:hover { background-color: var(--accent-bg-hover-color); border-color: var(--accent-bg-hover-color); }
.adw-button.suggested-action:active { background-color: var(--accent-bg-active-color); border-color: var(--accent-bg-active-color); }
.adw-button.destructive-action { background-color: var(--destructive-color); border-color: var(--destructive-color); color: var(--destructive-fg-color-on-destructive, #ffffff); }
.adw-button.destructive-action:hover { background-color: var(--destructive-bg-hover-color); border-color: var(--destructive-bg-hover-color); } /* Ensure these vars are defined or use appropriate fallbacks */
.adw-button.destructive-action:active { background-color: var(--destructive-bg-active-color); border-color: var(--destructive-bg-active-color); }
.adw-button.flat { background-color: transparent; border-color: transparent; color: var(--text-color); }
.adw-button.flat:hover { background-color: var(--button-flat-hover-bg-color); color: var(--text-color); }
.adw-button.flat:active { background-color: var(--button-flat-active-bg-color); }
.adw-button.flat.suggested-action { color: var(--accent-color); background-color: transparent; border-color: transparent; }
.adw-button.flat.suggested-action:hover { color: var(--accent-color); background-color: var(--button-flat-hover-bg-color); }
.adw-button.flat.destructive-action { color: var(--destructive-color); background-color: transparent; border-color: transparent; }
.adw-button.flat.destructive-action:hover { color: var(--destructive-color); background-color: var(--button-flat-hover-bg-color); }
.adw-button.circular { padding: var(--circular-button-padding); border-radius: 50%; width: var(--circular-button-size); height: var(--circular-button-size); min-width: var(--circular-button-size); }
.adw-button.circular .adw-icon, .adw-button.circular .icon, .adw-button.circular svg { margin: 0; width: 20px; height: 20px; }
.adw-button.pill { border-radius: var(--pill-button-border-radius); }
.adw-button.active { background-color: var(--button-active-toggle-bg-color); border-color: var(--button-active-toggle-border-color); color: var(--button-active-toggle-text-color); }
.adw-button.active.suggested-action { background-color: var(--accent-bg-active-color); border-color: var(--accent-bg-active-color); color: var(--accent-fg-color); }
.adw-button.active.flat { background-color: var(--button-flat-active-bg-color); }
.adw-button.active.flat.suggested-action { color: var(--accent-color); }
.adw-button.active.flat.destructive-action { color: var(--destructive-color); }
.adw-button.icon-only { padding: var(--circular-button-padding); } /* Assuming same padding as circular */
.adw-button.icon-only .adw-icon, .adw-button.icon-only .icon, .adw-button.icon-only svg { margin: 0; }
a.adw-button { text-decoration: none; }
input[type=button].adw-button, input[type=submit].adw-button, input[type=reset].adw-button {
  -webkit-appearance: none; -moz-appearance: none; appearance: none;
  line-height: 1.5; font-family: var(--document-font-family);
}

/* ADW-ENTRY & ADW-TEXTAREA */
:root { /* Specific variables for entry, can be merged if same as global input vars */
  --entry-padding-vertical-default: var(--spacing-xs);
  --entry-padding-horizontal-default: var(--spacing-s);
  --entry-border-width-default: var(--border-width);
  --entry-border-color-default: var(--input-border-color);
  --entry-background-color-default: var(--input-bg-color);
  --entry-inset-shadow-light-default: inset 0 1px 1px rgba(0,0,0,0.06);
  --entry-inset-shadow-dark-default: inset 0 1px 1px rgba(0,0,0,0.2);
  --entry-focus-border-color-default: var(--input-focus-border-color);
  --entry-focus-ring-shadow-default: 0 0 0 var(--focus-ring-width) var(--input-focus-border-color);
  --entry-disabled-bg-color-default: var(--input-disabled-bg-color);
  --entry-disabled-border-color-default: var(--input-disabled-border-color);
}
:root.theme-dark { --entry-inset-shadow-light-default: var(--entry-inset-shadow-dark-default); }

.adw-entry, .adw-textarea {
  /* Using internal variables that default to global ones or can be overridden per component instance */
  --_entry-padding-vertical: var(--entry-padding-vertical, var(--entry-padding-vertical-default));
  --_entry-padding-horizontal: var(--entry-padding-horizontal, var(--entry-padding-horizontal-default));
  --_entry-border-width: var(--entry-border-width, var(--entry-border-width-default));
  --_entry-border-color: var(--entry-border-color, var(--entry-border-color-default));
  --_entry-background-color: var(--entry-background-color, var(--entry-background-color-default));
  --_entry-inset-shadow: var(--entry-inset-shadow, var(--entry-inset-shadow-light-default));
  --_entry-focus-border-color: var(--entry-focus-border-color, var(--entry-focus-border-color-default));
  --_entry-focus-ring-shadow: var(--entry-focus-ring-shadow, var(--entry-focus-ring-shadow-default));
  --_entry-disabled-bg-color: var(--entry-disabled-bg-color, var(--entry-disabled-bg-color-default));
  --_entry-disabled-border-color: var(--entry-disabled-border-color, var(--entry-disabled-border-color-default));

  display: inline-block; width: auto;
  padding: var(--_entry-padding-vertical) var(--_entry-padding-horizontal);
  border-width: var(--_entry-border-width); border-style: solid; border-color: var(--_entry-border-color);
  border-radius: var(--border-radius-default); /* Use global input-border-radius if defined, else default */
  background-color: var(--_entry-background-color); color: var(--input-fg-color);
  font-family: var(--document-font-family); font-size: var(--font-size-base); line-height: 1.5;
  box-shadow: var(--_entry-inset-shadow);
  transition: border-color 0.1s ease-out, box-shadow 0.1s ease-out, background-color 0.1s ease-out;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
.theme-dark .adw-entry, .theme-dark .adw-textarea { --_entry-inset-shadow: var(--entry-inset-shadow, var(--entry-inset-shadow-dark-default)); }
.adw-entry::placeholder, .adw-textarea::placeholder { color: var(--input-placeholder-color); opacity: 0.5; }
.adw-entry:hover:not(:disabled):not(.disabled):not([readonly]),
.adw-textarea:hover:not(:disabled):not(.disabled):not([readonly]) {
  border-color: var(--input-hover-border-color); background-color: var(--input-hover-bg-color);
}
.adw-entry:focus, .adw-textarea:focus, .adw-entry:focus-visible, .adw-textarea:focus-visible {
  outline: none; border-color: var(--_entry-focus-border-color);
  box-shadow: var(--_entry-inset-shadow), var(--_entry-focus-ring-shadow);
  background-color: var(--input-focus-bg-color);
}
.adw-entry.disabled, .adw-textarea.disabled, .adw-entry[disabled], .adw-textarea[disabled] {
  cursor: not-allowed; background-color: var(--_entry-disabled-bg-color) !important;
  border-color: var(--_entry-disabled-border-color) !important; color: var(--input-disabled-fg-color) !important;
  opacity: var(--opacity-disabled); box-shadow: none !important; pointer-events: none;
}
.adw-entry.disabled::placeholder, .adw-textarea.disabled::placeholder, .adw-entry[disabled]::placeholder, .adw-textarea[disabled]::placeholder {
  color: var(--input-disabled-fg-color); opacity: var(--opacity-disabled);
}
.adw-entry[readonly], .adw-textarea[readonly] { /* Simplified readonly selectors */
  background-color: var(--input-readonly-bg-color); border-color: var(--input-readonly-border-color);
  color: var(--input-readonly-fg-color); cursor: default; box-shadow: var(--_entry-inset-shadow);
}
.adw-entry[readonly]:hover, .adw-textarea[readonly]:hover { border-color: var(--input-readonly-border-color); }
.adw-entry[readonly]:focus, .adw-textarea[readonly]:focus,
.adw-entry[readonly]:focus-visible, .adw-textarea[readonly]:focus-visible {
  border-color: var(--input-readonly-border-color); box-shadow: var(--_entry-inset-shadow);
}
.adw-entry.row-input, .adw-textarea.row-input { /* For entries inside rows, e.g. AdwEntryRow */
  --_entry-border-width: 0 0 1px 0; --_entry-border-color: var(--input-border-color);
  border-radius: 0; background-color: transparent; box-shadow: none;
  padding-left: 0; padding-right: 0;
}
.adw-entry.row-input:focus, .adw-textarea.row-input:focus,
.adw-entry.row-input:focus-visible, .adw-textarea.row-input:focus-visible {
  --_entry-border-color: var(--_entry-focus-border-color); border-width: 0 0 2px 0; box-shadow: none;
}
.adw-entry.row-input.disabled, .adw-textarea.row-input.disabled,
.adw-entry.row-input[disabled], .adw-textarea.row-input[disabled] {
  border-color: transparent !important; background-color: transparent !important;
}
.adw-entry.error, .adw-textarea.error { border-color: var(--destructive-color) !important; }
.adw-entry.error:focus, .adw-textarea.error:focus,
.adw-entry.error:focus-visible, .adw-textarea.error:focus-visible {
  border-color: var(--destructive-color) !important;
  box-shadow: var(--_entry-inset-shadow), 0 0 0 var(--focus-ring-width) rgba(224, 27, 36, 0.5); /* Destructive focus ring */
}
.theme-dark .adw-entry.error:focus, .theme-dark .adw-textarea.error:focus,
.theme-dark .adw-entry.error:focus-visible, .theme-dark .adw-textarea.error:focus-visible {
  box-shadow: var(--_entry-inset-shadow), 0 0 0 var(--focus-ring-width) var(--destructive-color); /* Use destructive color for dark theme focus ring */
}
.adw-entry.success, .adw-textarea.success { border-color: var(--success-color) !important; }
.adw-entry.success:focus, .adw-textarea.success:focus,
.adw-entry.success:focus-visible, .adw-textarea.success:focus-visible {
  border-color: var(--success-color) !important;
  box-shadow: var(--_entry-inset-shadow), 0 0 0 var(--focus-ring-width) rgba(46, 194, 126, 0.5); /* Success focus ring */
}
.theme-dark .adw-entry.success:focus, .theme-dark .adw-textarea.success:focus,
.theme-dark .adw-entry.success:focus-visible, .theme-dark .adw-textarea.success:focus-visible {
  box-shadow: var(--_entry-inset-shadow), 0 0 0 var(--focus-ring-width) var(--success-color); /* Use success color for dark theme focus ring */
}
.adw-textarea { resize: vertical; min-height: calc(var(--font-size-base) * 1.5 * 3 + var(--_entry-padding-vertical) * 2 + var(--_entry-border-width) * 2); }
.adw-entry-wrapper { display: inline-flex; align-items: center; position: relative; }
.adw-entry-wrapper > .adw-entry.with-icon-start, .adw-entry-wrapper > .adw-textarea.with-icon-start { padding-left: calc(var(--_entry-padding-horizontal) + 16px + var(--spacing-xs)); }
.adw-entry-wrapper > .adw-entry.with-icon-end, .adw-entry-wrapper > .adw-textarea.with-icon-end { padding-right: calc(var(--_entry-padding-horizontal) + 16px + var(--spacing-xs)); }
.adw-entry-wrapper .adw-entry-icon {
  display: flex; align-items: center; justify-content: center; color: var(--input-placeholder-color);
  position: absolute; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; pointer-events: none;
}
.adw-entry-wrapper .adw-entry-icon svg { width: 100%; height: 100%; fill: currentColor; }
.adw-entry-wrapper .adw-entry-icon.start { left: var(--_entry-padding-horizontal); }
.adw-entry-wrapper .adw-entry-icon.end { right: var(--_entry-padding-horizontal); }
.adw-entry-wrapper .adw-entry-icon.interactive { pointer-events: auto; cursor: pointer; color: var(--text-color-secondary); }
.adw-entry-wrapper .adw-entry-icon.interactive:hover { color: var(--text-color); }
input[type=number].adw-entry { -webkit-appearance: textfield; -moz-appearance: textfield; appearance: textfield; }
input[type=number].adw-entry::-webkit-inner-spin-button, input[type=number].adw-entry::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=search].adw-entry::-webkit-search-decoration, input[type=search].adw-entry::-webkit-search-cancel-button,
input[type=search].adw-entry::-webkit-search-results-button, input[type=search].adw-entry::-webkit-search-results-decoration { display: none; }

/* ADW-HEADER-BAR */
.adw-header-bar {
  background-color: var(--headerbar-bg-color); color: var(--headerbar-fg-color);
  border-bottom: var(--border-width) solid var(--headerbar-border-color); /* Use --headerbar-border-color */
  padding: var(--spacing-xs) var(--spacing-m); display: flex; align-items: center;
  min-height: 56px; position: relative;
}
.adw-header-bar .adw-header-bar__start, .adw-header-bar .adw-header-bar__end { display: flex; align-items: center; flex-shrink: 0; gap: var(--spacing-xs); }
.adw-header-bar .adw-header-bar__center { display: flex; align-items: center; flex-grow: 1; justify-content: center; gap: var(--spacing-xs); }
.adw-header-bar .adw-header-bar__start > *, .adw-header-bar .adw-header-bar__end > *, .adw-header-bar .adw-header-bar__center > * { color: var(--headerbar-fg-color); }
.adw-header-bar .adw-button:not(.suggested-action):not(.destructive-action) { /* Applies to buttons in start, center, and end */
  background-color: transparent; border-color: transparent; box-shadow: none; color: var(--headerbar-fg-color);
}
.adw-header-bar .adw-button:not(.suggested-action):not(.destructive-action):hover { background-color: var(--button-flat-hover-bg-color); }
.adw-header-bar .adw-button:not(.suggested-action):not(.destructive-action):active,
.adw-header-bar .adw-button.active:not(.suggested-action):not(.destructive-action) { background-color: var(--button-flat-active-bg-color); }

.adw-header-bar .adw-header-bar__title { /* Title specific styling, usually in start or center */
  font-size: var(--font-size-large); font-weight: bold; white-space: nowrap;
  overflow: hidden; text-overflow: ellipsis; line-height: 1.2;
}
.adw-header-bar .adw-header-bar__start .adw-header-bar__title { margin-right: var(--spacing-m); } /* Example if title is in start */
.adw-header-bar .adw-header-bar__center .adw-header-bar__title { text-align: center; }

.adw-header-bar .adw-header-bar__subtitle { /* Added for consistency with Adwaita */
  font-size: var(--font-size-small); color: var(--headerbar-fg-color); opacity: 0.7;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;
  margin-top: var(--spacing-xxs); text-align: center; /* Assuming it's below title */
}
.adw-header-bar.scrolled { border-bottom-color: var(--divider-color); } /* Use --divider-color for scrolled state */
.adw-header-bar a { text-decoration: none; } /* Ensure links in header bar are not underlined by default */


/* ADW-LIST-BOX & ADW-ROW (generic row) */
.adw-list-box {
  background-color: var(--card-bg-color); border: var(--border-width) solid var(--borders-color);
  border-radius: var(--border-radius-default); overflow: hidden;
}
.adw-list-box .adw-row { /* Generic row, can be base for action-row, entry-row etc. */
  display: flex; align-items: center; padding: var(--spacing-m);
  border-bottom: var(--border-width) solid var(--list-separator-color);
  transition: background-color 0.1s ease-out, color 0.1s ease-out;
  cursor: default;
}
.adw-list-box .adw-row:last-child { border-bottom: none; }
.adw-list-box .adw-row:hover:not(.adw-row--activated):not(.adw-row--selected):not([disabled]) { background-color: var(--list-row-hover-bg-color); }
.adw-list-box .adw-row.interactive { cursor: pointer; }
.adw-list-box .adw-row.activatable:hover:not(.adw-row--activated):not(.adw-row--selected):not([disabled]) { background-color: var(--list-row-active-bg-color); }
.adw-list-box .adw-row.interactive:focus-visible, .adw-list-box .adw-row.activatable:focus-visible {
  outline: 2px solid var(--accent-color); outline-offset: -2px; border-radius: var(--border-radius-small);
}
.adw-list-box .adw-row.adw-row--activated, .adw-list-box .adw-row.adw-row--selected {
  background-color: var(--list-row-selected-bg-color); color: var(--list-row-selected-fg-color);
}
.adw-list-box .adw-row.adw-row--activated > *, .adw-list-box .adw-row.adw-row--selected > * { color: var(--list-row-selected-fg-color); }
.adw-list-box .adw-row.adw-row--activated .adw-label, .adw-list-box .adw-row.adw-row--selected .adw-label,
.adw-list-box .adw-row.adw-row--activated .adw-action-row__subtitle, .adw-list-box .adw-row.adw-row--selected .adw-action-row__subtitle,
.adw-list-box .adw-row.adw-row--activated .adw-entry-row__subtitle, .adw-list-box .adw-row.adw-row--selected .adw-entry-row__subtitle {
  opacity: 0.85; /* Subtitles are slightly less prominent even when selected */
}
.adw-list-box .adw-row[disabled] { opacity: var(--opacity-disabled); cursor: not-allowed; background-color: transparent; }
.adw-list-box .adw-row[disabled]:hover { background-color: transparent; }
.adw-list-box .adw-row .title { font-weight: 500; color: var(--view-fg-color); } /* Example for a title class within a row */
.adw-list-box .adw-row .subtitle { font-size: var(--font-size-small); color: var(--view-fg-color); opacity: 0.7; }
.adw-list-box.flat { border: none; border-radius: 0; }

/* ADW-ACTION-ROW */
.adw-action-row { /* Extends .adw-row implicitly or explicitly if needed */
  gap: var(--spacing-m); padding-top: 12px; padding-bottom: 12px;
}
.adw-action-row.activatable { cursor: pointer; }
.adw-action-row.activatable:hover { background-color: var(--list-row-hover-bg-color); }
.adw-action-row.activatable:active { background-color: var(--list-row-active-bg-color); }
.adw-action-row .adw-action-row__prefix, .adw-action-row .adw-action-row__suffix { display: flex; align-items: center; flex-shrink: 0; }
.adw-action-row .adw-action-row__prefix .adw-icon, .adw-action-row .adw-action-row__suffix .adw-icon {
  color: var(--secondary-fg-color); font-size: 16px; width: 16px; height: 16px;
  display: inline-flex; align-items: center; justify-content: center;
}
.adw-action-row .adw-action-row__content { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; min-width: 0; }
.adw-action-row .adw-action-row__title {
  font-size: var(--font-size-base); color: var(--text-color); /* Use text-color not window-fg-color for general rows */
  font-weight: normal; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.adw-action-row .adw-action-row__subtitle {
  font-size: var(--font-size-small); color: var(--secondary-fg-color);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: var(--spacing-xxs);
}
.adw-action-row .adw-action-row__suffix .adw-action-row-chevron.adw-icon { opacity: var(--icon-opacity, 0.7); }
.adw-action-row.destructive-action .adw-action-row__title { color: var(--destructive-color); }

/* ADW-ENTRY-ROW */
.adw-entry-row { /* Extends .adw-row or has similar base */
  gap: var(--spacing-m); padding-top: var(--spacing-s); padding-bottom: var(--spacing-s);
}
.adw-entry-row .adw-entry-row__text-content { display: flex; flex-direction: column; justify-content: center; }
.adw-entry-row .adw-entry-row__title { font-size: var(--font-size-base); font-weight: normal; color: var(--text-color); }
.adw-entry-row .adw-entry-row__subtitle { font-size: var(--font-size-small); color: var(--secondary-fg-color); opacity: 0.7; }
.adw-entry-row .adw-entry-row__entry.adw-entry, .adw-entry-row .adw-entry-row__entry.adw-textarea {
  flex-grow: 1; --entry-background-color: transparent; --entry-border-color: transparent;
  --entry-border-width: 0; --entry-box-shadow: none;
  --entry-padding-vertical: var(--spacing-xs); --entry-padding-horizontal: 0; min-width: 100px;
}
.adw-entry-row .adw-entry-row__entry.adw-entry:focus, .adw-entry-row .adw-entry-row__entry.adw-textarea:focus,
.adw-entry-row .adw-entry-row__entry.adw-entry:focus-visible, .adw-entry-row .adw-entry-row__entry.adw-textarea:focus-visible {
  --entry-border-color: var(--accent-color); --entry-border-width: 0 0 2px 0;
  --entry-background-color: transparent; --entry-box-shadow: none;
}
.adw-entry-row[disabled] .adw-entry-row__title, .adw-entry-row[disabled] .adw-entry-row__subtitle,
.adw-entry-row:disabled .adw-entry-row__title, .adw-entry-row:disabled .adw-entry-row__subtitle {
  opacity: var(--opacity-disabled); color: var(--disabled-fg-color);
}
.adw-entry-row .adw-entry-row__prefix, .adw-entry-row .adw-entry-row__suffix { display: flex; align-items: center; }

/* ADW-EXPANDER-ROW */
.adw-expander-row-wrapper:not(:last-child) { border-bottom: var(--border-width) solid var(--borders-color); }
.adw-expander-row .adw-expander-row-header.adw-action-row { cursor: pointer; }
.adw-expander-row .adw-expander-row-header.adw-action-row .adw-expander-row-chevron.adw-icon {
  transition: transform 0.15s ease-in-out; transform: rotate(-90deg); /* Pointing right by default */
  opacity: var(--icon-opacity, 0.7); font-size: 0.8em; display: flex; align-items: center;
}
.adw-expander-row .adw-expander-row-header.adw-action-row.expanded .adw-expander-row-chevron.adw-icon { transform: rotate(0deg); } /* Pointing down when expanded */
.adw-expander-row .adw-expander-row-content-area {
  padding: var(--spacing-m) var(--spacing-l) var(--spacing-m) var(--spacing-xl);
  background-color: var(--expander-content-bg-color);
  border-top: var(--border-width) solid var(--borders-color); display: none;
}
.adw-expander-row .adw-expander-row-content-area.visible { display: block; }
.adw-list-box > .adw-expander-row:last-child .adw-expander-row-content-area {
  border-bottom-left-radius: var(--border-radius-default);
  border-bottom-right-radius: var(--border-radius-default);
}

/* ADW-COMBO-ROW */
.adw-combo-row { /* Extends .adw-row or has similar base */
  justify-content: space-between; gap: var(--spacing-m);
}
.adw-combo-row .adw-combo-row__text-content { flex-grow: 0; flex-shrink: 1; display: flex; flex-direction: column; justify-content: center; overflow: hidden; }
.adw-combo-row .adw-combo-row__title { /* Inherits from .adw-action-row__title or similar */ }
.adw-combo-row .adw-combo-row__subtitle { font-size: var(--font-size-small); opacity: 0.7; /* Inherits or similar */ }
.adw-combo-row .adw-combo-row__select { /* This is the <select> element */
  background-color: transparent; border: none; border-bottom: 1px solid var(--borders-color);
  border-radius: 0; padding: var(--spacing-xxs) 0; font-size: inherit; color: inherit;
  flex-grow: 1; min-width: 100px;
}
.adw-combo-row .adw-combo-row__select:focus { outline: none; border-bottom-color: var(--accent-color); }
.adw-combo-row .adw-combo-row__select:disabled {
  border-bottom-color: var(--borders-color); border-bottom-style: dashed;
  opacity: var(--opacity-disabled); color: var(--disabled-fg-color); background-color: transparent; cursor: not-allowed;
}

/* ADW-SWITCH & ADW-SWITCH-ROW */
.adw-switch { position: relative; display: inline-block; width: 44px; height: 24px; flex-shrink: 0; }
.adw-switch input { opacity: 0; width: 0; height: 0; }
.adw-switch input:checked + .adw-switch-slider { background-color: var(--accent-bg-color); }
.adw-switch input:checked + .adw-switch-slider:before { transform: translateX(20px); }
.adw-switch input:disabled:not(:checked) + .adw-switch-slider { background-color: var(--switch-slider-disabled-off-bg-color); cursor: not-allowed; }
.adw-switch input:disabled:not(:checked) + .adw-switch-slider:before { background-color: var(--switch-knob-disabled-bg-color); box-shadow: none; }
.adw-switch input:disabled:checked + .adw-switch-slider { background-color: var(--accent-bg-color); opacity: var(--opacity-disabled); cursor: not-allowed; }
.adw-switch input:disabled:checked + .adw-switch-slider:before { background-color: var(--switch-knob-bg-color); box-shadow: none; }
.adw-switch input:focus-visible + .adw-switch-slider { outline: 2px solid var(--accent-color); outline-offset: 2px; border-radius: 12px; }
.adw-switch .adw-switch-slider {
  position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
  background-color: var(--switch-slider-off-bg-color); border-radius: 12px;
  transition: background-color 0.15s ease-out, transform 0.15s ease-out, opacity 0.15s ease-out;
}
.adw-switch .adw-switch-slider:before {
  position: absolute; content: ""; height: 20px; width: 20px; left: 2px; bottom: 2px;
  background-color: var(--switch-knob-bg-color); border-radius: 50%;
  transition: transform 0.15s ease-out, background-color 0.15s ease-out;
  box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
.adw-switch-row { /* Extends .adw-row or has similar base */
  justify-content: space-between; gap: var(--spacing-m);
}
.adw-switch-row .adw-action-row__text { /* Re-use action row text content structure */
  flex-grow: 1; display: flex; flex-direction: column; justify-content: center; overflow: hidden;
}
.adw-switch-row .adw-action-row__title { font-size: var(--font-size-base); font-weight: normal; color: var(--text-color); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.adw-switch-row .adw-action-row__subtitle { font-size: var(--font-size-small); color: var(--text-color-secondary); opacity: 0.7; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.adw-switch-row .adw-switch-row__switch { flex-shrink: 0; display: flex; align-items: center; }
.adw-switch-row[disabled] .adw-action-row__title, .adw-switch-row[disabled] .adw-action-row__subtitle,
.adw-switch-row.disabled .adw-action-row__title, .adw-switch-row.disabled .adw-action-row__subtitle {
  color: var(--disabled-fg-color); opacity: var(--opacity-disabled);
}

/* ADW-CHECKBOX & ADW-RADIO */
.adw-checkbox, .adw-radio { display: inline-flex; align-items: center; cursor: pointer; user-select: none; gap: var(--spacing-s); }
.adw-checkbox input[type=checkbox], .adw-radio input[type=radio] { position: absolute; opacity: 0; width: 0; height: 0; }
.adw-checkbox .adw-checkbox-indicator, .adw-radio .adw-radio-indicator {
  width: 18px; height: 18px; border-width: var(--border-width); border-style: solid; border-color: var(--input-border-color);
  background-color: var(--input-bg-color); position: relative; transition: background-color 0.1s ease-out, border-color 0.1s ease-out; flex-shrink: 0;
}
.adw-checkbox .adw-checkbox-indicator { border-radius: var(--border-radius-medium); }
.adw-radio .adw-radio-indicator { border-radius: 50%; border-width: 2px; } /* Radios often have thicker border or different style */
.adw-checkbox input[type=checkbox]:checked + .adw-checkbox-indicator,
.adw-radio input[type=radio]:checked + .adw-radio-indicator { background-color: var(--accent-bg-color); border-color: var(--accent-bg-color); }
.adw-checkbox input[type=checkbox]:checked + .adw-checkbox-indicator:before {
  content: ""; display: block; width: 5px; height: 9px; border-style: solid; border-color: var(--accent-fg-color);
  border-width: 0 2px 2px 0; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -60%) rotate(45deg);
}
.adw-radio input[type=radio]:checked + .adw-radio-indicator:before {
  content: ""; display: block; width: 8px; height: 8px; border-radius: 50%; background-color: var(--accent-fg-color);
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
}
.adw-checkbox input[type=checkbox]:disabled + .adw-checkbox-indicator,
.adw-radio input[type=radio]:disabled + .adw-radio-indicator {
  background-color: var(--input-disabled-bg-color); border-color: var(--input-disabled-border-color); cursor: not-allowed;
}
.adw-checkbox input[type=checkbox]:disabled + .adw-checkbox-indicator:before,
.adw-radio input[type=radio]:disabled + .adw-radio-indicator:before { border-color: transparent; background-color: transparent; }
.adw-checkbox input[type=checkbox]:disabled:checked + .adw-checkbox-indicator,
.adw-radio input[type=radio]:disabled:checked + .adw-radio-indicator {
  background-color: var(--accent-bg-color); border-color: var(--accent-bg-color); opacity: var(--opacity-disabled);
}
.adw-checkbox input[type=checkbox]:disabled:checked + .adw-checkbox-indicator:before,
.adw-radio input[type=radio]:disabled:checked + .adw-radio-indicator:before { border-color: var(--accent-fg-color); background-color: var(--accent-fg-color); }
.adw-checkbox input[type=checkbox]:focus-visible + .adw-checkbox-indicator,
.adw-radio input[type=radio]:focus-visible + .adw-radio-indicator { outline: 2px solid var(--accent-color); outline-offset: 2px; }
.adw-checkbox .adw-checkbox-label, .adw-radio .adw-radio-label { color: var(--text-color); line-height: 1.2; }
.adw-checkbox[disabled] .adw-checkbox-label, .adw-radio[disabled] .adw-radio-label,
.adw-checkbox:disabled .adw-checkbox-label, .adw-radio:disabled .adw-radio-label { /* Handle element disable too */
  color: var(--disabled-fg-color); cursor: not-allowed;
}

/* ADW-LABEL */
.adw-label {
  display: inline; font-family: var(--document-font-family); font-size: var(--font-size-base);
  font-weight: 400; color: var(--text-color); line-height: 1.5;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  margin-bottom: var(--spacing-xs); /* Useful if it's a block-like label */
}
.adw-label.selectable { user-select: text; }
.adw-label.muted { color: var(--text-color-secondary); font-size: var(--font-size-small); }
.adw-label.bold { font-weight: 700; }
.adw-label.title-1 { font-size: var(--font-size-h1); font-weight: 700; color: var(--heading-color); line-height: 1.2; margin-bottom: var(--spacing-m); }
.adw-label.title-2 { font-size: var(--font-size-h2); font-weight: 700; color: var(--heading-color); line-height: 1.2; margin-bottom: var(--spacing-s); }
.adw-label.title-3 { font-size: var(--font-size-h3); font-weight: 700; color: var(--heading-color); line-height: 1.3; margin-bottom: var(--spacing-xs); }
.adw-label.title-4 { font-size: var(--font-size-h4); font-weight: 700; color: var(--heading-color); line-height: 1.3; margin-bottom: var(--spacing-xs); }
label.adw-label { cursor: default; } /* For <label> elements with this class */
.adw-label-block { display: block; }

/* ADW-ICON */
.adw-icon { display: inline-flex; align-items: center; justify-content: center; width: 1em; height: 1em; vertical-align: middle; }
.adw-icon > svg { width: 100%; height: 100%; fill: currentColor; }
.adw-icon.adw-icon-error { color: var(--destructive-color); font-weight: bold; /* Example for a specific icon type */ }

/* ADW-AVATAR */
.adw-avatar {
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: 50%; overflow: hidden; background-color: var(--button-bg-color); /* Fallback bg */
  color: var(--text-color); font-weight: bold; vertical-align: middle; user-select: none; box-sizing: border-box;
}
.adw-avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }
.adw-avatar .adw-avatar-text { color: var(--text-color); text-align: center; line-height: 1; }
.adw-avatar.size-tiny { width: 16px; height: 16px; font-size: 0.6rem; }
.adw-avatar.size-small { width: 24px; height: 24px; font-size: 0.75rem; }
.adw-avatar.size-medium { width: 48px; height: 48px; font-size: 1.5rem; }
.adw-avatar.size-large { width: 72px; height: 72px; font-size: 2.25rem; }
.adw-avatar.size-huge { width: 96px; height: 96px; font-size: 3rem; }

/* ADW-SPINNER */
.adw-spinner {
  display: inline-block; width: 24px; height: 24px; border-radius: 50%;
  border-width: 3px; border-style: solid; border-color: var(--divider-color); /* Track color */
  border-top-color: var(--accent-color); /* Spinner active color */
  animation: adw-spinner-spin 0.75s linear infinite; vertical-align: middle;
}
.adw-spinner.small { width: 16px; height: 16px; border-width: 2px; }
.adw-spinner.large { width: 36px; height: 36px; border-width: 4px; }
@media (prefers-reduced-motion: reduce) { .adw-spinner { animation: none; } }
@keyframes adw-spinner-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* ADW-PROGRESS-BAR */
.adw-progress-bar {
  width: 100%; height: 6px; background-color: var(--progress-bar-track-color);
  border-radius: 3px; overflow: hidden; position: relative;
}
.adw-progress-bar .adw-progress-bar-value {
  height: 100%; background-color: var(--progress-bar-fill-color);
  width: 0%; transition: width 0.15s ease-out; border-radius: 3px;
}
.adw-progress-bar[disabled] { opacity: var(--opacity-disabled); cursor: not-allowed; }
.adw-progress-bar.indeterminate .adw-progress-bar-value { width: 100% !important; background-color: transparent; }
.adw-progress-bar.indeterminate:before {
  content: ""; position: absolute; top: 0; left: 0; height: 100%; width: 30%;
  background-color: var(--accent-bg-color); border-radius: 3px;
  animation: adw-progress-indeterminate 1.5s infinite ease-in-out;
}
@keyframes adw-progress-indeterminate {
  0% { left: -35%; width: 30%; } 50% { left: 50%; width: 40%; } 100% { left: 105%; width: 30%; }
}

/* ADW-TOAST */
.adw-toast {
  background-color: var(--toast-bg-color); color: var(--toast-fg-color);
  padding: var(--spacing-s) var(--spacing-m); border-radius: var(--border-radius-large);
  box-shadow: var(--toast-box-shadow); display: flex; align-items: center;
  justify-content: space-between; gap: var(--spacing-s); width: max-content;
  max-width: 400px; min-height: 36px; opacity: 0;
  transform: translateY(100%) scale(0.9);
  transition: opacity 0.15s cubic-bezier(0.0, 0.0, 0.2, 1), transform 0.15s cubic-bezier(0.0, 0.0, 0.2, 1);
  will-change: transform, opacity; position: fixed; bottom: var(--spacing-xl); left: 50%; z-index: 1500; /* High z-index */
  /* transform: translateX(-50%) translateY(100%) scale(0.9); Initially off-screen below */
}
.adw-toast.visible { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
.adw-toast.hiding { opacity: 0; transform: translateX(-50%) translateY(100%) scale(0.9); transition-duration: 0.1s; transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1); }
.adw-toast .adw-toast-content-wrapper { flex-grow: 1; display: flex; align-items: center; min-width: 0; }
.adw-toast .adw-toast-title { font-size: var(--font-size-base); font-weight: normal; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; line-height: 1.3; }
.adw-toast .adw-toast-action-button.adw-button { flex-shrink: 0; margin-left: var(--spacing-xs); }
.adw-toast .adw-toast-action-button.adw-button.flat { color: var(--accent-color); /* Or specific toast action color */ }
.adw-toast .adw-toast-action-button.adw-button.flat:hover { background-color: rgba(255,255,255,0.1); /* Adjust for dark/light toast bg */ }
.adw-toast .adw-toast-close-button.adw-button { flex-shrink: 0; margin-left: var(--spacing-s); color: var(--text-color-secondary); /* Adjust for toast fg */ }
.adw-toast .adw-toast-close-button.adw-button .adw-icon svg { width: 1em; height: 1em; }
.adw-toast .adw-toast-close-button.adw-button:hover { color: var(--toast-fg-color); background-color: rgba(255,255,255,0.1); /* Adjust for dark/light toast bg */ }

/* ADW-BANNER (for Flashed Messages) */
.flash-message-base { /* Based on AdwBanner */
  padding: var(--spacing-s) var(--spacing-m);
  margin-bottom: var(--spacing-m); /* From base.html */
  border-radius: var(--border-radius-lg);
  border: var(--border-width) solid transparent;
  font-size: var(--font-size-base); /* AdwBanner uses base font size */
  display: flex; align-items: center; gap: var(--spacing-s);
}
.flash-message-danger, .flash-message-error {
  background-color: var(--destructive-color); /* Strong red background */
  color: #ffffff; /* White text on strong red */
  border-color: var(--destructive-color); /* Match background for a solid look or use a shade */
}
/* Dark theme specific for destructive flash messages if needed for better contrast */
:root.theme-dark .flash-message-danger, :root.theme-dark .flash-message-error {
  background-color: var(--destructive-bg-color); /* Using the theme-dark destructive variables */
  color: var(--destructive-fg-color);
  border-color: var(--destructive-border-color);
}

.flash-message-success {
  background-color: var(--success-bg-color);
  color: var(--success-fg-color);
  border-color: var(--success-color); /* Use success-color for border */
}
/* Dark theme success often uses same colors as light for strong emphasis */

.flash-message-warning {
  background-color: var(--warning-bg-color); /* Adwaita warning yellow */
  color: var(--warning-fg-color); /* Usually dark text on yellow */
  border-color: var(--warning-color);
}
/* Dark theme warning often uses same colors as light */

.flash-message-info, .flash-message-message {
  background-color: var(--accent-bg-color); /* Adwaita accent blue for info */
  color: var(--accent-fg-color);
  border-color: var(--accent-color);
}
/* Dark theme info often uses same colors as light */


/* ADW-DIALOG */
.adw-dialog {
  background-color: var(--dialog-bg-color); color: var(--dialog-fg-color);
  border-radius: var(--window-radius); box-shadow: var(--dialog-box-shadow);
  padding: var(--spacing-l); width: 90%; max-width: 550px;
  position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.95);
  z-index: var(--z-index-dialog); opacity: 0;
  transition: opacity 0.15s ease-out, transform 0.15s ease-out;
}
.adw-dialog[hidden] { display: none !important; } /* Ensure hidden attribute works */
.adw-dialog.open { opacity: 1; transform: translate(-50%, -50%) scale(1); } /* If not using hidden */
.adw-dialog .adw-dialog__header {
    padding-bottom: var(--spacing-m);
    margin-bottom: var(--spacing-m);
    border-bottom: 1px solid var(--divider-color);
}
.adw-dialog .adw-dialog__header .adw-header-bar__title {
    font-size: var(--font-size-h3); /* Match title-3 style for dialog titles */
    font-weight: bold;
}
.adw-dialog .adw-dialog__content { margin-bottom: var(--spacing-l); line-height: 1.6; }
.adw-dialog .adw-dialog__actions { display: flex; justify-content: flex-end; gap: var(--spacing-s); } /* Reduced gap for dialog buttons */
.adw-dialog .adw-dialog__actions .adw-button { margin-left: 0; }
.adw-dialog .adw-dialog__actions form { display: inline; } /* For delete button form */

.adw-dialog-backdrop {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background-color: var(--dialog-backdrop-color); z-index: var(--z-index-dialog-backdrop);
  opacity: 0; transition: opacity 0.15s ease-out;
}
.adw-dialog-backdrop.open { opacity: 1; }

/* ADW-POPOVER */
:host(adw-popover) { z-index: 1200; } /* Ensure higher than most elements */
.adw-popover-surface {
  background-color: var(--popover-bg-color); border-radius: var(--popover-border-radius);
  box-shadow: var(--popover-box-shadow); padding: var(--popover-padding);
  position: relative; opacity: 1; transform: scale(1);
}
.adw-popover-arrow {
  position: absolute; width: var(--arrow-size); height: var(--arrow-size);
  background-color: var(--popover-bg-color); transform-origin: center center;
}
.adw-popover-arrow::before {
  content: ""; position: absolute; width: 100%; height: 100%;
  background-color: inherit; transform: rotate(45deg);
}
.adw-popover-surface .adw-list-box { background-color: transparent; border: none; box-shadow: none; padding: var(--spacing-xs) 0; }
.adw-popover-surface .adw-list-box .adw-row,
.adw-popover-surface .adw-list-box adw-action-row, /* If custom elements are used */
.adw-popover-surface .adw-list-box adw-entry-row {
  padding: var(--spacing-s) var(--spacing-m); border-radius: var(--border-radius-small);
}
.adw-popover-surface .adw-list-box .adw-row:hover,
.adw-popover-surface .adw-list-box adw-action-row:hover,
.adw-popover-surface .adw-list-box adw-entry-row:hover { background-color: var(--list-row-hover-bg-color); }
.adw-popover-surface .adw-list-box .adw-row.active, .adw-popover-surface .adw-list-box .adw-row:focus, .adw-popover-surface .adw-list-box .adw-row:focus-within,
.adw-popover-surface .adw-list-box adw-action-row.active, .adw-popover-surface .adw-list-box adw-action-row:focus, .adw-popover-surface .adw-list-box adw-action-row:focus-within,
.adw-popover-surface .adw-list-box adw-entry-row.active, .adw-popover-surface .adw-list-box adw-entry-row:focus, .adw-popover-surface .adw-list-box adw-entry-row:focus-within {
  background-color: var(--accent-bg-color); color: var(--accent-fg-color);
}
.adw-popover-surface .adw-list-box .adw-row.active > *, .adw-popover-surface .adw-list-box .adw-row:focus > *, .adw-popover-surface .adw-list-box .adw-row:focus-within > *,
.adw-popover-surface .adw-list-box adw-action-row.active > *, .adw-popover-surface .adw-list-box adw-action-row:focus > *, .adw-popover-surface .adw-list-box adw-action-row:focus-within > *,
.adw-popover-surface .adw-list-box adw-entry-row.active > *, .adw-popover-surface .adw-list-box adw-entry-row:focus > *, .adw-popover-surface .adw-list-box adw-entry-row:focus-within > * {
  color: var(--accent-fg-color); /* Ensure children also inherit color */
}

/* ADW-TAB-VIEW, ADW-TAB-BAR, ADW-TAB-BUTTON, ADW-TAB-PAGE */
.adw-tab-view {
  display: flex; flex-direction: column; background-color: var(--window-bg-color);
  border: 1px solid var(--headerbar-border-color); border-radius: var(--border-radius-default); overflow: hidden;
}
.adw-tab-bar {
  display: flex; align-items: flex-end; background-color: var(--headerbar-bg-color);
  padding: 0 var(--spacing-xs); border-bottom: 1px solid var(--headerbar-border-color);
  overflow-x: auto; scrollbar-width: thin;
}
.adw-tab-view > .adw-tab-bar { /* Specific for tab bar inside tab view */
  border-top-left-radius: var(--border-radius-default); border-top-right-radius: var(--border-radius-default);
  border-bottom-width: 0; border-left: none; border-right: none; border-top: none;
  padding-left: var(--spacing-s); padding-right: var(--spacing-s);
}
.adw-tab-bar .adw-tab-bar-button-container { display: flex; align-items: flex-end; }
.adw-tab-bar .adw-tab-bar-new-tab-button { margin-left: var(--spacing-s); margin-bottom: var(--spacing-xs); align-self: center; }
.adw-tab-button {
  display: inline-flex; align-items: center; padding: var(--spacing-s) var(--spacing-m);
  border: 1px solid transparent; border-radius: var(--border-radius-default) var(--border-radius-default) 0 0;
  cursor: pointer; user-select: none; background-color: transparent; /* Flat by default */
  color: var(--text-color-secondary); margin-right: var(--spacing-xxs); margin-bottom: -1px; /* Overlap border */
  position: relative; max-width: 200px;
}
.adw-tab-button:hover { background-color: var(--button-flat-hover-bg-color); color: var(--text-color); }
.adw-tab-button.active {
  background-color: var(--window-bg-color); color: var(--accent-color); font-weight: bold;
  border-color: var(--headerbar-border-color); border-bottom-color: var(--window-bg-color); /* Hide bottom border */
  z-index: 1;
}
.adw-tab-button:focus-visible { outline: 2px solid var(--accent-bg-color); outline-offset: -2px; z-index: 2; }
.adw-tab-button .adw-tab-button-content-wrapper { display: flex; align-items: center; gap: var(--spacing-xs); overflow: hidden; }
.adw-tab-button .adw-tab-button-icon { flex-shrink: 0; }
.adw-tab-button .adw-tab-button-icon svg { width: 1em; height: 1em; }
.adw-tab-button .adw-tab-button-label { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.adw-tab-button .adw-tab-button-close { padding: var(--spacing-xxs) !important; margin-left: var(--spacing-xs); opacity: 0.7; }
.adw-tab-button .adw-tab-button-close:hover { opacity: 1; }
.adw-tab-button .adw-tab-button-close .icon svg { width: 0.7em; height: 0.7em; }
.adw-tab-view > .adw-tab-view-pages-container { flex-grow: 1; position: relative; overflow: auto; }
.adw-tab-view > .adw-tab-view-pages-container > .adw-tab-page,
adw-tab-page > .adw-tab-page { /* For slotted content */
  padding: var(--spacing-l); background-color: var(--window-bg-color);
  height: 100%; box-sizing: border-box; display: none; /* Hide pages by default */
}
.adw-tab-view > .adw-tab-view-pages-container > .adw-tab-page.active,
adw-tab-page.active > .adw-tab-page { /* Show active page */
  display: block;
}

/* ADW-TOOLBAR-VIEW */
.adw-toolbar-view { display: flex; flex-direction: column; height: 100%; background-color: var(--window-bg-color); }
.adw-toolbar-view .adw-toolbar-view-top-bar, .adw-toolbar-view .adw-toolbar-view-bottom-bar { flex-shrink: 0; }
.adw-toolbar-view .adw-toolbar-view-top-bar > ::slotted(header), /* For slotted elements */
.adw-toolbar-view .adw-toolbar-view-top-bar > header { /* For direct children */
  border-bottom: 1px solid var(--headerbar-border-color);
}
.adw-toolbar-view .adw-toolbar-view-bottom-bar > ::slotted(footer),
.adw-toolbar-view .adw-toolbar-view-bottom-bar > footer,
.adw-toolbar-view .adw-toolbar-view-bottom-bar > ::slotted(.adw-action-bar), /* Common class for action bars */
.adw-toolbar-view .adw-toolbar-view-bottom-bar > .adw-action-bar {
  border-top: 1px solid var(--headerbar-border-color);
}
.adw-toolbar-view .adw-toolbar-view-content { flex-grow: 1; overflow-y: auto; }

/* ADW-VIEW-SWITCHER */
.adw-view-switcher { display: flex; flex-direction: column; }
.adw-view-switcher-bar {
  display: flex; justify-content: flex-start; background-color: transparent;
  border-bottom: var(--border-width) solid var(--headerbar-border-color); /* Match headerbar */
  gap: var(--spacing-xs);
}
.adw-view-switcher-bar.inline-switcher { /* For inline style like GNOME Settings */
  border: 1px solid var(--button-border-color); border-radius: var(--border-radius-default);
  padding: var(--spacing-xxs); width: max-content; gap: 0; background-color: var(--button-bg-color);
}
.adw-view-switcher-bar.inline-switcher .adw-button {
  border: none !important; border-radius: var(--border-radius-small) !important;
  padding: var(--spacing-xs) var(--spacing-s); margin-bottom: 0;
  background-color: transparent; color: var(--button-fg-color); opacity: 1; box-shadow: none !important;
}
.adw-view-switcher-bar.inline-switcher .adw-button:hover { background-color: var(--button-flat-hover-bg-color) !important; color: var(--button-fg-color) !important; }
.adw-view-switcher-bar.inline-switcher .adw-button.active { background-color: var(--accent-bg-color) !important; color: var(--accent-fg-color) !important; font-weight: 500; }
.adw-view-switcher-bar:not(.inline-switcher) .adw-button { /* Default tab-like style */
  background-color: transparent; border: var(--border-width) solid transparent; border-bottom: none;
  border-radius: var(--border-radius-default) var(--border-radius-default) 0 0;
  padding: var(--spacing-s) var(--spacing-m); margin-right: var(--spacing-xs);
  margin-bottom: calc(-1 * var(--border-width)); box-shadow: none;
  color: var(--text-color-secondary); opacity: 0.8;
}
.adw-view-switcher-bar:not(.inline-switcher) .adw-button:hover { background-color: var(--button-hover-bg-color); color: var(--text-color); opacity: 1; }
.adw-view-switcher-bar:not(.inline-switcher) .adw-button.active {
  background-color: var(--window-bg-color); color: var(--accent-color); font-weight: bold;
  border-color: var(--headerbar-border-color); border-bottom-color: transparent; opacity: 1;
}
.adw-view-switcher-content {
  padding: var(--spacing-m); background-color: var(--window-bg-color);
  border: var(--border-width) solid var(--headerbar-border-color); border-top: none;
  border-radius: 0 0 var(--border-radius-default) var(--border-radius-default);
}
.adw-view-switcher-content > * { display: none; }
.adw-view-switcher-content > *.active-view { display: block; }

/* ADW-SPIN-BUTTON */
.adw-spin-button {
  display: inline-flex; align-items: center; border: var(--border-width) solid var(--input-border-color);
  border-radius: var(--border-radius-default); background-color: var(--input-bg-color);
  overflow: hidden; font-size: var(--font-size-base);
}
.adw-spin-button.disabled, .adw-spin-button[disabled] { opacity: var(--opacity-disabled); pointer-events: none; border-color: var(--input-disabled-border-color); }
.adw-spin-button.disabled .adw-spin-button-entry, .adw-spin-button[disabled] .adw-spin-button-entry { background-color: var(--input-disabled-bg-color); color: var(--input-disabled-fg-color); }
.adw-spin-button.disabled .adw-spin-button-control.adw-button, .adw-spin-button[disabled] .adw-spin-button-control.adw-button { background-color: var(--button-disabled-bg-color); color: var(--button-disabled-fg-color); opacity: 1; }
.adw-spin-button .adw-spin-button-entry.adw-entry { /* Assuming .adw-entry is used inside */
  border: none; border-radius: 0; box-shadow: none; background-color: transparent;
  padding-right: var(--spacing-xxs); height: auto; min-height: auto; flex-grow: 1; width: auto;
}
.adw-spin-button .adw-spin-button-entry.adw-entry:focus, .adw-spin-button .adw-spin-button-entry.adw-entry:focus-visible { box-shadow: none; }
.adw-spin-button .adw-spin-button-buttons { display: flex; flex-direction: column; align-self: stretch; box-sizing: border-box; }
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-control.adw-button {
  background-color: var(--button-bg-color); border: none; border-radius: 0;
  padding: var(--spacing-xxs) var(--spacing-xs); min-height: 0; height: 50%;
  box-sizing: border-box; line-height: 1; box-shadow: none;
  display: flex; align-items: center; justify-content: center; color: var(--button-fg-color);
}
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-control.adw-button .adw-icon { width: 1em; height: 1em; margin: 0; }
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-control.adw-button:hover:not(:disabled) { background-color: var(--button-hover-bg-color); }
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-control.adw-button:active:not(:disabled) { background-color: var(--button-active-bg-color); }
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-control.adw-button:disabled { background-color: var(--button-disabled-bg-color); color: var(--button-disabled-fg-color); opacity: 0.6; }
.adw-spin-button .adw-spin-button-buttons .adw-spin-button-up.adw-button { border-bottom: var(--border-width) solid var(--button-border-color); }
.adw-spin-button:focus-within { border-color: var(--input-focus-border-color); box-shadow: 0 0 0 var(--focus-ring-width) var(--input-focus-border-color); }
.adw-spin-button.row-input { /* Style for spin button in a row, similar to .adw-entry.row-input */
  border-width: 0 0 1px 0; border-radius: 0; background-color: transparent;
}
.adw-spin-button.row-input .adw-spin-button-entry.adw-entry { background-color: transparent; padding-left: 0; }
.adw-spin-button.row-input .adw-spin-button-buttons .adw-spin-button-control.adw-button { background-color: transparent; color: var(--text-color-secondary); }
.adw-spin-button.row-input .adw-spin-button-buttons .adw-spin-button-control.adw-button:hover:not(:disabled) { background-color: var(--button-flat-hover-bg-color); color: var(--text-color); }
.adw-spin-button.row-input .adw-spin-button-buttons .adw-spin-button-control.adw-button:active:not(:disabled) { background-color: var(--button-flat-active-bg-color); }
.adw-spin-button.row-input .adw-spin-button-buttons .adw-spin-button-up.adw-button { border-bottom-color: var(--border-color); }
.adw-spin-button.row-input:focus-within { outline: none; border-bottom-color: var(--input-focus-border-color); border-bottom-width: 2px; box-shadow: none; }
.adw-spin-button.row-input.disabled, .adw-spin-button.row-input[disabled] { border-bottom-style: dashed; border-bottom-color: var(--input-disabled-border-color); }
.adw-spin-button.row-input.disabled .adw-spin-button-entry.adw-entry,
.adw-spin-button.row-input.disabled .adw-spin-button-buttons .adw-spin-button-control.adw-button,
.adw-spin-button.row-input[disabled] .adw-spin-button-entry.adw-entry,
.adw-spin-button.row-input[disabled] .adw-spin-button-buttons .adw-spin-button-control.adw-button {
  background-color: transparent !important; color: var(--input-disabled-fg-color) !important;
}

/* ADW-STATUS-PAGE */
.adw-status-page {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  text-align: center; padding: var(--spacing-xxl) var(--spacing-xl);
  height: 100%; box-sizing: border-box; color: var(--text-color); background-color: var(--window-bg-color);
}
.adw-status-page .adw-status-page-icon.adw-icon { font-size: 4.5rem; margin-bottom: var(--spacing-l); color: var(--text-color-secondary); }
.adw-status-page .adw-status-page-title {
  font-size: var(--font-size-h2); font-weight: 700; /* Use heading-font-weight if defined */
  margin-top: 0; margin-bottom: var(--spacing-s); color: var(--heading-color);
}
.adw-status-page .adw-status-page-description {
  font-size: var(--font-size-large); color: var(--text-color); opacity: 0.7;
  max-width: 450px; line-height: 1.65; margin-top: 0; margin-bottom: var(--spacing-xl);
}
.adw-status-page .adw-status-page-actions { display: flex; flex-direction: column; align-items: center; gap: var(--spacing-s); }

/* ADW-PREFERENCES-PAGE & GROUP */
.adw-preferences-page { padding: var(--spacing-l) var(--spacing-xl); }
.adw-preferences-page .adw-preferences-page__header { margin-bottom: var(--spacing-xl); }
.adw-preferences-page .adw-preferences-page__title {
  font-size: var(--font-size-h1); font-weight: 700; /* Use heading-font-weight */
  color: var(--heading-color); margin: 0;
}
.adw-preferences-group { margin-bottom: var(--spacing-xl); }
.adw-preferences-group .adw-preferences-group__title-container { margin-bottom: var(--spacing-m); }
.adw-preferences-group .adw-preferences-group__title {
  font-size: var(--font-size-h3); font-weight: 700; /* Use heading-font-weight */
  color: var(--heading-color); margin: 0;
}

/* ADW-SPLIT-BUTTON */
.adw-split-button {
  display: inline-flex; align-items: stretch; border-radius: var(--border-radius-default);
  font-size: var(--font-size-base); vertical-align: middle;
  background-color: var(--button-bg-color); border: var(--border-width) solid var(--button-border-color);
  color: var(--button-fg-color); box-shadow: none;
}
.adw-split-button:focus-within { outline: var(--focus-ring-width) solid var(--focus-ring-color); outline-offset: 2px; }
.adw-split-button .adw-split-button-action {
  padding: var(--spacing-s) var(--spacing-m); /* Match .adw-button padding */
  cursor: pointer; text-align: center; flex-grow: 1;
  border-radius: var(--border-radius-default) 0 0 var(--border-radius-default);
  transition: background-color 0.15s ease-in-out; color: inherit; background-color: transparent; border: none;
}
.adw-split-button .adw-split-button-action:hover { background-color: var(--button-hover-bg-color); }
.adw-split-button .adw-split-button-action:active { background-color: var(--button-active-bg-color); }
.adw-split-button .adw-split-button-action:focus, .adw-split-button .adw-split-button-action:focus-visible { outline: none; }
.adw-split-button .adw-split-button-dropdown {
  display: flex; align-items: center; justify-content: center;
  padding: var(--spacing-s) var(--spacing-xs); /* Slightly less horizontal padding for dropdown arrow */
  cursor: pointer; border-left: var(--border-width) solid var(--button-border-color);
  border-radius: 0 var(--border-radius-default) var(--border-radius-default) 0;
  transition: background-color 0.15s ease-in-out; color: inherit; background-color: transparent; border: none;
}
.adw-split-button .adw-split-button-dropdown .adw-icon { width: 12px; height: 12px; } /* Assuming a dropdown arrow icon */
.adw-split-button .adw-split-button-dropdown:hover { background-color: var(--button-hover-bg-color); }
.adw-split-button .adw-split-button-dropdown:active { background-color: var(--button-active-bg-color); }
.adw-split-button .adw-split-button-dropdown:focus, .adw-split-button .adw-split-button-dropdown:focus-visible { outline: none; }
.adw-split-button.suggested-action { background-color: var(--accent-bg-color); color: var(--accent-fg-color); border-color: transparent; }
.adw-split-button.suggested-action .adw-split-button-action:hover { background-color: var(--accent-bg-hover-color); }
.adw-split-button.suggested-action .adw-split-button-action:active { background-color: var(--accent-bg-active-color); }
.adw-split-button.suggested-action .adw-split-button-dropdown { border-left-color: var(--accent-bg-active-color); /* Or a slightly darker shade of accent */ }
.adw-split-button.suggested-action .adw-split-button-dropdown:hover { background-color: var(--accent-bg-hover-color); }
.adw-split-button.suggested-action .adw-split-button-dropdown:active { background-color: var(--accent-bg-active-color); }
.adw-split-button.destructive-action { background-color: var(--destructive-color); color: #ffffff; border-color: transparent; }
.adw-split-button.destructive-action .adw-split-button-action:hover { background-color: var(--destructive-bg-hover-color); }
.adw-split-button.destructive-action .adw-split-button-action:active { background-color: var(--destructive-bg-active-color); }
.adw-split-button.destructive-action .adw-split-button-dropdown { border-left-color: var(--destructive-bg-active-color); /* Or a darker shade */ }
.adw-split-button.destructive-action .adw-split-button-dropdown:hover { background-color: var(--destructive-bg-hover-color); }
.adw-split-button.destructive-action .adw-split-button-dropdown:active { background-color: var(--destructive-bg-active-color); }
.adw-split-button[disabled], .adw-split-button.disabled {
  background-color: var(--button-disabled-bg-color); color: var(--button-disabled-fg-color);
  border-color: var(--button-disabled-border-color); opacity: var(--opacity-disabled); cursor: not-allowed; pointer-events: all !important;
}
.adw-split-button[disabled] .adw-split-button-action, .adw-split-button[disabled] .adw-split-button-dropdown,
.adw-split-button.disabled .adw-split-button-action, .adw-split-button.disabled .adw-split-button-dropdown {
  background-color: transparent !important; color: inherit !important; cursor: not-allowed; pointer-events: none;
}
.adw-split-button[disabled] .adw-split-button-dropdown, .adw-split-button.disabled .adw-split-button-dropdown { border-left-color: var(--button-disabled-border-color); }
.adw-split-button[disabled].suggested-action, .adw-split-button.disabled.suggested-action { background-color: var(--accent-bg-color); border-color: transparent; }
.adw-split-button[disabled].suggested-action .adw-split-button-dropdown, .adw-split-button.disabled.suggested-action .adw-split-button-dropdown { border-left-color: var(--accent-bg-active-color); }
.adw-split-button[disabled].destructive-action, .adw-split-button.disabled.destructive-action { background-color: var(--destructive-color); border-color: transparent; }
.adw-split-button[disabled].destructive-action .adw-split-button-dropdown, .adw-split-button.disabled.destructive-action .adw-split-button-dropdown { border-left-color: var(--destructive-bg-active-color); }

/* ADW-TOGGLE-GROUP */
.adw-toggle-group { display: inline-flex; border-radius: var(--border-radius-default); gap: 1px; }
.adw-toggle-group.linked { border: var(--border-width) solid var(--button-border-color); overflow: hidden; }
.adw-toggle-group.linked .adw-button { border-radius: 0; border-right-width: 0; border-left-width: 0; margin-left: 0; }
.adw-toggle-group.linked .adw-button:first-child { border-top-left-radius: var(--border-radius-default); border-bottom-left-radius: var(--border-radius-default); border-left-width: var(--border-width); }
.adw-toggle-group.linked .adw-button:last-child { border-top-right-radius: var(--border-radius-default); border-bottom-right-radius: var(--border-radius-default); border-right-width: var(--border-width); }
.adw-toggle-group.linked .adw-button:not(:last-child) { border-right: var(--border-width) solid var(--button-border-color); }
.adw-toggle-group.linked .adw-button:focus, .adw-toggle-group.linked .adw-button:focus-visible { position: relative; z-index: 1; outline: none; }
.adw-toggle-group.flat { background-color: transparent; border: none; }
.adw-toggle-group.flat:not(.linked) { gap: var(--spacing-xs); }
.adw-toggle-group.flat.linked { border: none; }
.adw-toggle-group.flat.linked .adw-button { border-color: transparent; }
.adw-toggle-group.flat.linked .adw-button:not(:last-child) { border-right: var(--border-width) solid var(--divider-color); }
.adw-toggle-group.flat.linked .adw-button:not(.active) { background-color: transparent; }
.adw-toggle-group.round, .adw-toggle-group.round.linked { border-radius: var(--pill-button-border-radius); }
.adw-toggle-group.round .adw-button { border-radius: 0; }
.adw-toggle-group.round .adw-button:first-child { border-top-left-radius: var(--pill-button-border-radius); border-bottom-left-radius: var(--pill-button-border-radius); }
.adw-toggle-group.round .adw-button:last-child { border-top-right-radius: var(--pill-button-border-radius); border-bottom-right-radius: var(--pill-button-border-radius); }
.adw-toggle-group.vertical { flex-direction: column; border-radius: var(--border-radius-default); }
.adw-toggle-group.vertical.linked .adw-button { border-right-width: var(--border-width); border-bottom-width: 0; border-left-width: var(--border-width); }
.adw-toggle-group.vertical.linked .adw-button:first-child { border-top-left-radius: var(--border-radius-default); border-top-right-radius: var(--border-radius-default); border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
.adw-toggle-group.vertical.linked .adw-button:last-child { border-bottom-left-radius: var(--border-radius-default); border-bottom-right-radius: var(--border-radius-default); border-bottom-width: var(--border-width); }
.adw-toggle-group.vertical.linked .adw-button:not(:last-child) { border-bottom: var(--border-width) solid var(--button-border-color); }
.adw-toggle-group.vertical.round, .adw-toggle-group.vertical.round.linked { border-radius: var(--pill-button-border-radius); }
.adw-toggle-group.vertical.round .adw-button:first-child { border-top-left-radius: var(--pill-button-border-radius); border-top-right-radius: var(--pill-button-border-radius); border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
.adw-toggle-group.vertical.round .adw-button:last-child { border-bottom-left-radius: var(--pill-button-border-radius); border-bottom-right-radius: var(--pill-button-border-radius); border-top-left-radius: 0; border-top-right-radius: 0; }
.adw-toggle-group.vertical.flat.linked .adw-button:not(:last-child) { border-right: var(--border-width) solid transparent; border-bottom: var(--border-width) solid var(--divider-color); }

/* ADW-BOX, ADW-CARD, ADW-WRAP-BOX, ADW-CLAMP, ADW-WINDOW */
.adw-box { display: flex; }
.adw-box.adw-box-vertical { flex-direction: column; }
.adw-box.align-start { align-items: flex-start; }
.adw-box.align-center { align-items: center; }
.adw-box.align-end { align-items: flex-end; }
.adw-box.align-stretch { align-items: stretch; }
.adw-box.justify-start { justify-content: flex-start; }
.adw-box.justify-center { justify-content: center; }
.adw-box.justify-end { justify-content: flex-end; }
.adw-box.justify-between { justify-content: space-between; }
.adw-box.justify-around { justify-content: space-around; }
.adw-box.justify-evenly { justify-content: space-evenly; }
.adw-box.adw-box-spacing-xs { gap: var(--spacing-xs); }
.adw-box.adw-box-spacing-s { gap: var(--spacing-s); }
.adw-box.adw-box-spacing-m { gap: var(--spacing-m); }
.adw-box.adw-box-spacing-l { gap: var(--spacing-l); }
.adw-box.adw-box-spacing-xl { gap: var(--spacing-xl); }
.adw-box.adw-box-fill-children > * { flex-grow: 1; flex-basis: 0; }
.adw-card {
  background-color: var(--card-bg-color); color: var(--card-fg-color);
  border-radius: var(--border-radius-large); padding: var(--spacing-l);
  box-shadow: 0 0 0 1px var(--border-color), 0 4px 8px -2px rgba(0,0,0,0.1), 0 3px 6px rgba(0,0,0,0.08);
}
.theme-dark .adw-card { box-shadow: 0 0 0 1px var(--border-color), 0 4px 8px -2px rgba(0,0,0,0.25), 0 3px 6px rgba(0,0,0,0.2); }
.adw-wrap-box { display: flex; flex-wrap: wrap; flex-direction: row; gap: var(--spacing-m); align-items: flex-start; align-content: flex-start; justify-content: flex-start; }
.adw-wrap-box.vertical { flex-direction: column; }
/* Spacing classes for wrap-box */
.adw-wrap-box.spacing-none { gap: 0; }
.adw-wrap-box.spacing-xxs { gap: var(--spacing-xxs); }
.adw-wrap-box.spacing-xs { gap: var(--spacing-xs); }
.adw-wrap-box.spacing-s { gap: var(--spacing-s); }
.adw-wrap-box.spacing-l { gap: var(--spacing-l); }
.adw-wrap-box.spacing-xl { gap: var(--spacing-xl); }
.adw-wrap-box.spacing-xxl { gap: var(--spacing-xxl); }
/* Align and Justify for wrap-box */
.adw-wrap-box.align-start { align-items: flex-start; }
.adw-wrap-box.align-center { align-items: center; }
.adw-wrap-box.align-end { align-items: flex-end; }
.adw-wrap-box.align-stretch { align-items: stretch; }
.adw-wrap-box.align-baseline { align-items: baseline; }
.adw-wrap-box.content-start { align-content: flex-start; }
.adw-wrap-box.content-center { align-content: center; }
.adw-wrap-box.content-end { align-content: flex-end; }
.adw-wrap-box.content-stretch { align-content: stretch; }
.adw-wrap-box.content-space-between { align-content: space-between; }
.adw-wrap-box.content-space-around { align-content: space-around; }
.adw-wrap-box.justify-start { justify-content: flex-start; }
.adw-wrap-box.justify-center { justify-content: center; }
.adw-wrap-box.justify-end { justify-content: flex-end; }
.adw-clamp { display: flex; justify-content: center; width: 100%; }
.adw-clamp.scrollable { overflow-y: auto; overflow-x: hidden; }
.adw-clamp .adw-clamp-child-wrapper { width: 100%; /* Max-width is set by clamp component logic/JS */ }
.adw-window {
  background-color: var(--window-bg-color); color: var(--window-fg-color);
  border-radius: var(--window-radius);
  box-shadow: 0 0 0 1px var(--border-color), 0 8px 16px -4px rgba(0,0,0,0.15), 0 6px 12px rgba(0,0,0,0.1);
  display: flex; flex-direction: column; overflow: hidden;
}
.adw-window > .adw-header-bar:first-child { border-top-left-radius: var(--window-radius); border-top-right-radius: var(--window-radius); }
.adw-window .adw-window-content { padding: var(--spacing-l); flex-grow: 1; }
.theme-dark .adw-window { box-shadow: 0 0 0 1px var(--border-color), 0 8px 16px -4px rgba(0,0,0,0.3), 0 6px 12px rgba(0,0,0,0.25); }


/* Styles from base.html - Form Errors and Flashed Messages */
.form-error-text,
.error-row .adw-action-row__subtitle, /* Target subtitle within an error-row */
.adw-entry-row.has-error .adw-entry-row__subtitle,
.errors /* Legacy class from create_post, ensure it uses Adwaita vars */ {
  color: var(--destructive-fg-color, var(--destructive-color));
  font-size: var(--font-size-small);
}

.adw-entry-row.has-error .adw-entry, /* Assuming .adw-entry is used for inputs */
.adw-entry.error /* General error class for inputs */ {
  border-color: var(--destructive-color) !important; /* Highlight entry border */
}
.adw-entry.error:focus, .adw-entry.error:focus-visible {
  box-shadow: var(--_entry-inset-shadow), 0 0 0 var(--focus-ring-width) var(--destructive-color) !important;
}


/* Flashed Messages (Styled like Adwaita Banners/Notifications) */
.flash-message-base {
  padding: var(--spacing-s) var(--spacing-m); /* Adjusted padding from AdwBanner */
  margin-bottom: var(--spacing-m); /* From base.html */
  border-radius: var(--border-radius-lg);
  border: var(--border-width) solid transparent;
  font-size: var(--font-size-base); /* AdwBanner uses base font size */
  display: flex; align-items: center; gap: var(--spacing-s);
}

.flash-message-danger, .flash-message-error {
  background-color: var(--destructive-color); /* Strong red background */
  color: #ffffff; /* White text on strong red */
  border-color: var(--destructive-color); /* Match background for a solid look or use a shade */
}
/* Dark theme specific for destructive flash messages if needed for better contrast */
:root.theme-dark .flash-message-danger, :root.theme-dark .flash-message-error {
  background-color: var(--destructive-bg-color); /* Using the theme-dark destructive variables */
  color: var(--destructive-fg-color);
  border-color: var(--destructive-border-color);
}

.flash-message-success {
  background-color: var(--success-bg-color);
  color: var(--success-fg-color);
  border-color: var(--success-color); /* Use success-color for border */
}
/* Dark theme success often uses same colors as light for strong emphasis */

.flash-message-warning {
  background-color: var(--warning-bg-color); /* Adwaita warning yellow */
  color: var(--warning-fg-color); /* Usually dark text on yellow */
  border-color: var(--warning-color);
}
/* Dark theme warning often uses same colors as light */

.flash-message-info, .flash-message-message {
  background-color: var(--accent-bg-color); /* Adwaita accent blue for info */
  color: var(--accent-fg-color);
  border-color: var(--accent-color);
}
/* Dark theme info often uses same colors as light */


/* Ensure main content area has some padding if not already part of adw-page */
.adw-page > .main-content-clamped {
    padding: var(--spacing-l) var(--spacing-xl); /* Example padding */
    /* max-width: 1200px; Example max-width for clamped content - already in .content-clamp */
    margin-left: auto;
    margin-right: auto;
}

/* Styles for index.html specific classes */
.content-clamp { /* This might be redundant if adw-page or main-content-clamped already does this */
  max-width: 900px; /* Default for index */
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--spacing-m);
  padding-right: var(--spacing-m);
}
.post-view.content-clamp { /* Specific max-width for single post view */
    max-width: 800px;
}


.centered-title {
  text-align: center;
  margin-bottom: var(--spacing-l);
}

.blog-posts-list { /* This is an adw-list-box */
  margin-bottom: var(--spacing-xl);
}

.blog-post-item { /* This is an adw-action-row */
  align-items: flex-start; /* Align items to the start for multi-line content */
}
.blog-post-item:not(:last-child) { /* Ensure separation if .adw-list-box doesn't handle it for .adw-action-row */
    border-bottom: var(--border-width) solid var(--list-separator-color);
}


.blog-post-item__content { /* This is an .adw-action-row-content */
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: var(--spacing-xs);
  width: 100%; /* Take full available width */
}

.blog-post-item__title a { /* This is an .adw-action-row-title > a */
  text-decoration: none;
  color: var(--link-color);
  font-size: var(--font-size-large); /* Make titles a bit larger */
  font-weight: bold; /* Titles are often bold */
}
.blog-post-item__title a:hover {
  color: var(--link-hover-color);
  text-decoration: underline;
}

.blog-post-item__meta { /* This is an .adw-action-row-subtitle */
  display: flex;
  flex-direction: column;
  gap: var(--spacing-s);
  color: var(--text-color-secondary);
  font-size: var(--font-size-small);
  width: 100%; /* Ensure it takes width for proper alignment */
}

.post-meta { /* Paragraph within the subtitle */
  margin-bottom: 0; /* Remove default p margin */
}
.post-meta a {
    color: var(--link-color); /* Standard link color for author */
    text-decoration: none;
}
.post-meta a:hover {
    text-decoration: underline;
}


.post-excerpt { /* Paragraph within the subtitle */
  margin-bottom: 0; /* Remove default p margin */
  color: var(--text-color); /* Standard text color for excerpt, not secondary */
  line-height: 1.6;
}

.post-categories-list,
.tags-summary {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--spacing-xs);
}

.bold-caption.adw-label.caption { /* Make caption labels bold */
  font-weight: bold;
  color: var(--text-color-secondary); /* Captions are often secondary */
}

.small-button.adw-button.flat { /* Specificity to override default button padding */
  padding: var(--spacing-xxs) var(--spacing-xs);
  font-size: var(--font-size-small);
  min-height: auto; /* Allow smaller height */
  line-height: 1.4; /* Adjust line height for smaller font */
  font-weight: normal; /* Flat buttons are often normal weight */
}

.blog-post-item__suffix { /* This is an .adw-action-row-suffix */
  margin-left: var(--spacing-m);
  align-self: center; /* Vertically center the "Details" button */
}

.pagination-nav {
  margin-top: var(--spacing-xl);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--spacing-xs);
}
.pagination-nav .adw-button.flat[disabled] { /* For ellipsis */
    cursor: default;
    min-width: auto; /* Remove extra width */
    padding: var(--spacing-xs); /* Minimal padding for ellipsis */
    color: var(--text-color-secondary); /* Muted color for ellipsis */
}

.textual-icon { /* For the status page icon if SVG isn't used */
  font-size: 4.5rem; /* From inline style */
  margin-bottom: var(--spacing-l); /* From inline style */
  opacity: 0.7; /* From inline style */
  color: var(--text-color-secondary);
}

/* Styles for post.html */
.post-header {
    margin-bottom: var(--spacing-l);
}
.post-header .title-1 { /* h1 in post.html */
    margin-bottom: var(--spacing-s);
}
.draft-indicator {
    color: var(--text-color-secondary);
    font-size: var(--font-size-large);
    font-weight: normal;
}
.post-meta-detail {
    color: var(--text-color-secondary);
    font-size: var(--font-size-small);
    margin-bottom: var(--spacing-s); /* Space after meta block */
}
.post-meta-detail p {
    margin-bottom: var(--spacing-xxs);
}
.post-meta-detail .last-updated {
    margin-top: var(--spacing-xxs);
}
.post-terms { /* Common class for categories and tags sections */
    margin-top: var(--spacing-s);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    align-items: center;
}
.post-terms .adw-label.caption.bold-caption {
    margin-right: var(--spacing-xs);
}
.post-content {
    margin-top: var(--spacing-l);
    margin-bottom: var(--spacing-xl);
    line-height: 1.7;
    font-size: var(--font-size-base); /* Ensure consistent body font size */
}
.post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6 {
    margin-top: var(--spacing-l);
    margin-bottom: var(--spacing-s);
    font-family: var(--document-font-family); /* Ensure they don't accidentally inherit a different heading font */
}
.post-content p {
    margin-bottom: var(--spacing-m);
}
.post-content ul, .post-content ol {
    margin-bottom: var(--spacing-m);
    padding-left: var(--spacing-l); /* Standard list indentation */
}
.post-content blockquote {
    margin-left: 0; /* Reset browser default */
    padding-left: var(--spacing-m);
    border-left: 3px solid var(--divider-color);
    color: var(--text-color-secondary);
    font-style: italic;
    margin-bottom: var(--spacing-m);
}
.post-content pre {
    background-color: var(--headerbar-bg-color);
    padding: var(--spacing-s);
    border-radius: var(--border-radius-medium);
    overflow-x: auto;
    font-family: var(--monospace-font-family);
    font-size: var(--font-size-small);
    margin-bottom: var(--spacing-m);
}
.author-bio-section.adw-card { /* .adw-card provides base, this class for overrides/additions */
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
}
.author-bio-section .title-3 { /* "About Author" heading */
    margin-top: 0;
    margin-bottom: var(--spacing-m);
}
.author-bio-content.adw-box { /* The flex container for avatar and text */
    align-items: flex-start;
}
.author-bio-text-content { /* Wrapper for bio text and profile link */
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}
.author-bio-text {
    font-size: var(--font-size-base);
    color: var(--text-color);
    margin-top: 0;
    margin-bottom:var(--spacing-s);
    white-space: pre-wrap;
}
.author-bio-text-placeholder {
    font-size: var(--font-size-base);
    color: var(--text-color-secondary);
    margin-top:0;
}
.view-profile-button.adw-button.flat {
    align-self: flex-start;
    margin-top: var(--spacing-s);
}

.share-buttons-section {
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
}
.share-buttons-section .title-4 { /* "Share this post:" heading */
    margin-bottom: var(--spacing-s);
}
.share-buttons-container.adw-box {
    flex-wrap: wrap;
    gap: var(--spacing-s);
}

.post-actions {
    margin-top: var(--spacing-l); /* Space above edit/delete buttons */
    margin-bottom: var(--spacing-l);
    display: flex;
    gap: var(--spacing-s);
}
#delete-post-form {
    display: inline;
}

.section-divider { /* For the <hr> */
    margin: var(--spacing-xl) 0;
    border: 0;
    border-top: var(--border-width) solid var(--divider-color);
}

.comments-section {
    margin-bottom: var(--spacing-xl);
}
.comments-section .title-2 { /* h2 for "Comments" */
    margin-bottom: var(--spacing-l);
}
.comments-list.adw-list-box .comment-card { /* Each comment is an adw-box vertical */
    padding: var(--spacing-m);
    border-bottom: 1px solid var(--divider-color); /* Use divider-color for subtle separation */
}
.adw-list-box .comment-card:last-child {
    border-bottom: none;
}
.comment-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-xs);
}
.comment-author-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-s);
}
.comment-author-info strong a {
    color: var(--text-color); /* Emphasize author name */
    font-weight: bold;
    text-decoration: none;
}
.comment-author-info strong a:hover {
    text-decoration: underline;
}
.comment-timestamp {
    font-size: var(--font-size-small); /* Smaller than 0.85em for consistency */
    color: var(--text-color-secondary);
}
.comment-text {
    white-space: pre-wrap; /* Preserve line breaks */
    margin-left: calc(var(--avatar-size-medium, 48px) + var(--spacing-s)); /* Align with text, after avatar */
    margin-bottom: var(--spacing-s);
    line-height: 1.6;
}
.comment-delete-form {
    margin-left: calc(var(--avatar-size-medium, 48px) + var(--spacing-s));
    text-align: right;
}
.adw-button.compact { /* For smaller buttons if needed, e.g., delete comment */
    padding: var(--spacing-xxs) var(--spacing-xs); /* Example of compact padding */
}


.comment-form-section {
    margin-top: var(--spacing-xl);
}
.comment-form-container.adw-preferences-group .adw-preferences-group__title.title-3 {
    /* Uses existing title-3 style */
}
.comment-form-container .form-fields-box.adw-list-box {
    background-color: transparent;
    border: none; /* Remove list-box border if it's just for layout */
}
.comment-form-container .adw-entry-row { /* For textarea row */
    padding-top: var(--spacing-xs);
    padding-bottom: var(--spacing-xs);
}
.comment-form-container .adw-entry-row__suffix-widget { /* Ensure textarea takes full width in its slot */
    width: 100%;
}
.comment-form-container .adw-textarea.content-textarea { /* Re-use content-textarea for comment box */
    min-height: 100px; /* Smaller min-height for comments */
}
.comment-form-container .form-submit-row.adw-action-row {
    justify-content: flex-end; /* Align submit button to the right */
    padding-top: var(--spacing-m);
}

.login-prompt-comment {
    margin-top: var(--spacing-xl);
}
.login-prompt-comment p {
    font-size: var(--font-size-base);
}

.navigation-buttons { /* For Back to Posts button container */
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
}

/* Styles for create_post.html & edit_profile.html forms */
.content-clamp.profile-edit-clamp {
    max-width: 700px;
}
.profile-bio-textarea, .content-textarea { /* Shared class for textareas */
    width: 100%;
    min-height: 150px;
    resize: vertical;
}
.content-textarea { /* Specific to post content */
    min-height: 250px;
}
.form-field-error {
    color: var(--destructive-fg-color, var(--destructive-color));
    font-size: var(--font-size-small);
    margin-top: var(--spacing-xxs);
    display: block;
}
.checkbox-label-container {
    display: flex;
    align-items: center;
}
.category-checkbox-label.adw-label {
    margin-left: var(--spacing-s);
    vertical-align: middle;
}
.form-actions-container {
    display: flex;
    justify-content: flex-end;
    gap: var(--spacing-s);
    padding-top: var(--spacing-m);
    padding-bottom: var(--spacing-m);
    border-top: 1px solid var(--divider-color);
    margin-top: var(--spacing-l);
}
/* Styles for edit_profile.html specific elements */
.profile-photo-action-row .adw-action-row__suffix-widget {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-s);
}
.hidden-file-input {
    display: none !important;
}
.cropper-container-wrapper {
    margin-top: var(--spacing-s);
    max-width: 100%;
    width: 300px;
    height: 300px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-medium);
    overflow: hidden;
}
.cropper-container-wrapper[hidden] {
    display: none !important;
}
.cropper-container-wrapper img {
    display: block;
    max-width: 100%;
    height: auto;
}
.current-photo-display {
    margin-top: var(--spacing-s);
    display: flex;
    align-items: center;
    gap: var(--spacing-s);
}
.current-photo-display .adw-label.caption {
    color: var(--text-color-secondary);
}
.adw-switch-row .adw-action-row__text {
    flex-grow: 1;
}
.adw-switch-row .adw-switch-row__switch {
    margin-left: var(--spacing-m);
}

/*# sourceMappingURL=adwaita-skin.css.map */
