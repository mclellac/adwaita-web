{% extends "base.html" %}
{% block title %}Edit Profile - {{ super() }}{% endblock %}
{% block content %}
<div class="main-content-clamped">
    <h2>Edit Profile</h2>
    <form method="POST" action="{{ url_for('edit_profile') }}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="profile_info_field">Profile Information</label>
            <textarea name="profile_info" id="profile_info_field" class="adw-entry" rows="8">{{ current_user.profile_info or '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="profile_photo_field">Profile Photo</label>
            <input type="file" name="profile_photo" id="profile_photo_field" accept="image/*">
            {# Removed class="adw-entry" as it's not suitable for file inputs #}
            {# Consider adding custom styling for file inputs in custom.css if needed #}
        </div>

        {% if current_user.profile_photo_url %}
        <div class="form-group">
            <label>Current Photo</label>
            <img src="{{ url_for('static', filename=current_user.profile_photo_url) }}" alt="Current profile photo" class="avatar-image" style="max-width: 100px; height: auto; border-radius: var(--border-radius-default); margin-top: var(--spacing-xs);">
        </div>
        {% endif %}

        <div class="form-button-container">
            <adw-button type="submit" appearance="suggested">Save Profile</adw-button>
            <adw-button href="{{ url_for('profile', username=current_user.username) }}">Cancel</adw-button>
        </div>
    </form>
</div>
{% endblock %}
