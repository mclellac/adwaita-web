{% extends "base.html" %}

{% block title %}Create New Post{% endblock %}

{% block content %}
<div class="main-content-clamped">
    <h2>Create New Post</h2>
    <form method="POST" action="{{ url_for('create_post') }}" novalidate>
        {{ form.hidden_tag() }} {# CSRF token #}

        <div class="form-group">
            {{ form.title.label(for=form.title.id or 'title_field') }}
            {{ form.title(class_='adw-entry', id=form.title.id or 'title_field', placeholder='Enter post title', **{'aria-describedby': form.title.id ~ '-errors' if form.title.errors else None}) }}
            {% if form.title.errors %}
                <div id="{{ form.title.id or 'title_field' }}-errors" class="errors" style="color: var(--error-color); font-size: var(--font-size-small); margin-top: var(--spacing-xs);">
                    {% for error in form.title.errors %}<span>{{ error }}</span><br>{% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.content.label(for=form.content.id or 'content_field') }}
            {{ form.content(class_='adw-entry', rows='15', id=form.content.id or 'content_field', placeholder='Write your blog post here...', **{'aria-describedby': form.content.id ~ '-errors' if form.content.errors else None}) }}
            {% if form.content.errors %}
                <div id="{{ form.content.id or 'content_field' }}-errors" class="errors" style="color: var(--error-color); font-size: var(--font-size-small); margin-top: var(--spacing-xs);">
                    {% for error in form.content.errors %}<span>{{ error }}</span><br>{% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-button-container">
            {{ form.submit(class_='adw-button suggested-action') }}
        </div>
    </form>
</div>
{% endblock %}
