{% extends "base.html" %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
<div style="margin-bottom: var(--spacing-xl, 32px);"> {# Provides some top/bottom margin #}
    <h1 class="page-title" style="text-align: center; margin-bottom: var(--spacing-l, 24px); font-size: var(--font-size-xxl, 1.5rem);">All Blog Posts</h1>
    <div style="text-align: center; margin-bottom: var(--spacing-m);">
        <adw-spinner size="large" id="index-loading-spinner"></adw-spinner>
    </div>

    {% if posts %}
        <div class="blog-posts-container"> {# More semantic container name #}
            {% for post in posts %}
            <div class="blog-post-card">
                <h3><a href="{{ url_for('view_post', post_id=post.id) }}" class="post-title">{{ post.title }}</a></h3>
                <p class="post-meta">
                    By: {{ post.author.username if post.author else 'Unknown Author' }}
                    on {{ post.created_at.strftime('%Y-%m-%d') if post.created_at else 'Unknown date' }}
                </p>
                {% if post.content %}
                <p class="post-excerpt">
                    {{ post.content | truncate(100, True) }} {# Show first 100 characters as excerpt #}
                </p>
                {% endif %}
                {# Optionally, a "Read More" link could be explicit if excerpt is used,
                   but title is already a link to the full post. #}
            </div>
            {% endfor %}
        </div>
    {% else %}
        <adw-status-page title="No Posts Yet" description="Be the first to create a post and share your thoughts!">
            <div slot="icon" style="font-size: 4.5rem; margin-bottom: var(--spacing-l); opacity: 0.7;">ðŸ“„</div> {# Using an emoji as a placeholder icon #}
            <div slot="actions">
                <adw-button href="{{ url_for('create_post') }}" appearance="suggested">Create a Post</adw-button>
            </div>
        </adw-status-page>
    {% endif %}
</div>
{% endblock %}
