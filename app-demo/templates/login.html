{% extends "base.html" %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="adw-clamp content-clamp auth-form-container">
    <h1 class="title-1 centered-title">Login</h1>

    {# Flashed messages are handled by base.html #}

    <form method="POST" action="{{ url_for('login') }}" id="login-form" class="stacked-form">
      {{ form.hidden_tag() }} {# CSRF token #}

      <div class="adw-preferences-group" role="group" aria-labelledby="login-group-title">
        <div class="adw-preferences-group__title-container">
             <h3 class="adw-preferences-group__title title-3" id="login-group-title">Account Credentials</h3>
        </div>

        {# Username Field #}
        <div class="adw-entry-row {{ 'has-error' if form.username.errors else '' }}">
          <label for="{{ form.username.id or 'username_input' }}" class="adw-entry-row__title">{{ form.username.label.text }}</label>
          <div class="adw-entry-row-text-content">
            {% if form.username.errors %}
              <span class="adw-entry-row__subtitle error-text">{{ form.username.errors|join(' ') }}</span>
            {% endif %}
          </div>
          <input type="text"
                 name="{{ form.username.name }}"
                 id="{{ form.username.id or 'username_input' }}"
                 class="adw-entry row-input"
                 required
                 placeholder="Enter your username"
                 value="{{ form.username.data or '' }}">
        </div>

        {# Password Field #}
        <div class="adw-entry-row {{ 'has-error' if form.password.errors else '' }}">
          <label for="{{ form.password.id or 'password_input' }}" class="adw-entry-row__title">{{ form.password.label.text }}</label>
          <div class="adw-entry-row-text-content">
            {% if form.password.errors %}
              <span class="adw-entry-row__subtitle error-text">{{ form.password.errors|join(' ') }}</span>
            {% endif %}
          </div>
          <input type="password"
                 name="{{ form.password.name }}"
                 id="{{ form.password.id or 'password_input' }}"
                 class="adw-entry row-input"
                 required
                 placeholder="Enter your password">
        </div>
      </div>

      <button type="submit" class="adw-button suggested-action full-width-button">{{ form.submit.label.text }}</button>
    </form>
</div>
{% endblock %}
